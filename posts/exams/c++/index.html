<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>C++ | Bablvsj's Blog</title><meta name=keywords content="exams"><meta name=description content="计算机信息管理专业课程 自考笔记在线更新地址 : https://github.com/Eished/self-study-exam_notes 配套代码：https://github.com/Eished/C-CPP 2019版 单选题 1分x"><meta name=author content><link rel=canonical href=https://bablvsj.github.io/posts/exams/c++/><link crossorigin=anonymous href=/assets/css/stylesheet.89e53fb10d7090a33517d83b18da1cdb3f4d7bfa546525e8b3cf5a41f9817fb5.css integrity="sha256-ieU/sQ1wkKM1F9g7GNoc2z9Ne/pUZSXos89aQfmBf7U=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://bablvsj.github.io/img/Q.gif><link rel=icon type=image/png sizes=16x16 href=https://bablvsj.github.io/img/Q.gif><link rel=icon type=image/png sizes=32x32 href=https://bablvsj.github.io/img/Q.gif><link rel=apple-touch-icon href=https://bablvsj.github.io/Q.gif><link rel=mask-icon href=https://bablvsj.github.io/Q.gif><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="C++"><meta property="og:description" content="计算机信息管理专业课程 自考笔记在线更新地址 : https://github.com/Eished/self-study-exam_notes 配套代码：https://github.com/Eished/C-CPP 2019版 单选题 1分x"><meta property="og:type" content="article"><meta property="og:url" content="https://bablvsj.github.io/posts/exams/c++/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-10-26T13:46:19+08:00"><meta property="article:modified_time" content="2022-10-26T13:46:19+08:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="C++"><meta name=twitter:description content="计算机信息管理专业课程 自考笔记在线更新地址 : https://github.com/Eished/self-study-exam_notes 配套代码：https://github.com/Eished/C-CPP 2019版 单选题 1分x"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"文章","item":"https://bablvsj.github.io/posts/"},{"@type":"ListItem","position":3,"name":"C++","item":"https://bablvsj.github.io/posts/exams/c++/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"C++","name":"C\u002b\u002b","description":"计算机信息管理专业课程 自考笔记在线更新地址 : https://github.com/Eished/self-study-exam_notes 配套代码：https://github.com/Eished/C-CPP 2019版 单选题 1分x","keywords":["exams"],"articleBody":" 计算机信息管理专业课程\n自考笔记在线更新地址 : https://github.com/Eished/self-study-exam_notes\n配套代码：https://github.com/Eished/C-CPP\n2019版 单选题 1分x20题 = 20分 填空题 1分x15题 = 15分 程序填空题 4分x5题 = 20分 程序分析题 5分x6题 = 30分 程序设计题 5分x1题 = 5分 10分x1题 = 10分 IDE 书本推荐：Dev C++ 5.11\n本人使用：VScode\n配置文件在附录\nVScode 执行完会自动关闭终端, return 前设置断点\n或者修改 launch.json 文件为 \"externalConsole\": false, 内置终端支持 utf-8 使用外置终端，utf-8 中文乱码问题, 在 vs code 修改代码的打开和保存方式\n直接就将代码保存为 gb2312。在 vs code 右下角可以看到当前文件编码方式，点击utf-8 修改打开和保存方式为 gb2312。\n学习建议 先大概看一遍全书，有整体概念，做习题时再去细看不懂的地方，重点都在内容小结部分。 习题代码写一遍，遇到不懂的再翻书或去网上查，例题代码一般不用写看懂就行。 学习本课程之前需具备较好的C语言基础（如基本的语法知识和三大程序结构等） C语言基础 标识符可以由3种字符组成：字母、下划线、数字，并且不能以数字开头，不能是C++的关键字。\n语句以分号;结束\n第一章 C++ 语言简介 C++发展历史，与C语言的异同 C++是C的一个超集，进一步扩充和完善了C，C++比C更安全。 C++是一种编译式、通用式、大小写敏感的编程语言，完全支持面向对象程序设计。 掌握C++ 程序结构，正确使用头文件及命名空间 基本输入/输出 函数声明和传参 函数重载概念 理解 const ，指针，引用，动态内存分配和释放 string 类基本功能 第一节 C++发展简史 低级语言：机器语言，汇编语言 中级语言：C语言 高级语言：面向用户，易懂、通用。 第二节 C++特点 编译式、通用、大小写敏感，支持面向对象 特点 继承和兼容C 语言，简洁高效 面向对象 一、头文件和命名空间 1.头文件 是用户应用程序和函数库之间的桥梁和纽带。作为一种包含功能函数、数据接口声明的载体文件，主要用于保存程序的声明，而定义文件用于保存程序的实现。\n头文件保存程序中用到的声明，如函数声明、常量定义等，需要使用预处理命名包含头文件#include 常用的头文件 标准输入输出流: 标准文件流: 标准字符串处理函数: 标准数学函数: 自定义头文件 \u003c\u003e: 系统设定目录寻找, 未找到再去指定目录找 “”: 用户当前目录或指定目录找 #include \"e:\\myprog\\ex1.h\" 2.命名空间 namespace 命名空间是一种将程序库名称封装起来的方法，提高了程序的性能和可靠性，可消除同名引起的冲突。 标准程序库的命名空间 using namespace std;\n1 2 3 4 namespace 命名空间名 { 命名空间内各种声明(函数声明\\类声明) } 引用命名空间标识符\n不引用命名空间, 则使用全称: 命名空间名::标识符名 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 using 命名空间名::标识符; // 单独引用 using namespace 命名空间名; // 引用整个命名空间 namespace S { int x; void FunA() { ... } } // 若访问 x，可写成 S::x； // 访问 FunA() 则为 S::FunA()； 二、基本输入/输出 标准输入 1 cin \u003e\u003e 变量1 \u003e\u003e 变量2 \u003e\u003e... \u003e\u003e 变量n; 标准输出 1 cout \u003c\u003c 表达式1 \u003c\u003c 表达式2 \u003c\u003c ...\u003c\u003c 表达式n; 头文件 1 2 #include // 头文件：输入输出流 using namespace std; // 使用命名空间 换行操作 1 用语句 cout \u003c\u003c endl; 或 cout \u003c\u003c \"\\n\"; 运算符重载后才可以使用 输入：空格、TAB、ENTER 作为分隔符\n1 2 3 4 5 6 7 8 9 10 11 #include using namespace std; int main() { int a = 1, b = 2; cin \u003e\u003e a \u003e\u003e b; cout \u003c\u003c \"Hello Vscode\\n\" \u003c\u003c a * b \u003c\u003c endl; return 0; } 输入/输出示例\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 #include #include using namespace std; int main() { int oneInt1, oneInt2; char strArray[20]; string str; double oneDouble; char oneChar = 'a'; cout \u003c\u003c \"输入两个整型值，一个字符，一个字符串，一个浮点值,\"; cout \u003c\u003c \"以空格、tab、enter 键分割\" \u003c\u003c endl; cin \u003e\u003e oneInt1 \u003e\u003e oneInt2 \u003e\u003e oneChar \u003e\u003e strArray \u003e\u003e oneDouble; str = strArray; cout \u003c\u003c \"输入的数据是:\" \u003c\u003c endl; //endl 是换行 cout \u003c\u003c \"字符串:\\t\\t\" \u003c\u003c str \u003c\u003c endl //\\t是制表符 \u003c\u003c \"两个整型值:\\t\" \u003c\u003c oneInt1 \u003c\u003c \"和\\t\" \u003c\u003c oneInt2 \u003c\u003c endl \u003c\u003c \"字符:\\t\\t\" \u003c\u003c oneChar \u003c\u003c \"\\n\" //\"\\n\"是换行符,与endl相同 \u003c\u003c \"浮点值:\\t\\t\" \u003c\u003c oneDouble \u003c\u003c endl; return 0; } cin 实现键盘输入，输入字符类型时根据变量类型自动提取相应长度字节, 数值类型数据需要分隔\ngetchar(): 获取 space\\tab\\enter 等特殊字符\n1 2 cout \u003c\u003c\"1234\\ //\"\\\" 用于连接换行的内容 566785\"\u003c","wordCount":"44585","inLanguage":"en","datePublished":"2022-10-26T13:46:19+08:00","dateModified":"2022-10-26T13:46:19+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://bablvsj.github.io/posts/exams/c++/"},"publisher":{"@type":"Organization","name":"Bablvsj's Blog","logo":{"@type":"ImageObject","url":"https://bablvsj.github.io/img/Q.gif"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://bablvsj.github.io accesskey=h title="Bablvsj's Blog (Alt + H)">Bablvsj's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://bablvsj.github.io/ title=主页><span>主页</span></a></li><li><a href=https://bablvsj.github.io/archives/ title=时间轴><span>时间轴</span></a></li><li><a href=https://bablvsj.github.io/tags title=标签><span>标签</span></a></li><li><a href=https://bablvsj.github.io/about title=关于><span>关于</span></a></li><li><a href=https://bablvsj.github.io/search title="🔍 (Alt + /)" accesskey=/><span>🔍</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>C++</h1><div class=post-meta><ul class=post-tags-meta><a href=https://bablvsj.github.io/tags/exams/>exams</a></ul>89 min&nbsp;·&nbsp;<span title='2022-10-26 13:46:19 +0800 +0800'>2022/10/26</span></div></header><aside id=toc-container class="toc-container wide"><div class=toc><div class=inner><ul><li><a href=#2019%e7%89%88 aria-label=2019版>2019版</a><ul><li><a href=#ide aria-label=IDE>IDE</a></li><li><a href=#%e5%ad%a6%e4%b9%a0%e5%bb%ba%e8%ae%ae aria-label=学习建议>学习建议</a></li></ul></li><li><a href=#c%e8%af%ad%e8%a8%80%e5%9f%ba%e7%a1%80 aria-label=C语言基础>C语言基础</a></li><li><a href=#%e7%ac%ac%e4%b8%80%e7%ab%a0-c-%e8%af%ad%e8%a8%80%e7%ae%80%e4%bb%8b aria-label="第一章 C++ 语言简介">第一章 C++ 语言简介</a><ul><li><a href=#%e7%ac%ac%e4%b8%80%e8%8a%82-c%e5%8f%91%e5%b1%95%e7%ae%80%e5%8f%b2 aria-label="第一节 C++发展简史">第一节 C++发展简史</a></li><li><a href=#%e7%ac%ac%e4%ba%8c%e8%8a%82-c%e7%89%b9%e7%82%b9 aria-label="第二节 C++特点">第二节 C++特点</a><ul><li><a href=#%e4%b8%80%e5%a4%b4%e6%96%87%e4%bb%b6%e5%92%8c%e5%91%bd%e5%90%8d%e7%a9%ba%e9%97%b4 aria-label=一、头文件和命名空间>一、头文件和命名空间</a><ul><ul><li><a href=#1%e5%a4%b4%e6%96%87%e4%bb%b6 aria-label=1.头文件>1.头文件</a></li><li><a href=#2%e5%91%bd%e5%90%8d%e7%a9%ba%e9%97%b4-namespace aria-label="2.命名空间 namespace">2.命名空间 namespace</a></li></ul></ul></li><li><a href=#%e4%ba%8c%e5%9f%ba%e6%9c%ac%e8%be%93%e5%85%a5%e8%be%93%e5%87%ba aria-label=二、基本输入/输出>二、基本输入/输出</a></li><li><a href=#%e4%b8%89%e5%87%bd%e6%95%b0%e7%9a%84%e5%ba%94%e7%94%a8 aria-label=三、函数的应用>三、函数的应用</a><ul><ul><li><a href=#1%e5%87%bd%e6%95%b0%e5%8f%82%e6%95%b0%e7%9a%84%e9%bb%98%e8%ae%a4%e5%80%bc aria-label=1.函数参数的默认值>1.函数参数的默认值</a></li><li><a href=#2%e5%bc%95%e7%94%a8%e5%92%8c%e5%87%bd%e6%95%b0%e5%8f%82%e6%95%b0%e7%9a%84%e4%bc%a0%e9%80%92 aria-label=2.引用和函数参数的传递>2.引用和函数参数的传递</a><ul><li><a href=#21-%e5%bc%95%e7%94%a8 aria-label="2.1 引用">2.1 引用</a></li><li><a href=#22-%e5%b8%b8%e5%bc%95%e7%94%a8 aria-label="2.2 常引用">2.2 常引用</a></li><li><a href=#23-%e5%bc%95%e7%94%a8%e5%9c%a8%e5%87%bd%e6%95%b0%e4%b8%ad%e4%bd%bf%e7%94%a8 aria-label="2.3 引用在函数中使用">2.3 引用在函数中使用</a></li></ul></li><li><a href=#3%e5%86%85%e8%81%94%e5%87%bd%e6%95%b0-inline-%e5%b8%b8%e8%80%83 aria-label="3.内联函数 inline （常考）">3.内联函数 inline （常考）</a></li><li><a href=#4%e5%87%bd%e6%95%b0%e7%9a%84%e9%87%8d%e8%bd%bd%e5%bf%85%e8%80%83 aria-label=4.函数的重载（必考）>4.函数的重载（必考）</a></li><li><a href=#5const-%e4%b8%8e%e6%8c%87%e9%92%88%e5%85%b1%e5%90%8c%e4%bd%bf%e7%94%a8 aria-label="5.const 与指针共同使用">5.const 与指针共同使用</a></li></ul><li><a href=#6%e6%8c%87%e9%92%88%e5%92%8c%e5%8a%a8%e6%80%81%e5%86%85%e5%ad%98%e5%88%86%e9%85%8d aria-label=6.指针和动态内存分配>6.指针和动态内存分配</a><ul><li><a href=#61-%e6%8c%87%e9%92%88 aria-label="6.1 指针">6.1 <strong>指针</strong></a></li><li><a href=#62-%e5%8a%a8%e6%80%81%e5%86%85%e5%ad%98%e5%88%86%e9%85%8d-%e5%b8%b8%e8%80%83 aria-label="6.2 动态内存分配 （常考）">6.2 动态内存分配 （常考）</a></li></ul></li><li><a href=#7%e7%94%a8-string-%e5%af%b9%e8%b1%a1%e5%a4%84%e7%90%86%e5%ad%97%e7%ac%a6%e4%b8%b2 aria-label="7.用 string 对象处理字符串">7.用 string 对象处理字符串</a><ul><li><a href=#8%e5%bc%ba%e5%88%b6%e7%b1%bb%e5%9e%8b%e8%bd%ac%e6%8d%a2 aria-label=8.强制类型转换>8.强制类型转换</a></li></ul></li></ul></li><li><a href=#%e5%9b%9b-c%e7%a8%8b%e5%ba%8f%e7%bb%93%e6%9e%84 aria-label="四、 C++程序结构">四、 C++程序结构</a></li><li><a href=#%e4%ba%94%e5%bc%ba%e5%88%b6%e7%b1%bb%e5%9e%8b%e8%bd%ac%e6%8d%a2%e8%bf%90%e7%ae%97%e7%ac%a6 aria-label=五、强制类型转换运算符>五、强制类型转换运算符</a></li></ul></li></ul></li><li><a href=#%e7%ac%ac%e4%ba%8c%e7%ab%a0-%e9%9d%a2%e5%90%91%e5%af%b9%e8%b1%a1%e7%9a%84%e5%9f%ba%e6%9c%ac%e6%a6%82%e5%bf%b5 aria-label="第二章 面向对象的基本概念">第二章 面向对象的基本概念</a><ul><li><a href=#21-%e7%bb%93%e6%9e%84%e5%8c%96%e7%a8%8b%e5%ba%8f%e8%ae%be%e8%ae%a1 aria-label="2.1 结构化程序设计">2.1 结构化程序设计</a></li><li><a href=#22-%e9%9d%a2%e5%90%91%e5%af%b9%e8%b1%a1%e6%80%9d%e6%83%b3 aria-label="2.2 面向对象思想">2.2 面向对象思想</a><ul><ul><ul><li><a href=#1%e9%9d%a2%e5%90%91%e5%af%b9%e8%b1%a1%e5%9f%ba%e7%a1%80%e7%9f%a5%e8%af%86 aria-label=1.面向对象基础知识>1.面向对象基础知识</a></li><li><a href=#2%e9%9d%a2%e5%90%91%e5%af%b9%e8%b1%a1%e7%a8%8b%e5%ba%8f%e8%ae%be%e8%ae%a1%e7%9a%84%e7%89%b9%e7%82%b9 aria-label=2.面向对象程序设计的特点>2.面向对象程序设计的特点</a></li></ul></ul></ul></li><li><a href=#23-%e7%b1%bb%e7%9a%84%e5%88%9d%e6%ad%a5%e7%9f%a5%e8%af%86 aria-label="2.3 类的初步知识">2.3 类的初步知识</a><ul><ul><ul><li><a href=#1%e7%b1%bb%e7%9a%84%e5%ae%9a%e4%b9%89 aria-label=1.类的定义>1.类的定义</a></li><li><a href=#2%e7%b1%bb%e7%9a%84%e5%ae%9a%e4%b9%89%e7%a4%ba%e4%be%8b aria-label=2.类的定义示例>2.类的定义示例</a></li></ul></ul></ul></li><li><a href=#24-%e7%b1%bb%e6%88%90%e5%91%98%e7%9a%84%e8%ae%bf%e9%97%ae aria-label="2.4 类成员的访问">2.4 类成员的访问</a><ul><ul><ul><li><a href=#1%e6%88%90%e5%91%98%e5%8f%98%e9%87%8f%e5%92%8c%e6%88%90%e5%91%98%e5%87%bd%e6%95%b0%e7%9a%84%e5%ae%9a%e4%b9%89 aria-label=1.成员变量和成员函数的定义>1.成员变量和成员函数的定义</a></li><li><a href=#2%e5%ae%9a%e4%b9%89%e5%af%b9%e8%b1%a1%e7%9a%84%e4%b8%a4%e7%a7%8d%e6%96%b9%e6%b3%95 aria-label=2.定义对象的两种方法>2.定义对象的两种方法</a></li><li><a href=#3%e4%bd%bf%e7%94%a8%e5%af%b9%e8%b1%a1%e8%ae%bf%e9%97%ae%e6%88%90%e5%91%98%e5%8f%98%e9%87%8f%e4%b8%8e%e8%b0%83%e7%94%a8%e6%88%90%e5%91%98%e5%87%bd%e6%95%b0 aria-label=3.使用对象访问成员变量与调用成员函数>3.使用对象访问成员变量与调用成员函数</a></li><li><a href=#4%e7%b1%bb%e6%88%90%e5%91%98%e7%9a%84%e5%8f%af%e8%ae%bf%e9%97%ae%e8%8c%83%e5%9b%b4 aria-label=4.类成员的可访问范围>4.类成员的可访问范围</a></li></ul></ul></ul></li></ul></li><li><a href=#%e7%ac%ac%e4%b8%89%e7%ab%a0-%e7%b1%bb%e5%92%8c%e5%af%b9%e8%b1%a1%e8%bf%9b%e9%98%b6 aria-label="第三章 类和对象进阶">第三章 类和对象进阶</a><ul><ul><ul><li><a href=#31-%e6%9e%84%e9%80%a0%e5%87%bd%e6%95%b0 aria-label="3.1 构造函数">3.1 构造函数</a><ul><li><a href=#%e6%9e%84%e9%80%a0%e5%87%bd%e6%95%b0%e7%9a%84%e5%ae%9a%e4%b9%89 aria-label=构造函数的定义>构造函数的定义</a></li><li><a href=#%e6%9e%84%e9%80%a0%e5%87%bd%e6%95%b0%e7%9a%84%e4%bd%bf%e7%94%a8 aria-label=构造函数的使用>构造函数的使用</a></li><li><a href=#%e5%a4%8d%e5%88%b6%e6%9e%84%e9%80%a0%e5%87%bd%e6%95%b0%e4%b8%8e%e7%b1%bb%e5%9e%8b%e8%bd%ac%e6%8d%a2%e6%9e%84%e9%80%a0%e5%87%bd%e6%95%b0 aria-label=复制构造函数与类型转换构造函数><strong>复制构造函数与类型转换构造函数</strong></a><ul><li><a href=#%e8%b0%83%e7%94%a8%e5%a4%8d%e5%88%b6%e6%9e%84%e9%80%a0%e5%87%bd%e6%95%b0 aria-label=调用复制构造函数>调用复制构造函数</a></li><li><a href=#%e7%b1%bb%e5%9e%8b%e8%bd%ac%e6%8d%a2%e6%9e%84%e9%80%a0%e5%87%bd%e6%95%b0 aria-label=类型转换构造函数><strong>类型转换构造函数</strong></a></li></ul></li></ul></li><li><a href=#32-%e6%9e%90%e6%9e%84%e5%87%bd%e6%95%b0 aria-label="3.2 析构函数">3.2 析构函数</a></li><li><a href=#33-%e7%b1%bb%e7%9a%84%e9%9d%99%e6%80%81%e6%88%90%e5%91%98%e5%b8%b8%e8%80%83 aria-label="3.3 类的静态成员（常考）">3.3 类的静态成员（常考）</a><ul><li><a href=#%e9%9d%99%e6%80%81%e5%8f%98%e9%87%8f aria-label=静态变量>静态变量</a></li><li><a href=#%e7%b1%bb%e7%9a%84%e9%9d%99%e6%80%81%e6%88%90%e5%91%98 aria-label=类的静态成员>类的静态成员</a><ul><li><a href=#%e9%9d%99%e6%80%81%e6%88%90%e5%91%98%e5%8f%98%e9%87%8f aria-label=静态成员变量>静态成员变量</a></li><li><a href=#%e9%9d%99%e6%80%81%e6%88%90%e5%91%98%e5%87%bd%e6%95%b0 aria-label=静态成员函数>静态成员函数</a></li></ul></li></ul></li><li><a href=#34-%e5%8f%98%e9%87%8f%e5%8f%8a%e5%af%b9%e8%b1%a1%e7%9a%84%e7%94%9f%e5%ad%98%e6%9c%9f%e5%92%8c%e4%bd%9c%e7%94%a8%e5%9f%9f aria-label="3.4 变量及对象的生存期和作用域">3.4 变量及对象的生存期和作用域</a></li><li><a href=#35-%e5%b8%b8%e9%87%8f%e6%88%90%e5%91%98%e5%92%8c%e5%b8%b8%e5%bc%95%e7%94%a8%e6%88%90%e5%91%98 aria-label="3.5 常量成员和常引用成员">3.5 常量成员和常引用成员</a><ul><li><a href=#%e7%b1%bb%e5%b8%b8%e9%87%8f%e6%88%90%e5%91%98%e5%8f%98%e9%87%8f aria-label=类常量成员变量>类常量成员变量</a></li><li><a href=#%e5%b8%b8%e9%87%8f%e5%af%b9%e8%b1%a1 aria-label=常量对象>常量对象</a></li><li><a href=#%e5%b8%b8%e9%87%8f%e5%87%bd%e6%95%b0 aria-label=常量函数>常量函数</a></li><li><a href=#%e5%b8%b8%e5%bc%95%e7%94%a8%e4%bd%9c%e4%b8%ba%e5%87%bd%e6%95%b0%e7%9a%84%e5%8f%82%e6%95%b0 aria-label=常引用作为函数的参数>常引用作为函数的参数</a></li><li><a href=#352-const%e4%bf%ae%e9%a5%b0%e6%8c%87%e9%92%88%e5%8f%98%e9%87%8f aria-label="3.5.2 const修饰指针变量">3.5.2 const修饰指针变量</a></li></ul></li><li><a href=#36-%e6%88%90%e5%91%98%e5%af%b9%e8%b1%a1%e5%92%8c%e5%b0%81%e9%97%ad%e7%b1%bb aria-label="3.6 成员对象和封闭类">3.6 成员对象和封闭类</a><ul><li><a href=#%e5%b0%81%e9%97%ad%e7%b1%bb%e6%9e%84%e9%80%a0%e5%87%bd%e6%95%b0%e5%92%8c%e5%88%9d%e5%a7%8b%e5%8c%96%e5%88%97%e8%a1%a8 aria-label=封闭类构造函数和初始化列表>封闭类构造函数和初始化列表</a></li></ul></li><li><a href=#37-%e5%8f%8b%e5%85%83 aria-label="3.7 友元">3.7 友元</a></li><li><a href=#38-this-%e6%8c%87%e9%92%88 aria-label="3.8 this 指针">3.8 this 指针</a></li></ul></ul></ul></li><li><a href=#%e7%ac%ac%e5%9b%9b%e7%ab%a0-%e8%bf%90%e7%ae%97%e7%ac%a6%e9%87%8d%e8%bd%bd aria-label="第四章 运算符重载">第四章 运算符重载</a><ul><li><a href=#%e7%ac%ac%e4%b8%80%e8%8a%82-%e8%bf%90%e7%ae%97%e7%ac%a6%e9%87%8d%e8%bd%bd%e7%9a%84%e6%a6%82%e5%bf%b5 aria-label="第一节 运算符重载的概念">第一节 运算符重载的概念</a></li><li><a href=#%e7%ac%ac%e4%ba%8c%e8%8a%82-%e9%87%8d%e8%bd%bd%e8%b5%8b%e5%80%bc%e8%bf%90%e7%ae%97%e7%ac%a6 aria-label="第二节 重载赋值运算符">第二节 重载赋值运算符</a></li><li><a href=#%e7%ac%ac%e4%b8%89%e8%8a%82-%e9%87%8d%e8%bd%bd%e6%b5%81%e6%8f%92%e5%85%a5%e8%bf%90%e7%ae%97%e7%ac%a6%e5%92%8c%e6%b5%81%e6%8f%90%e5%8f%96%e8%bf%90%e7%ae%97%e7%ac%a6 aria-label="第三节 重载流插入运算符和流提取运算符">第三节 重载流插入运算符和流提取运算符</a></li><li><a href=#%e7%ac%ac%e5%9b%9b%e8%8a%82-%e9%87%8d%e8%bd%bd%e5%bc%ba%e5%88%b6%e7%b1%bb%e5%9e%8b%e8%bd%ac%e6%8d%a2%e8%bf%90%e7%ae%97%e7%ac%a6-%e9%87%8d%e8%a6%81 aria-label="第四节 重载强制类型转换运算符 (重要)">第四节 重载强制类型转换运算符 (重要)</a></li><li><a href=#%e7%ac%ac%e4%ba%94%e8%8a%82-%e9%87%8d%e8%bd%bd%e8%87%aa%e5%a2%9e%e8%87%aa%e5%87%8f%e8%bf%90%e7%ae%97%e7%ac%a6 aria-label="第五节 重载自增、自减运算符">第五节 重载自增、自减运算符</a></li></ul></li><li><a href=#%e7%ac%ac%e4%ba%94%e7%ab%a0-%e7%b1%bb%e7%9a%84%e7%bb%a7%e6%89%bf%e4%b8%8e%e6%b4%be%e7%94%9f aria-label="第五章 类的继承与派生">第五章 类的继承与派生</a><ul><li><a href=#%e7%ac%ac%e4%b8%80%e8%8a%82-%e7%b1%bb%e7%9a%84%e7%bb%a7%e6%89%bf%e4%b8%8e%e7%b1%bb%e7%9a%84%e6%b4%be%e7%94%9f aria-label="第一节 类的继承与类的派生">第一节 类的继承与类的派生</a></li><li><a href=#%e7%ac%ac%e4%ba%8c%e8%8a%82-%e8%ae%bf%e9%97%ae%e6%8e%a7%e5%88%b6 aria-label="第二节 访问控制">第二节 访问控制</a></li><li><a href=#%e7%ac%ac%e4%b8%89%e8%8a%82-%e6%b4%be%e7%94%9f%e7%b1%bb%e7%9a%84%e6%9e%84%e9%80%a0%e5%87%bd%e6%95%b0%e5%92%8c%e6%9e%90%e6%9e%84%e5%87%bd%e6%95%b0 aria-label="第三节 派生类的构造函数和析构函数">第三节 派生类的构造函数和析构函数</a></li><li><a href=#%e7%ac%ac%e5%9b%9b%e8%8a%82-%e7%b1%bb%e4%b9%8b%e9%97%b4%e7%9a%84%e5%85%b3%e7%b3%bb aria-label="第四节 类之间的关系">第四节 类之间的关系</a></li><li><a href=#%e7%ac%ac%e4%ba%94%e8%8a%82-%e5%a4%9a%e5%b1%82%e6%ac%a1%e7%9a%84%e6%b4%be%e7%94%9f aria-label="第五节 多层次的派生">第五节 多层次的派生</a></li><li><a href=#%e7%ac%ac%e5%85%ad%e8%8a%82-%e5%9f%ba%e7%b1%bb%e4%b8%8e%e6%b4%be%e7%94%9f%e7%b1%bb%e6%8c%87%e9%92%88%e7%9a%84%e7%9b%b8%e4%ba%92%e8%bd%ac%e6%8d%a2 aria-label="第六节 基类与派生类指针的相互转换">第六节 基类与派生类指针的相互转换</a></li></ul></li><li><a href=#%e7%ac%ac%e5%85%ad%e7%ab%a0-%e5%a4%9a%e6%80%81%e4%b8%8e%e8%99%9a%e5%87%bd%e6%95%b0 aria-label="第六章 多态与虚函数">第六章 多态与虚函数</a><ul><li><a href=#%e7%ac%ac%e4%b8%80%e8%8a%82-%e5%a4%9a%e6%80%81%e7%9a%84%e5%9f%ba%e6%9c%ac%e6%a6%82%e5%bf%b5 aria-label="第一节 多态的基本概念">第一节 多态的基本概念</a></li><li><a href=#%e7%ac%ac%e4%ba%8c%e8%8a%82-%e5%a4%9a%e6%80%81%e5%ae%9e%e4%be%8b aria-label="第二节 多态实例">第二节 多态实例</a></li><li><a href=#%e7%ac%ac%e4%b8%89%e8%8a%82-%e5%a4%9a%e6%80%81%e7%9a%84%e4%bd%bf%e7%94%a8 aria-label="第三节 多态的使用">第三节 多态的使用</a></li><li><a href=#%e7%ac%ac%e5%9b%9b%e8%8a%82-%e8%99%9a%e6%9e%90%e6%9e%84%e5%87%bd%e6%95%b0 aria-label="第四节 虚析构函数">第四节 虚析构函数</a></li><li><a href=#%e7%ac%ac%e4%ba%94%e8%8a%82-%e7%ba%af%e8%99%9a%e5%87%bd%e6%95%b0%e5%92%8c%e6%8a%bd%e8%b1%a1%e7%b1%bb aria-label="第五节 纯虚函数和抽象类">第五节 纯虚函数和抽象类</a></li></ul></li><li><a href=#%e7%ac%ac%e4%b8%83%e7%ab%a0-%e8%be%93%e5%85%a5%e8%be%93%e5%87%ba%e6%b5%81 aria-label="第七章 输入/输出流">第七章 输入/输出流</a><ul><li><a href=#%e7%ac%ac%e4%b8%80%e8%8a%82-%e6%b5%81%e7%b1%bb%e7%ae%80%e4%bb%8b aria-label="第一节 流类简介">第一节 流类简介</a></li><li><a href=#%e7%ac%ac%e4%ba%8c%e8%8a%82-%e6%a0%87%e5%87%86%e6%b5%81%e5%af%b9%e8%b1%a1 aria-label="第二节 标准流对象">第二节 标准流对象</a></li><li><a href=#%e7%ac%ac%e4%b8%89%e8%8a%82-%e6%8e%a7%e5%88%b6-io-%e6%a0%bc%e5%bc%8f aria-label="第三节 控制 IO 格式">第三节 控制 IO 格式</a></li><li><a href=#%e7%ac%ac%e5%9b%9b%e8%8a%82-%e8%b0%83%e7%94%a8-cout-%e7%9a%84%e6%88%90%e5%91%98%e5%87%bd%e6%95%b0 aria-label="第四节 调用 cout 的成员函数">第四节 调用 cout 的成员函数</a></li><li><a href=#%e7%ac%ac%e4%ba%94%e8%8a%82-%e8%b0%83%e7%94%a8-cin-%e7%9a%84%e6%88%90%e5%91%98%e5%87%bd%e6%95%b0 aria-label="第五节 调用 cin 的成员函数">第五节 调用 cin 的成员函数</a></li></ul></li><li><a href=#%e7%ac%ac%e5%85%ab%e7%ab%a0-%e6%96%87%e4%bb%b6%e6%93%8d%e4%bd%9c aria-label="第八章 文件操作">第八章 文件操作</a><ul><li><a href=#%e7%ac%ac%e4%b8%80%e8%8a%82-%e6%96%87%e4%bb%b6%e5%9f%ba%e6%9c%ac%e6%a6%82%e5%bf%b5%e5%92%8c%e6%96%87%e4%bb%b6%e6%b5%81%e7%b1%bb aria-label="第一节 文件基本概念和文件流类">第一节 文件基本概念和文件流类</a></li><li><a href=#%e7%ac%ac%e4%ba%8c%e8%8a%82-%e6%89%93%e5%bc%80%e5%92%8c%e5%85%b3%e9%97%ad%e6%96%87%e4%bb%b6 aria-label="第二节 打开和关闭文件">第二节 打开和关闭文件</a></li><li><a href=#%e7%ac%ac%e4%b8%89%e8%8a%82-%e6%96%87%e4%bb%b6%e8%af%bb%e5%86%99%e6%93%8d%e4%bd%9c aria-label="第三节 文件读写操作">第三节 文件读写操作</a></li><li><a href=#%e7%ac%ac%e5%9b%9b%e8%8a%82-%e9%9a%8f%e6%9c%ba%e8%ae%bf%e9%97%ae%e6%96%87%e4%bb%b6 aria-label="第四节 随机访问文件">第四节 随机访问文件</a></li></ul></li><li><a href=#%e7%ac%ac%e4%b9%9d%e7%ab%a0-%e5%87%bd%e6%95%b0%e6%a8%a1%e6%9d%bf%e4%b8%8e%e7%b1%bb%e6%a8%a1%e6%9d%bf aria-label="第九章 函数模板与类模板">第九章 函数模板与类模板</a><ul><li><a href=#%e7%ac%ac%e4%b8%80%e8%8a%82-%e5%87%bd%e6%95%b0%e6%a8%a1%e6%9d%bf aria-label="第一节 函数模板">第一节 函数模板</a></li><li><a href=#%e7%ac%ac%e4%ba%8c%e8%8a%82-%e7%b1%bb%e6%a8%a1%e6%9d%bf aria-label="第二节 类模板">第二节 类模板</a></li></ul></li><li><a href=#%e9%99%84%e5%bd%95-vscode-%e9%85%8d%e7%bd%ae%e6%96%87%e4%bb%b6 aria-label="附录 VScode 配置文件">附录 VScode 配置文件</a><ul><li><a href=#%e7%bc%96%e8%af%91%e7%8e%af%e5%a2%83-tdm-gcc aria-label="编译环境 TDM-GCC">编译环境 TDM-GCC</a></li></ul></li><li><a href=#%e9%99%84%e5%bd%95-%e5%9f%ba%e6%9c%ac%e6%95%b0%e6%8d%ae%e7%b1%bb%e5%9e%8b aria-label="附录 基本数据类型">附录 基本数据类型</a><ul><li><a href=#%e5%9f%ba%e6%9c%ac%e7%9a%84%e5%86%85%e7%bd%ae%e7%b1%bb%e5%9e%8b aria-label=基本的内置类型>基本的内置类型</a></li><li><a href=#typedef-%e5%a3%b0%e6%98%8e aria-label="typedef 声明">typedef 声明</a></li><li><a href=#%e6%9e%9a%e4%b8%be%e7%b1%bb%e5%9e%8b aria-label=枚举类型>枚举类型</a></li></ul></li><li><a href=#%e9%99%84%e5%bd%95-cmath-%e5%b8%b8%e7%94%a8%e5%87%bd%e6%95%b0 aria-label="附录 cmath 常用函数：">附录 cmath 常用函数：</a><ul><li><a href=#%e5%8f%96%e7%bb%9d%e5%af%b9%e5%80%bc aria-label=取绝对值>取绝对值</a></li><li><a href=#%e5%90%91%e4%b8%8a%e5%8f%96%e6%95%b4%e5%92%8c%e5%90%91%e4%b8%8b%e5%8f%96%e6%95%b4 aria-label=向上取整和向下取整>向上取整和向下取整</a></li><li><a href=#%e6%ac%a1%e6%96%b9%e5%87%bd%e6%95%b0 aria-label=次方函数>次方函数</a></li><li><a href=#%e5%bc%80%e5%b9%b3%e6%96%b9%e6%a0%b9%e5%87%bd%e6%95%b0 aria-label=开平方根函数>开平方根函数</a></li><li><a href=#log%e5%87%bd%e6%95%b0 aria-label=log函数>log函数</a></li><li><a href=#%e4%b8%89%e8%a7%92%e5%87%bd%e6%95%b0 aria-label=三角函数>三角函数</a></li><li><a href=#%e5%9b%9b%e8%88%8d%e4%ba%94%e5%85%a5%e5%87%bd%e6%95%b0 aria-label=四舍五入函数>四舍五入函数</a></li></ul></li><li><a href=#%e9%99%84%e5%bd%95-%e8%bd%ac%e4%b9%89%e5%ad%97%e7%ac%a6 aria-label="附录 转义字符">附录 转义字符</a></li><li><a href=#%e9%99%84%e5%bd%95-%e8%bf%90%e7%ae%97%e7%ac%a6%e7%bb%93%e5%90%88%e6%80%a7 aria-label="附录 运算符结合性">附录 运算符结合性</a><ul><li><a href=#%e4%b8%80%e4%ba%9b%e5%ae%b9%e6%98%93%e5%87%ba%e9%94%99%e7%9a%84%e4%bc%98%e5%85%88%e7%ba%a7%e9%97%ae%e9%a2%98 aria-label=一些容易出错的优先级问题>一些容易出错的优先级问题</a></li></ul></li></ul></div></div></aside><script>let activeElement,elements;window.addEventListener("DOMContentLoaded",function(){checkTocPosition(),elements=document.querySelectorAll("h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]"),activeElement=elements[0];const t=encodeURI(activeElement.getAttribute("id")).toLowerCase();document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active")},!1),window.addEventListener("resize",function(){checkTocPosition()},!1),window.addEventListener("scroll",()=>{activeElement=Array.from(elements).find(e=>{if(getOffsetTop(e)-window.pageYOffset>0&&getOffsetTop(e)-window.pageYOffset<window.innerHeight/2)return e})||activeElement,elements.forEach(e=>{const t=encodeURI(e.getAttribute("id")).toLowerCase();e===activeElement?document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active"):document.querySelector(`.inner ul li a[href="#${t}"]`).classList.remove("active")})},!1);const main=parseInt(getComputedStyle(document.body).getPropertyValue("--article-width"),10),toc=parseInt(getComputedStyle(document.body).getPropertyValue("--toc-width"),10),gap=parseInt(getComputedStyle(document.body).getPropertyValue("--gap"),10);function checkTocPosition(){const e=document.body.scrollWidth;e-main-toc*2-gap*4>0?document.getElementById("toc-container").classList.add("wide"):document.getElementById("toc-container").classList.remove("wide")}function getOffsetTop(e){if(!e.getClientRects().length)return 0;let t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView;return t.top+n.pageYOffset}</script><div class=post-content><blockquote><p><strong>计算机信息管理专业课程</strong></p><p>自考笔记在线更新地址 : <a href=https://github.com/Eished/self-study-exam_notes>https://github.com/Eished/self-study-exam_notes</a></p><p><strong>配套代码</strong>：<a href=https://github.com/Eished/C-CPP>https://github.com/Eished/C-CPP</a></p></blockquote><h1 id=2019版>2019版<a hidden class=anchor aria-hidden=true href=#2019版>#</a></h1><ul><li>单选题<ul><li>1分x20题 = 20分</li></ul></li><li>填空题<ul><li>1分x15题 = 15分</li></ul></li><li>程序填空题<ul><li>4分x5题 = 20分</li></ul></li><li>程序分析题<ul><li>5分x6题 = 30分</li></ul></li><li>程序设计题<ul><li>5分x1题 = 5分</li><li>10分x1题 = 10分</li></ul></li></ul><h2 id=ide>IDE<a hidden class=anchor aria-hidden=true href=#ide>#</a></h2><ul><li><p>书本推荐：Dev C++ 5.11</p></li><li><p>本人使用：VScode</p><ul><li><p>配置文件在附录</p></li><li><p>VScode 执行完会自动关闭终端, return 前设置断点</p><ul><li>或者修改 <code>launch.json</code> 文件为 <code>"externalConsole": false,</code></li><li>内置终端支持 utf-8</li></ul></li><li><p>使用外置终端，utf-8 中文乱码问题, 在 vs code 修改代码的打开和保存方式</p><p>直接就将代码保存为 gb2312。在 vs code 右下角可以看到当前文件编码方式，点击utf-8 修改打开和保存方式为 gb2312。</p></li></ul></li></ul><h2 id=学习建议>学习建议<a hidden class=anchor aria-hidden=true href=#学习建议>#</a></h2><ul><li>先大概看一遍全书，有整体概念，<strong>做习题时再去细看不懂的地方</strong>，重点都在内容小结部分。</li><li><strong>习题代码写一遍，遇到不懂的再翻书或去网上查</strong>，例题代码一般不用写看懂就行。</li><li>学习本课程之前需具备较好的C语言基础（如基本的语法知识和三大程序结构等）</li></ul><h1 id=c语言基础>C语言基础<a hidden class=anchor aria-hidden=true href=#c语言基础>#</a></h1><p>标识符可以由3种字符组成：字母、下划线、数字，并且不能以数字开头，不能是C++的关键字。</p><p>语句以分号<code>;</code>结束</p><h1 id=第一章-c-语言简介>第一章 C++ 语言简介<a hidden class=anchor aria-hidden=true href=#第一章-c-语言简介>#</a></h1><ul><li>C++发展历史，与C语言的异同
C++是C的一个超集，进一步扩充和完善了C，C++比C更安全。
C++是一种编译式、通用式、大小写敏感的编程语言，完全支持面向对象程序设计。</li><li>掌握C++ 程序结构，正确使用头文件及命名空间</li><li>基本输入/输出</li><li>函数声明和传参</li><li>函数重载概念</li><li>理解 const ，指针，引用，动态内存分配和释放</li><li>string 类基本功能</li></ul><h2 id=第一节-c发展简史>第一节 C++发展简史<a hidden class=anchor aria-hidden=true href=#第一节-c发展简史>#</a></h2><ul><li>低级语言：机器语言，汇编语言</li><li>中级语言：C语言</li><li>高级语言：面向用户，易懂、通用。</li></ul><h2 id=第二节-c特点>第二节 C++特点<a hidden class=anchor aria-hidden=true href=#第二节-c特点>#</a></h2><ul><li>编译式、通用、大小写敏感，支持面向对象</li><li>特点<ul><li>继承和兼容C 语言，简洁高效</li><li>面向对象</li></ul></li><li></li></ul><h3 id=一头文件和命名空间>一、头文件和命名空间<a hidden class=anchor aria-hidden=true href=#一头文件和命名空间>#</a></h3><h5 id=1头文件>1.头文件<a hidden class=anchor aria-hidden=true href=#1头文件>#</a></h5><p>是用户应用程序和函数库之间的桥梁和纽带。作为一种包含功能函数、数据接口声明的载体文件，主要用于保存程序的声明，而定义文件用于保存程序的实现。</p><ol><li>头文件保存程序中用到的声明，如函数声明、常量定义等，需要使用<strong>预处理命名包含头文件<code>#include</code></strong></li><li>常用的头文件</li></ol><ul><li>标准输入输出流: <code>&lt;iostream></code></li><li>标准文件流: <code>&lt;fstream></code></li><li>标准字符串处理函数: <code>&lt;string></code></li><li>标准数学函数: <code>&lt;cmath></code></li></ul><ol start=3><li>自定义头文件</li></ol><ul><li><code>&lt;></code>: 系统设定目录寻找, 未找到再去指定目录找</li><li><code>“”</code>: 用户当前目录或指定目录找<ul><li><code>#include "e:\myprog\ex1.h"</code></li></ul></li></ul><h5 id=2命名空间-namespace>2.命名空间 namespace<a hidden class=anchor aria-hidden=true href=#2命名空间-namespace>#</a></h5><ol><li>命名空间是一种将程序库名称封装起来的方法，提高了程序的性能和可靠性，<strong>可消除同名引起的冲突</strong>。</li></ol><p>标准程序库的命名空间 <code>using namespace std;</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl><span class=k>namespace</span> <span class=err>命名空间名</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl><span class=err>命名空间内各种声明</span><span class=p>(</span><span class=err>函数声明\类声明</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><ol start=2><li><p>引用命名空间标识符</p><ul><li>不引用命名空间, 则使用全称: <code>命名空间名::标识符名</code></li></ul></li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl><span class=k>using</span> <span class=err>命名空间名</span><span class=o>::</span><span class=err>标识符</span><span class=p>;</span> <span class=c1>// 单独引用
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>using</span> <span class=k>namespace</span> <span class=err>命名空间名</span><span class=p>;</span> <span class=c1>// 引用整个命名空间
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>namespace</span> <span class=n>S</span> <span class=p>{</span> 
</span></span><span class=line><span class=cl>	<span class=kt>int</span> <span class=n>x</span><span class=p>;</span> 
</span></span><span class=line><span class=cl>	<span class=kt>void</span> <span class=nf>FunA</span><span class=p>()</span> <span class=p>{</span> 
</span></span><span class=line><span class=cl>		<span class=p>...</span> 
</span></span><span class=line><span class=cl>	<span class=p>}</span> 
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 若访问 x，可写成 
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>S</span><span class=o>::</span><span class=n>x</span><span class=err>；</span>
</span></span><span class=line><span class=cl><span class=c1>// 访问 FunA() 则为 
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>S</span><span class=o>::</span><span class=n>FunA</span><span class=p>()</span><span class=err>；</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=二基本输入输出>二、基本输入/输出<a hidden class=anchor aria-hidden=true href=#二基本输入输出>#</a></h3><ol><li>标准输入</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c++ data-lang=c++><span class=line><span class=cl>  <span class=n>cin</span> <span class=o>&gt;&gt;</span> <span class=err>变量</span><span class=mi>1</span> <span class=o>&gt;&gt;</span> <span class=err>变量</span><span class=mi>2</span> <span class=o>&gt;&gt;</span><span class=p>...</span> <span class=o>&gt;&gt;</span> <span class=err>变量</span><span class=n>n</span><span class=p>;</span>
</span></span></code></pre></td></tr></table></div></div><ol start=2><li>标准输出</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c++ data-lang=c++><span class=line><span class=cl>  <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=err>表达式</span><span class=mi>1</span> <span class=o>&lt;&lt;</span> <span class=err>表达式</span><span class=mi>2</span> <span class=o>&lt;&lt;</span> <span class=p>...</span><span class=o>&lt;&lt;</span> <span class=err>表达式</span><span class=n>n</span><span class=p>;</span> 
</span></span></code></pre></td></tr></table></div></div><ol start=3><li>头文件</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c++ data-lang=c++><span class=line><span class=cl>  <span class=cp>#include</span> <span class=cpf>&lt;iostream&gt;   // 头文件：输入输出流</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>  <span class=k>using</span> <span class=k>namespace</span> <span class=n>std</span><span class=p>;</span>  <span class=c1>// 使用命名空间
</span></span></span></code></pre></td></tr></table></div></div><ol start=4><li>换行操作</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c++ data-lang=c++><span class=line><span class=cl><span class=err>用语句</span> <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span> <span class=err>或</span>  <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>;</span>
</span></span></code></pre></td></tr></table></div></div><ol start=5><li>运算符重载后才可以使用</li></ol><ul><li><p>输入：空格、TAB、ENTER 作为分隔符</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;iostream&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=k>using</span> <span class=k>namespace</span> <span class=n>std</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=nf>main</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kt>int</span> <span class=n>a</span> <span class=o>=</span> <span class=mi>1</span><span class=p>,</span> <span class=n>b</span> <span class=o>=</span> <span class=mi>2</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>cin</span> <span class=o>&gt;&gt;</span> <span class=n>a</span> <span class=o>&gt;&gt;</span> <span class=n>b</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;Hello Vscode</span><span class=se>\n</span><span class=s>&#34;</span>
</span></span><span class=line><span class=cl>    <span class=o>&lt;&lt;</span> <span class=n>a</span> <span class=o>*</span> <span class=n>b</span>
</span></span><span class=line><span class=cl>    <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>输入/输出示例</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;iostream&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;string&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=k>using</span> <span class=k>namespace</span> <span class=n>std</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=nf>main</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kt>int</span> <span class=n>oneInt1</span><span class=p>,</span> <span class=n>oneInt2</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=kt>char</span> <span class=n>strArray</span><span class=p>[</span><span class=mi>20</span><span class=p>];</span>
</span></span><span class=line><span class=cl>  <span class=n>string</span> <span class=n>str</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=kt>double</span> <span class=n>oneDouble</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=kt>char</span> <span class=n>oneChar</span> <span class=o>=</span> <span class=sc>&#39;a&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;输入两个整型值，一个字符，一个字符串，一个浮点值,&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;以空格、tab、enter 键分割&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>cin</span> <span class=o>&gt;&gt;</span> <span class=n>oneInt1</span> <span class=o>&gt;&gt;</span> <span class=n>oneInt2</span> <span class=o>&gt;&gt;</span> <span class=n>oneChar</span> <span class=o>&gt;&gt;</span> <span class=n>strArray</span> <span class=o>&gt;&gt;</span> <span class=n>oneDouble</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>str</span> <span class=o>=</span> <span class=n>strArray</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;输入的数据是:&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>     <span class=c1>//endl 是换行
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;字符串:</span><span class=se>\t\t</span><span class=s>&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>str</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span> <span class=c1>//\t是制表符
</span></span></span><span class=line><span class=cl><span class=c1></span>       <span class=o>&lt;&lt;</span> <span class=s>&#34;两个整型值:</span><span class=se>\t</span><span class=s>&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>oneInt1</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;和</span><span class=se>\t</span><span class=s>&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>oneInt2</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span>
</span></span><span class=line><span class=cl>       <span class=o>&lt;&lt;</span> <span class=s>&#34;字符:</span><span class=se>\t\t</span><span class=s>&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>oneChar</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;</span><span class=se>\n</span><span class=s>&#34;</span> <span class=c1>//&#34;\n&#34;是换行符,与endl相同
</span></span></span><span class=line><span class=cl><span class=c1></span>       <span class=o>&lt;&lt;</span> <span class=s>&#34;浮点值:</span><span class=se>\t\t</span><span class=s>&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>oneDouble</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p><code>cin</code> <strong>实现键盘输入</strong>，输入字符类型时根据变量类型自动提取相应长度字节, 数值类型数据需要分隔</p></li><li><p><code>getchar()</code>: 获取 space\tab\enter 等特殊字符</p></li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl>  <span class=n>cout</span> <span class=o>&lt;&lt;</span><span class=s>&#34;1234\  //&#34;</span><span class=err>\</span><span class=s>&#34; 用于连接换行的内容</span>
</span></span><span class=line><span class=cl>  <span class=mi>566785</span><span class=s>&#34;&lt;&lt;endl;</span>
</span></span></code></pre></td></tr></table></div></div><ul><li><code>cout</code> 自动识别输出类型</li></ul><p>指针运算法* ，为取元素的内容</p><h3 id=三函数的应用>三、函数的应用<a hidden class=anchor aria-hidden=true href=#三函数的应用>#</a></h3><h5 id=1函数参数的默认值>1.函数参数的默认值<a hidden class=anchor aria-hidden=true href=#1函数参数的默认值>#</a></h5><ol><li>默认参数就是不要求设定参数，未设置参数时有赋默认值。</li><li>默认参数是在函数原型中说明的，<strong>默认参数可以多于1个，但必须放在参数序列的末尾</strong>。</li></ol><ul><li><p>声明函数时为形参指定默认值</p><ul><li>默认值可以写在函数声明或函数定义的地方, 但不能都写</li><li><code>void</code> 声明无返回值</li><li>默认值不能是局部变量，调用函数可以用局部变量</li></ul></li><li><p><strong>默认值的形参必须从右至左提供, 有形参的必须在最后</strong></p><ul><li>调用时实参为从左至右连续排列，不给则后面取默认值</li></ul></li><li><p><strong>函数原型中, 可省略形参名字, 只给出类型和默认值</strong></p></li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl><span class=kt>void</span> <span class=n>defaultvalue1</span><span class=p>(</span><span class=kt>int</span> <span class=o>=</span> <span class=mi>2</span><span class=p>,</span><span class=kt>double</span> <span class=o>=</span> <span class=mf>3.0</span> <span class=p>)</span>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=n>defaultvalue1</span><span class=p>(</span><span class=kt>int</span> <span class=n>a</span><span class=p>,</span><span class=kt>double</span> <span class=n>b</span> <span class=o>=</span> <span class=mf>3.0</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h5 id=2引用和函数参数的传递>2.引用和函数参数的传递<a hidden class=anchor aria-hidden=true href=#2引用和函数参数的传递>#</a></h5><h6 id=21-引用>2.1 引用<a hidden class=anchor aria-hidden=true href=#21-引用>#</a></h6><p>引用相当于给变量取了一个别名，对应同一个内存地址。</p><p>引用的定义格式：<code>类型名 &引用名 = 同类型的某变量名</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl>  <span class=kt>int</span> <span class=n>oneInt</span> <span class=o>=</span> <span class=mi>9</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=kt>int</span> <span class=o>&amp;</span><span class=n>aname</span> <span class=o>=</span> <span class=n>oneInt</span><span class=p>;</span> <span class=c1>//声明引用, aname 是引用名
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=c1>// aname 就是x的一个引用，可以有多个引用
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=err>```</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=o>-</span> <span class=err>引用的规则</span>
</span></span><span class=line><span class=cl><span class=o>-</span> <span class=o>**</span><span class=err>对象在被引用前必须先初始化</span><span class=o>**</span>
</span></span><span class=line><span class=cl><span class=o>-</span> <span class=err>声明中符号“</span><span class=o>&amp;</span><span class=err>”的位置无关紧要</span>
</span></span><span class=line><span class=cl><span class=err>```</span><span class=n>c</span><span class=o>++</span>
</span></span><span class=line><span class=cl><span class=err>以下情况等效</span>
</span></span><span class=line><span class=cl><span class=kt>int</span><span class=o>&amp;</span> <span class=n>a</span> <span class=o>=</span> <span class=n>x</span><span class=p>;</span> 
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=o>&amp;</span> <span class=n>a</span> <span class=o>=</span> <span class=n>x</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=o>&amp;</span><span class=n>a</span> <span class=o>=</span> <span class=n>x</span><span class=p>;</span> 
</span></span></code></pre></td></tr></table></div></div><ul><li><strong>只能引用已经初始化的变量</strong></li><li>不能用常量初始化引用</li><li><strong>不能声明引用的引用</strong></li><li>不能用表达式初始化引用, 除非表达式返回值是引用</li><li>同一个变量可有多个引用</li></ul><h6 id=22-常引用>2.2 常引用<a hidden class=anchor aria-hidden=true href=#22-常引用>#</a></h6><p>在定义前加 const 表示 “<strong>常引用</strong>”</p><ul><li><strong>不能通过常引用修改其引用的变量</strong>, 普通引用可以修改变量的值</li><li>变量可以初始化常量(常引用), 常量(常引用)不能初始化变量</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c++ data-lang=c++><span class=line><span class=cl><span class=kt>int</span> <span class=n>oneInt</span> <span class=o>=</span> <span class=mi>10</span><span class=p>;</span> 
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=kt>int</span> <span class=o>&amp;</span><span class=n>cname</span> <span class=o>=</span> <span class=n>oneInt</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=o>&amp;</span><span class=n>a</span> <span class=o>=</span> <span class=n>oneInt</span><span class=p>;</span>  <span class=c1>// a 是 oneInt的一个普通引用
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=kt>int</span> <span class=o>&amp;</span><span class=n>b</span> <span class=o>=</span> <span class=n>oneInt</span><span class=p>;</span> <span class=c1>// b 是 oneInt的一个常引用
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=n>a</span> <span class=o>=</span> <span class=mi>20</span><span class=p>;</span> <span class=c1>// 则 oneInt = 20, b =20
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>oneInt</span> <span class=o>=</span> <span class=mi>30</span><span class=p>;</span> <span class=c1>// a = 30，b = 30;
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>b</span> <span class=o>=</span> <span class=mi>40</span><span class=p>;</span>  <span class=c1>// 错误
</span></span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c++ data-lang=c++><span class=line><span class=cl><span class=k>const</span> <span class=n>T</span><span class=o>&amp;</span>  <span class=err>和</span>  <span class=n>T</span><span class=o>&amp;</span><span class=err>是不同的类型</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>类型转换:<div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl><span class=k>const</span> <span class=kt>int</span> <span class=n>cInt</span> <span class=o>=</span> <span class=mi>30</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=kt>int</span> <span class=o>&amp;</span> <span class=n>rc1</span> <span class=o>=</span> <span class=n>cInt</span><span class=p>;</span> <span class=c1>//CT&amp;←CT, CT&amp; 表示类型 T 的常引用
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>int</span> <span class=o>&amp;</span><span class=n>r2</span> <span class=o>=</span> <span class=p>(</span><span class=kt>int</span> <span class=o>&amp;</span><span class=p>)</span> <span class=n>rc1</span><span class=p>;</span> <span class=c1>//T&amp;←CT&amp; 强制类型转换
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>int</span> <span class=o>&amp;</span><span class=n>r3</span> <span class=o>=</span> <span class=p>(</span><span class=kt>int</span> <span class=o>&amp;</span><span class=p>)</span> <span class=n>cInt</span><span class=p>;</span> <span class=c1>//T&amp;←CT 强制类型换换
</span></span></span></code></pre></td></tr></table></div></div><ul><li>T 表示类型</li><li>CT 表示常量类型</li><li>T& 表示 T 类型的引用</li><li>CT& 表示 T 类型的常引用</li></ul></li></ul><h6 id=23-引用在函数中使用>2.3 引用在函数中使用<a hidden class=anchor aria-hidden=true href=#23-引用在函数中使用>#</a></h6><ol><li>引用作为函数的参数, 也可作为函数的返回值</li></ol><ul><li><p>函数参数的传递方式
<strong>传值</strong>：传递对象的值，形参是实参的副本，形参的改变不会影响实参。
<strong>传引用</strong>： <strong>传递对象的首地址值</strong>(等同于指针)，形参的改变意味着实参的改变。</p><p>变量、指针、引用都可以作为赋值语句的左值。</p></li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;iostream&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=k>using</span> <span class=k>namespace</span> <span class=n>std</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>SwapValue</span><span class=p>(</span><span class=kt>int</span> <span class=n>a</span><span class=p>,</span> <span class=kt>int</span> <span class=n>b</span><span class=p>)</span> <span class=c1>//形参
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kt>int</span> <span class=n>tmp</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>tmp</span> <span class=o>=</span> <span class=n>a</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>a</span> <span class=o>=</span> <span class=n>b</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>b</span> <span class=o>=</span> <span class=n>tmp</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;在SwapValue()函数中:</span><span class=se>\t\t</span><span class=s>a=&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>a</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;, b=&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>b</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>SwapRef</span><span class=p>(</span><span class=kt>int</span> <span class=o>&amp;</span><span class=n>a</span><span class=p>,</span> <span class=kt>int</span> <span class=o>&amp;</span><span class=n>b</span><span class=p>)</span> <span class=c1>//a,b 实参引用地址的值互换
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kt>int</span> <span class=n>tmp</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>tmp</span> <span class=o>=</span> <span class=n>a</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>a</span> <span class=o>=</span> <span class=n>b</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>b</span> <span class=o>=</span> <span class=n>tmp</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;在SwapRef()函数中:</span><span class=se>\t\t</span><span class=s>a=&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>a</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;, b=&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>b</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=nf>main</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kt>int</span> <span class=n>a</span> <span class=o>=</span> <span class=mi>10</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=kt>int</span> <span class=n>b</span> <span class=o>=</span> <span class=mi>20</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;数据交换前:</span><span class=se>\t\t</span><span class=s>a=&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>a</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;, b=&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>b</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span>
</span></span><span class=line><span class=cl>       <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>SwapValue</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;SwapValue后:</span><span class=se>\t\t</span><span class=s>a=&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>a</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;, b=&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>b</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span>
</span></span><span class=line><span class=cl>       <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>a</span> <span class=o>=</span> <span class=mi>10</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>b</span> <span class=o>=</span> <span class=mi>20</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>SwapRef</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;SwapRef后:</span><span class=se>\t\t</span><span class=s>a=&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>a</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;, b=&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>b</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span>
</span></span><span class=line><span class=cl>       <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><ol start=2><li>引用作为函数的返回值</li></ol><ul><li><p>赋值语句左边的叫左值, 右边的叫右值
- 变量\指针\引用 可作左值
- 表达式作右值</p><ul><li>格式<ul><li><code>数据类型 & 函数名(参数列表)</code></li></ul></li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;iostream&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=k>using</span> <span class=k>namespace</span> <span class=n>std</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=n>oneX</span> <span class=o>=</span> <span class=mi>10</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=n>oneY</span> <span class=o>=</span> <span class=mi>20</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=o>&amp;</span><span class=n>refValue</span><span class=p>(</span><span class=kt>int</span> <span class=o>&amp;</span><span class=n>x</span><span class=p>)</span> <span class=c1>//返回值是引用,可作左值
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=n>x</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=nf>main</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>refValue</span><span class=p>(</span><span class=n>oneX</span><span class=p>)</span> <span class=o>=</span> <span class=mi>30</span><span class=p>;</span>             <span class=c1>//返回值是引用,可作左值
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;oneX=&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>oneX</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span> <span class=c1>//输出 oneX=30
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=n>refValue</span><span class=p>(</span><span class=n>oneY</span><span class=p>)</span> <span class=o>=</span> <span class=mi>40</span><span class=p>;</span>             <span class=c1>//返回值是引用的函数调用表达式,可作左值使用
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;oneY=&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>oneY</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span> <span class=c1>//输出oneY=40
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><ul><li><p>函数返回值也可以是指针</p><ul><li><code>类型标识符 * 函数名(实参列表)</code></li></ul></li></ul></li></ul><h5 id=3内联函数-inline-常考>3.内联函数 inline （常考）<a hidden class=anchor aria-hidden=true href=#3内联函数-inline-常考>#</a></h5><ol><li>作用：避免频繁调用与返回，以空间消耗节省时间开销，降低函数调用的开销。</li></ol><p><strong>内联函数一般仅适用于只有几条语句的小函数</strong>
<strong>如果函数体中有循环或switch语句，通常不定义为内联函数</strong></p><ul><li><p>函数可以减少程序代码, 实现代码共享, 提高开发效率和可维护性</p></li><li><p>在编译时内嵌到主函数中</p><ul><li><p>格式</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl><span class=kr>inline</span> <span class=err>返回值类型</span> <span class=err>函数名</span><span class=p>(</span><span class=err>形参表</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl> <span class=err>函数体</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>只在声明函数原型时加 inline 不能内联, 看编译器的选择</p></li></ul></li></ul><h5 id=4函数的重载必考>4.函数的重载（必考）<a hidden class=anchor aria-hidden=true href=#4函数的重载必考>#</a></h5><ol><li>函数重载可以使一个函数名具有多种功能，即具有“多种形态”，称为多态性。</li><li>重载的条件：<strong>参数个数不同、参数类型不同、不同类型参数的次序不同</strong>。</li><li>返回值类型、引用参数都不能区分重载。</li></ol><ul><li>程序的同一范围内声明几个功能类似的同名函数<div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl>  <span class=kt>int</span> <span class=nf>bigger</span><span class=p>(</span><span class=kt>int</span> <span class=n>a</span><span class=p>,</span><span class=kt>int</span> <span class=n>b</span><span class=p>){}</span>
</span></span><span class=line><span class=cl>  <span class=kt>float</span> <span class=nf>bigger</span><span class=p>(</span><span class=kt>float</span> <span class=n>a</span><span class=p>,</span><span class=kt>float</span> <span class=n>b</span><span class=p>){}</span>
</span></span><span class=line><span class=cl>  <span class=kt>double</span> <span class=nf>bigger</span><span class=p>(</span><span class=kt>double</span> <span class=n>a</span><span class=p>,</span><span class=kt>double</span> <span class=n>b</span><span class=p>){}</span>
</span></span></code></pre></td></tr></table></div></div></li></ul><p><strong>错误的重载函数</strong></p><p>返回值类型不同 函数不能重载</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c++ data-lang=c++><span class=line><span class=cl><span class=kt>double</span> <span class=nf>bigger</span><span class=p>(</span><span class=kt>double</span> <span class=n>a</span><span class=p>,</span><span class=kt>double</span> <span class=n>b</span><span class=p>){}</span>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=nf>bigger</span><span class=p>(</span><span class=kt>double</span> <span class=n>a</span><span class=p>,</span><span class=kt>double</span> <span class=n>b</span><span class=p>){}</span> <span class=c1>// ERROR
</span></span></span></code></pre></td></tr></table></div></div><p>引用参数 函数不能重载</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c++ data-lang=c++><span class=line><span class=cl><span class=kt>void</span> <span class=nf>bigger</span><span class=p>(</span><span class=kt>double</span><span class=p>){}</span>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>bigger</span><span class=p>(</span><span class=kt>double</span> <span class=o>&amp;</span><span class=p>){}</span> <span class=c1>// ERROR
</span></span></span></code></pre></td></tr></table></div></div><p>参数个数不同, 多一个默认值时, 产生二义性，不能采用函数重载</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c++ data-lang=c++><span class=line><span class=cl><span class=kt>void</span> <span class=nf>bigger</span><span class=p>(</span><span class=kt>int</span> <span class=n>a</span><span class=p>,</span><span class=kt>int</span> <span class=n>b</span><span class=p>,</span><span class=kt>int</span> <span class=n>c</span><span class=o>=</span><span class=mi>0</span><span class=p>){}</span>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=nf>bigger</span><span class=p>(</span><span class=kt>int</span> <span class=n>a</span><span class=p>,</span><span class=kt>int</span> <span class=n>b</span><span class=p>){}</span> <span class=c1>// ERROR
</span></span></span></code></pre></td></tr></table></div></div><h5 id=5const-与指针共同使用>5.const 与指针共同使用<a hidden class=anchor aria-hidden=true href=#5const-与指针共同使用>#</a></h5><ul><li>const 修饰指针变量时，优先匹配左侧</li></ul><ol><li><strong>唯一的<code>const</code> 位于 * 左侧，表示指针所指数据为常量</strong>，数据不能通过本指针改变,; 但指针本身是变量, 可以指向其它内存单元。（<strong>数据不能改，指针指向能改</strong>）</li></ol><p>指针是变量、数据是常量，常量不可变，数据可以变。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl><span class=kt>int</span> <span class=n>a1</span><span class=o>=</span><span class=mi>10</span><span class=p>,</span><span class=n>a2</span><span class=o>=</span><span class=mi>20</span><span class=p>,</span><span class=o>*</span><span class=n>pa1</span><span class=o>=&amp;</span><span class=n>a1</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=o>*</span><span class=n>pa1</span><span class=o>=</span><span class=mi>30</span><span class=p>;</span>   <span class=c1>// 正确，a1 变成 30
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=kt>int</span> <span class=o>*</span><span class=n>pa2</span> <span class=o>=</span> <span class=o>&amp;</span><span class=n>a2</span><span class=p>;</span>  <span class=c1>// pa2所指的是常量
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>*</span><span class=n>pa2</span> <span class=o>=</span> <span class=mi>40</span><span class=p>;</span>  <span class=c1>// ERROR
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>pa2</span> <span class=o>=</span> <span class=o>&amp;</span><span class=n>a1</span><span class=p>;</span>  <span class=c1>// 正确
</span></span></span></code></pre></td></tr></table></div></div><ol start=2><li><strong>唯一的const 位于 * 右侧，表示指针本身是常量</strong>，不能让该指针指向其他内存地址，指针所指的数据可以通过本指针进行修改。（<strong>指针不能改，指针所指数据能改</strong>）</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c++ data-lang=c++><span class=line><span class=cl><span class=kt>int</span> <span class=n>a1</span><span class=o>=</span><span class=mi>10</span><span class=p>,</span><span class=n>a2</span><span class=o>=</span><span class=mi>20</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=o>*</span> <span class=k>const</span> <span class=n>pa2</span><span class=o>=</span> <span class=o>&amp;</span><span class=n>a2</span><span class=p>;</span>  <span class=c1>// 指针变量pa2是常量
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>pa2</span> <span class=o>=</span> <span class=o>&amp;</span><span class=n>a1</span><span class=p>;</span>  <span class=c1>// ERROR
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>*</span><span class=n>pa2</span> <span class=o>=</span> <span class=mi>40</span><span class=p>;</span>  <span class=c1>// 正确
</span></span></span></code></pre></td></tr></table></div></div><ol start=3><li><strong>在 * 左右各一个 const 时, 表示指针和所指数据都是常量, 都不能改变。</strong></li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c++ data-lang=c++><span class=line><span class=cl><span class=kt>int</span> <span class=n>a1</span> <span class=o>=</span> <span class=mi>10</span><span class=p>,</span><span class=n>a2</span> <span class=o>=</span> <span class=mi>20</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=kt>int</span> <span class=o>*</span> <span class=k>const</span> <span class=n>pa1</span> <span class=o>=</span> <span class=o>&amp;</span><span class=n>a1</span><span class=p>;</span> <span class=c1>//指针和所指数据都是常量
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>pa1</span> <span class=o>=</span> <span class=o>&amp;</span><span class=n>a2</span><span class=p>;</span> <span class=c1>// ERROR
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>*</span><span class=n>pa1</span> <span class=o>=</span> <span class=mi>30</span><span class=p>;</span> <span class=c1>// ERROR
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=k>const</span> <span class=o>*</span> <span class=k>const</span> <span class=n>pa2</span> <span class=o>=</span> <span class=o>&amp;</span><span class=n>a2</span><span class=p>;</span>  <span class=c1>//指针和所指数据都是常量
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>pa2</span> <span class=o>=</span> <span class=o>&amp;</span><span class=n>a1</span><span class=p>;</span>  <span class=c1>// ERROR
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>*</span><span class=n>pa2</span> <span class=o>=</span> <span class=mi>40</span><span class=n>p</span><span class=p>;</span> <span class=c1>// ERROR
</span></span></span></code></pre></td></tr></table></div></div><p>记住const的修饰规则：</p><p>如果const是本行的第一个标识符，则它修饰其右侧的内容。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c++ data-lang=c++><span class=line><span class=cl><span class=k>const</span> <span class=kt>int</span> <span class=o>*</span><span class=n>pa2</span> <span class=o>=</span> <span class=o>&amp;</span><span class=n>a2</span><span class=p>;</span>  <span class=c1>// pa2所指的常量
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>int</span> <span class=o>*</span> <span class=k>const</span> <span class=n>pa2</span> <span class=o>=</span> <span class=o>&amp;</span><span class=n>a2</span><span class=p>;</span> <span class=c1>// 指针变量pa2是常量
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=kt>int</span> <span class=o>*</span> <span class=k>const</span> <span class=n>pa1</span> <span class=o>=</span> <span class=o>&amp;</span><span class=n>a1</span><span class=p>;</span> <span class=c1>//指针和所指数据都是常量
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>int</span> <span class=k>const</span> <span class=o>*</span> <span class=k>const</span> <span class=n>pa2</span> <span class=o>=</span> <span class=o>&amp;</span><span class=n>a2</span><span class=p>;</span>  <span class=c1>//指针和所指数据都是常量
</span></span></span></code></pre></td></tr></table></div></div><blockquote><p>调用时变量前加 &ldquo;&&rdquo; &mdash;&mdash;-返回该变量的地址
声明时变量前加 &ldquo;基本类型 <em>&rdquo; &mdash;&mdash;-该指针变量表示另一个普通变量的地址 eg:int</em> 或 char *
调用时变量前加 &ldquo;*&rdquo;&mdash;&mdash;-表示取该地址的内容
声明时变量前加 &ldquo;基本类型 **&rdquo;&mdash;&mdash;-该二级指针变量表示另一个一级"基本类型 *&ldquo;指针变量地址</p></blockquote><h4 id=6指针和动态内存分配>6.指针和动态内存分配<a hidden class=anchor aria-hidden=true href=#6指针和动态内存分配>#</a></h4><h5 id=61-指针>6.1 <strong>指针</strong><a hidden class=anchor aria-hidden=true href=#61-指针>#</a></h5><p>即指针变量，储存的是一个内存地址，是该指针所指对象的首地址。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c++ data-lang=c++><span class=line><span class=cl><span class=kt>int</span> <span class=n>a</span> <span class=o>=</span> <span class=mi>100</span><span class=p>,</span><span class=o>*</span><span class=n>pa</span> <span class=o>=</span> <span class=o>&amp;</span><span class=n>a</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=n>s</span><span class=p>[</span><span class=mi>10</span><span class=p>],</span><span class=n>ps</span> <span class=o>=</span> <span class=n>s</span><span class=p>;</span>  <span class=c1>// 指针ps指向数组s的首地址
</span></span></span></code></pre></td></tr></table></div></div><h5 id=62-动态内存分配-常考>6.2 动态内存分配 （常考）<a hidden class=anchor aria-hidden=true href=#62-动态内存分配-常考>#</a></h5><ul><li>C++ 不允许定义不确定元素个数的数组</li></ul><p>动态分配内存一般格式为：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c++ data-lang=c++><span class=line><span class=cl><span class=err>指针名</span> <span class=o>=</span> <span class=k>new</span> <span class=err>类型名</span><span class=p>;</span> <span class=c1>// 分配
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=k>delete</span> <span class=err>指针名；</span>      <span class=c1>// 释放
</span></span></span></code></pre></td></tr></table></div></div><ol><li><strong>使用关键字 new 运算符实现动态内存分配</strong></li></ol><ul><li><code>T *p = new T;</code> 分配大小为sizeof(T)字节的内存空间</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl><span class=kt>int</span> <span class=o>*</span><span class=n>p</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>p</span> <span class=o>=</span> <span class=k>new</span> <span class=kt>int</span><span class=p>;</span> <span class=c1>// 分配4字节空间,p指向首地址
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>*</span><span class=n>p</span> <span class=o>=</span> <span class=mi>5</span><span class=p>;</span>
</span></span></code></pre></td></tr></table></div></div><ul><li><code>T *p = new T[N];</code> 实现动态分配任意大小的数组，N为数组元素个数，T为数组类型</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl><span class=kt>int</span> <span class=o>*</span><span class=n>pArray</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>5</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>pArray</span> <span class=o>=</span> <span class=k>new</span> <span class=kt>int</span><span class=p>[</span><span class=n>i</span><span class=o>*</span><span class=mi>20</span><span class=p>];</span> <span class=c1>// 分配100个元素的整型数组
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>pArray</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>=</span> <span class=mi>20</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>pArray</span><span class=p>[</span><span class=mi>99</span><span class=p>]</span> <span class=o>=</span> <span class=mi>30</span><span class=p>;</span>
</span></span></code></pre></td></tr></table></div></div><ol start=2><li><p><strong>当不再使用这个空间时，必须使用 delete 释放空间</strong></p><ul><li>忘记 delete [] 时, 导致数组不完全释放</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl>  <span class=cp>#include</span> <span class=cpf>&lt;iostream&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>  <span class=k>using</span> <span class=k>namespace</span> <span class=n>std</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=kt>int</span> <span class=o>*</span><span class=n>A</span> <span class=o>=</span> <span class=k>new</span> <span class=kt>int</span><span class=p>[</span><span class=mi>5</span><span class=p>];</span>
</span></span><span class=line><span class=cl>  <span class=kt>int</span> <span class=nf>main</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=mi>5</span><span class=p>;</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=n>A</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>=</span> <span class=n>i</span> <span class=o>+</span> <span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>A</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=c1>// delete[] A;  //释放空间
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>delete</span> <span class=n>A</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=mi>5</span><span class=p>;</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>A</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>delete</span> <span class=p>[]</span><span class=n>A</span><span class=p>;</span>  <span class=c1>//释放空间
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li></ol><p>delete 数组：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl><span class=n>delete</span> <span class=p>[]</span><span class=err>指针</span><span class=p>;</span> <span class=c1>//释放数组元素
</span></span></span></code></pre></td></tr></table></div></div><h4 id=7用-string-对象处理字符串>7.用 string 对象处理字符串<a hidden class=anchor aria-hidden=true href=#7用-string-对象处理字符串>#</a></h4><p>使用 string ：<code>#include&lt;string></code></p><ol><li>声明 string 对象 ：<code>string 变量名</code></li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl><span class=n>string</span> <span class=n>str1</span><span class=p>;</span>  <span class=c1>// 值为空
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>string</span> <span class=n>city</span> <span class=o>=</span> <span class=s>&#34;ganzhou&#34;</span><span class=p>;</span> <span class=c1>// 声明对象并初始化
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>string</span> <span class=n>str2</span> <span class=o>=</span> <span class=n>city</span><span class=p>;</span> <span class=c1>// 使用字符串变量进行赋值
</span></span></span><span class=line><span class=cl><span class=c1></span> 
</span></span><span class=line><span class=cl><span class=c1>// 字符数组
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>char</span> <span class=n>name</span><span class=p>[]</span> <span class=o>=</span> <span class=s>&#34;C++程序&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>string</span> <span class=n>str3</span> <span class=o>=</span> <span class=n>name</span><span class=p>;</span> <span class=c1>// 使用字符数组对string变量进行初始化
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=n>string</span> <span class=n>citys</span><span class=p>[]</span> <span class=o>=</span> <span class=p>{</span><span class=s>&#34;Beijing&#34;</span><span class=p>,</span><span class=s>&#34;Shanghai&#34;</span><span class=p>,</span><span class=s>&#34;jing&#34;</span><span class=p>};</span> <span class=c1>// 声明string对象数组，每个数组元素都是字符串  
</span></span></span></code></pre></td></tr></table></div></div><p><code>sizeof(对象/数组)</code> 元素个数<br>sizeof(string) 在32位系统是4,64位是8</p><ol start=2><li>string 对象操作</li></ol><p>string对象可以使用cin和cout进行输入和输出</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c++ data-lang=c++><span class=line><span class=cl><span class=n>string</span> <span class=n>s1</span><span class=p>,</span><span class=n>s2</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>cin</span> <span class=o>&gt;&gt;</span> <span class=n>s1</span> <span class=o>&gt;&gt;</span> <span class=mi>2</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>s1</span> <span class=o>&lt;&lt;</span><span class=s>&#34;,&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>s2</span> <span class=o>&lt;&lt;</span><span class=n>endl</span><span class=p>;</span>
</span></span></code></pre></td></tr></table></div></div><p>string对象之间可以互相赋值，也可用字符串常量和字符数组对string对象进行赋值。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c++ data-lang=c++><span class=line><span class=cl><span class=n>string</span> <span class=n>s1</span><span class=p>,</span><span class=n>s2</span> <span class=o>=</span> <span class=s>&#34;OK&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>s1</span> <span class=o>=</span> <span class=s>&#34;China&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>s2</span> <span class=o>=</span> <span class=n>s1</span><span class=p>;</span>
</span></span></code></pre></td></tr></table></div></div><p>支持运算符(ASCII)</p><p>支持“+” 拼接字符串</p><ol start=3><li><code>string</code> 对象用法示例</li></ol><table><thead><tr><th style=text-align:left>函数</th><th style=text-align:left>功能</th></tr></thead><tbody><tr><td style=text-align:left><code>const char *c_str() const;</code></td><td style=text-align:left>返回一个指向字符串的指针, 内容与原 string 相同, 用于转换为 <code>const char *</code></td></tr><tr><td style=text-align:left>int <strong>size()</strong> const;`</td><td style=text-align:left>返回当前字符串大小</td></tr><tr><td style=text-align:left>int <strong>length()</strong> const;</td><td style=text-align:left>返回当前字符串长度</td></tr><tr><td style=text-align:left>bool <strong>empty()</strong> const;</td><td style=text-align:left>返回当前字符串是否为空</td></tr><tr><td style=text-align:left>size_type <strong>find(const char * str , size_type index)</strong>;</td><td style=text-align:left>返回 <code>str</code> 在字符串中第一次出现的位置, 从 <code>index</code> 开始查找, 没有返回-1</td></tr><tr><td style=text-align:left>size_type <strong>find( char ch , size_type index)</strong>;</td><td style=text-align:left>返回 <code>ch</code> 在字符串中第一次出现的位置, 从 <code>index</code> 开始查找, 没有返回-1</td></tr><tr><td style=text-align:left><code>string &insert(int p, const string &s);</code></td><td style=text-align:left>在 <code>p</code> 位置插入字符串 s</td></tr><tr><td style=text-align:left><code>string &append(const char *s);</code></td><td style=text-align:left>将字符串 <code>s</code> 拼接到当前字符串结尾</td></tr><tr><td style=text-align:left><code>string substr(int pos=0, int n=npos) const;</code></td><td style=text-align:left>返回从 <code>pos</code> 开始的 <code>n</code> 个字符组成的字符串</td></tr></tbody></table><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;iostream&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;string&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=k>using</span> <span class=k>namespace</span> <span class=n>std</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=nf>main</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>string</span> <span class=n>str</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=n>str</span><span class=p>.</span><span class=n>empty</span><span class=p>())</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;str is null,&#34;</span>
</span></span><span class=line><span class=cl>         <span class=o>&lt;&lt;</span> <span class=s>&#34;length=&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>str</span><span class=p>.</span><span class=n>length</span><span class=p>()</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=k>else</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;str Not null&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=n>str</span> <span class=o>=</span> <span class=n>str</span><span class=p>.</span><span class=n>append</span><span class=p>(</span><span class=s>&#34;sadfgflk&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;str is &#34;</span> <span class=o>&lt;&lt;</span> <span class=n>str</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;,size=&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>str</span><span class=p>.</span><span class=n>size</span><span class=p>()</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>const</span> <span class=kt>char</span> <span class=o>*</span><span class=n>p</span> <span class=o>=</span> <span class=n>str</span><span class=p>.</span><span class=n>c_str</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;p=&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>p</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;find:&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>str</span><span class=p>.</span><span class=n>find</span><span class=p>(</span><span class=s>&#34;ad&#34;</span><span class=p>,</span> <span class=mi>0</span><span class=p>)</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;find:&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>str</span><span class=p>.</span><span class=n>find</span><span class=p>(</span><span class=s>&#34;de&#34;</span><span class=p>,</span> <span class=mi>4</span><span class=p>)</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>string</span> <span class=n>str1</span> <span class=o>=</span> <span class=n>str</span><span class=p>.</span><span class=n>insert</span><span class=p>(</span><span class=mi>4</span><span class=p>,</span> <span class=s>&#34;123&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>str1</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h5 id=8强制类型转换>8.强制类型转换<a hidden class=anchor aria-hidden=true href=#8强制类型转换>#</a></h5><ol><li>将一种数据类型转换成另一种数据类型</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c++ data-lang=c++><span class=line><span class=cl><span class=n>stati_cast</span><span class=o>&lt;</span><span class=err>类型名</span><span class=o>&gt;</span><span class=p>(</span><span class=err>表达式</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=err>下面四种方式，强制转换都是可以的</span>
</span></span><span class=line><span class=cl><span class=n>oneint2</span> <span class=o>=</span> <span class=k>static_cast</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span><span class=p>(</span><span class=n>oneDouble</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=n>oneint2</span> <span class=o>=</span> <span class=kt>int</span><span class=p>(</span><span class=n>oneDouble</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=n>oneint2</span> <span class=o>=</span> <span class=p>(</span><span class=kt>int</span><span class=p>)</span><span class=n>oneDouble</span><span class=p>;</span>  <span class=c1>// 圆括号
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>oneint2</span> <span class=o>=</span> <span class=n>oneDouble</span>  <span class=c1>// 自动类型转换
</span></span></span></code></pre></td></tr></table></div></div><p>例子：强制类型转换</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c++ data-lang=c++><span class=line><span class=cl><span class=kt>int</span> <span class=n>b</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kt>float</span> <span class=n>fa</span> <span class=o>=</span> <span class=mf>30.45</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>b</span> <span class=o>=</span> <span class=k>static_cast</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span><span class=p>(</span><span class=n>fa</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=n>b</span> <span class=o>=</span> <span class=kt>int</span><span class=p>(</span><span class=n>fa</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=n>b</span> <span class=o>=</span> <span class=p>(</span><span class=kt>int</span><span class=p>)</span><span class=n>fa</span><span class=p>;</span>   <span class=c1>// 旧有强制转换的形式
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>b</span> <span class=o>=</span> <span class=n>fa</span><span class=p>;</span>  <span class=c1>// 自动类型转换
</span></span></span></code></pre></td></tr></table></div></div><ol start=2><li>stati_cast&lt;类型名>(表达式);
功能：
将常量指针转化成非常量的指针，并且仍然指向原来的对象；
将常量引用转换成非常量的引用，并且仍然指向原来的对象。</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c++ data-lang=c++><span class=line><span class=cl><span class=kt>int</span> <span class=n>a</span> <span class=o>=</span> <span class=mi>10</span><span class=p>,</span><span class=o>*</span><span class=n>q</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=kt>int</span> <span class=n>ca</span> <span class=o>=</span> <span class=mi>30</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>const</span> <span class=kt>int</span> <span class=o>*</span><span class=n>p</span> <span class=o>=</span> <span class=o>&amp;</span><span class=n>a</span><span class=p>;</span>  <span class=c1>// 不能使用常量指针p修改a的值
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>q</span> <span class=o>=</span> <span class=k>const_cast</span><span class=o>&lt;</span><span class=kt>int</span> <span class=o>*&gt;</span><span class=p>(</span><span class=n>p</span><span class=p>);</span>    <span class=c1>// 不能q=p
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>*</span><span class=n>q</span> <span class=o>=</span> <span class=mi>20</span><span class=p>;</span>  <span class=c1>// 变量a的值变为20，不能形成*碰= 20；
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>p</span> <span class=o>=</span> <span class=o>&amp;</span><span class=n>ca</span><span class=p>;</span>  <span class=c1>// ca的值不能修改
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=n>q</span> <span class=o>=</span> <span class=k>const_cast</span><span class=o>&lt;</span><span class=kt>int</span> <span class=o>*&gt;</span><span class=p>(</span><span class=n>p</span><span class=p>);</span>   <span class=c1>// 不能 q=p
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=o>*</span><span class=n>q</span> <span class=o>=</span> <span class=mi>40</span><span class=p>;</span> <span class=c1>// *q的值为40，*p的值变成40，变量ca的值仍然是30
</span></span></span></code></pre></td></tr></table></div></div><h3 id=四-c程序结构>四、 C++程序结构<a hidden class=anchor aria-hidden=true href=#四-c程序结构>#</a></h3><ol><li>主程序 main</li></ol><ul><li>以<code>.cpp</code> 作为文件扩展名，文件中包含若干个类和若干个函数。</li><li>有且一个主函数 <code>main()</code> , 程序从主函数开始执行</li><li>主函数可以调用其他函数, 其他函数不能调用主函数</li></ul><ol start=2><li>主函数结束</li></ol><ul><li><p>主函数中遇到 <code>return</code></p></li><li><p>执行到主函数后面 <code>}</code></p></li><li><p>注释风格</p></li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl>  <span class=cm>/* 
</span></span></span><span class=line><span class=cl><span class=cm>  多行注释
</span></span></span><span class=line><span class=cl><span class=cm>  多行注释
</span></span></span><span class=line><span class=cl><span class=cm>  */</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=c1>// 单行注释
</span></span></span></code></pre></td></tr></table></div></div><h3 id=五强制类型转换运算符>五、强制类型转换运算符<a hidden class=anchor aria-hidden=true href=#五强制类型转换运算符>#</a></h3><ul><li><p>不同类型量混合运算时, 系统自动执行类型转换, 也可使用 强制类型转换运算符 <code>static_cast</code> 或 <code>const_cast</code> 进行转换</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl>  <span class=k>static_cast</span><span class=o>&lt;</span><span class=err>类型名</span><span class=o>&gt;</span><span class=p>(</span><span class=err>表达式</span><span class=p>);</span> <span class=c1>//static_cast 可以省略
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>  <span class=n>oneInt2</span><span class=o>=</span><span class=k>static_cast</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span><span class=p>(</span><span class=n>oneDouble</span><span class=p>);</span> <span class=c1>//强制类型转换
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=n>oneInt2</span><span class=o>=</span><span class=kt>int</span><span class=p>(</span><span class=n>oneDouble</span><span class=p>);</span> <span class=c1>//强制类型转换运算符的新形式
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=n>oneInt2</span><span class=o>=</span><span class=p>(</span><span class=kt>int</span><span class=p>)</span><span class=n>oneDouble</span><span class=p>;</span> <span class=c1>//强制类型转换运算符的旧形式
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=n>oneInt2</span><span class=o>=</span><span class=n>oneDouble</span><span class=p>;</span> <span class=c1>//自动类型转换
</span></span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl>  <span class=k>const_cast</span><span class=o>&lt;</span><span class=err>类型名</span><span class=o>&gt;</span><span class=p>(</span><span class=err>表达式</span><span class=p>);</span> 
</span></span></code></pre></td></tr></table></div></div><ul><li><p>用于去除指针和引用的常量性,不能去除变量的常量性</p></li><li><p>常量指针转化为非常量指针, 任指向原对象(<code>const int *p=> int *p</code>)</p></li><li><p>常量引用转化为非常量引用, 任指向原对象</p></li><li><p>指针的教程: <a href=https://www.imooc.com/video/7858>https://www.imooc.com/video/7858</a></p><ul><li>指针的本质就是内存地址</li></ul></li><li><p>示例:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;iostream&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=k>using</span> <span class=k>namespace</span> <span class=n>std</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=nf>main</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kt>int</span> <span class=n>a</span> <span class=o>=</span> <span class=mi>10</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>const</span> <span class=kt>int</span> <span class=o>*</span><span class=n>p</span> <span class=o>=</span> <span class=o>&amp;</span><span class=n>a</span><span class=p>;</span> <span class=c1>//不能使用常量指针p修改a的值,&#34;&amp;&#34;取地址符,&#34;*&#34;从地址取值
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=k>const</span> <span class=kt>int</span> <span class=n>ca</span> <span class=o>=</span> <span class=mi>30</span><span class=p>;</span> <span class=c1>//被const修饰
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=kt>int</span> <span class=o>*</span><span class=n>q</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;a的内存地址为:</span><span class=se>\t</span><span class=s>&#34;</span> <span class=o>&lt;&lt;</span> <span class=o>&amp;</span><span class=n>a</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;</span><span class=se>\t</span><span class=s> a的值为:</span><span class=se>\t</span><span class=s>&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>a</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;p指向的地址为:</span><span class=se>\t</span><span class=s>&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>p</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;</span><span class=se>\t</span><span class=s> *p的值为:</span><span class=se>\t</span><span class=s>&#34;</span> <span class=o>&lt;&lt;</span> <span class=o>*</span><span class=n>p</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>q</span> <span class=o>=</span> <span class=k>const_cast</span><span class=o>&lt;</span><span class=kt>int</span> <span class=o>*&gt;</span><span class=p>(</span><span class=n>p</span><span class=p>);</span> <span class=c1>//去除p的常量性赋给q,如果写q=p;会报错
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=o>*</span><span class=n>q</span> <span class=o>=</span> <span class=mi>20</span><span class=p>;</span>                  <span class=c1>//如果写*p=20;是错误的
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;a的内存地址为:</span><span class=se>\t</span><span class=s>&#34;</span> <span class=o>&lt;&lt;</span> <span class=o>&amp;</span><span class=n>a</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;</span><span class=se>\t</span><span class=s> a的值为:</span><span class=se>\t</span><span class=s>&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>a</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;p指向的地址为:</span><span class=se>\t</span><span class=s>&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>p</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;</span><span class=se>\t</span><span class=s> *p的值为:</span><span class=se>\t</span><span class=s>&#34;</span> <span class=o>&lt;&lt;</span> <span class=o>*</span><span class=n>p</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;q指向的地址为:</span><span class=se>\t</span><span class=s>&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>q</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;</span><span class=se>\t</span><span class=s> *q的值为:</span><span class=se>\t</span><span class=s>&#34;</span> <span class=o>&lt;&lt;</span> <span class=o>*</span><span class=n>q</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;分界线&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>p</span> <span class=o>=</span> <span class=o>&amp;</span><span class=n>ca</span><span class=p>;</span>                  <span class=c1>//ca的值不能修改
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=n>q</span> <span class=o>=</span> <span class=k>const_cast</span><span class=o>&lt;</span><span class=kt>int</span> <span class=o>*&gt;</span><span class=p>(</span><span class=n>p</span><span class=p>);</span> <span class=c1>//去除p的常量性赋给q,如果写q=p;会报错
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=o>*</span><span class=n>q</span> <span class=o>=</span> <span class=mi>40</span><span class=p>;</span>                  <span class=c1>//如果写*p=40;是错误的
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;ca的内存地址为:</span><span class=se>\t</span><span class=s>&#34;</span> <span class=o>&lt;&lt;</span> <span class=o>&amp;</span><span class=n>ca</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;</span><span class=se>\t</span><span class=s> ca的值为:</span><span class=se>\t</span><span class=s>&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>ca</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;p指向的地址为:</span><span class=se>\t</span><span class=s>&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>p</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;</span><span class=se>\t</span><span class=s> *p的值为:</span><span class=se>\t</span><span class=s>&#34;</span> <span class=o>&lt;&lt;</span> <span class=o>*</span><span class=n>p</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;q指向的地址为:</span><span class=se>\t</span><span class=s>&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>q</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;</span><span class=se>\t</span><span class=s> *q的值为:</span><span class=se>\t</span><span class=s>&#34;</span> <span class=o>&lt;&lt;</span> <span class=o>*</span><span class=n>q</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>疑问: 常量的非常量指针修改内存地址内的值, 内存地址相同, 值不同</p></li></ul></li></ul><h1 id=第二章-面向对象的基本概念>第二章 面向对象的基本概念<a hidden class=anchor aria-hidden=true href=#第二章-面向对象的基本概念>#</a></h1><ul><li>结构化程序设计方法和局限性</li><li>面对对象程序设计，并对比结构化。理解抽象、封装、继承和多态</li><li>类定义方法，成员变量，成员函数</li><li>类定义中访问范围说明符</li><li>对象</li><li>指针，引用访问类成员的方法</li></ul><h2 id=21-结构化程序设计>2.1 结构化程序设计<a hidden class=anchor aria-hidden=true href=#21-结构化程序设计>#</a></h2><ol><li><p>采用自顶向下、逐步求精及功能模块化的思想，将复杂的大问题层层分解为许多简单的小问题。</p></li><li><p>三种基本控制结构: <strong>顺序 / 选择 / 循环结构</strong></p></li><li><p>结构化程序设计的基本思想：数据结构+算法=程序</p></li><li><p>结构化程序设计的缺点：代码规模庞大时，变得难以理解、难以扩充、难以查错和难以复用。</p></li></ol><h2 id=22-面向对象思想>2.2 面向对象思想<a hidden class=anchor aria-hidden=true href=#22-面向对象思想>#</a></h2><h5 id=1面向对象基础知识>1.面向对象基础知识<a hidden class=anchor aria-hidden=true href=#1面向对象基础知识>#</a></h5><ol><li><p>面向对象程序设计方法是在20世纪90年代以来软件开发方法的主流，它继承了结构化程序设计方法的优点，同时又<strong>比较有效地改善了结构化程序设计的不足</strong>。</p></li><li><p>面向对象程序设计方法：使分析、设计和实现一个系统的方法尽可能地接近人们认识一个系统的方法。面向对象的程序设计方式更接近于人们看待真实世界。通常包括3个方面： <strong>面向对象的分析、面向对象的设计 和 面向对象的程序设计</strong></p></li><li><p>对象的特性</p></li></ol><ul><li><strong>状态（属性）</strong>: 对象本身的信息</li><li><strong>行为（操作）</strong>: 对对象的操作</li><li>对象 = 数据（属性） + 函数 （行为）</li></ul><ol start=4><li>类是对现实客观事物的抽象，找出同一类对象的共同属性(静态特征)和行为(动态特征)</li><li>对象是类的实例（具体化），类是对象的抽象</li><li>用对象名、属性和操作来描述对象。</li></ol><h5 id=2面向对象程序设计的特点>2.面向对象程序设计的特点<a hidden class=anchor aria-hidden=true href=#2面向对象程序设计的特点>#</a></h5><ul><li><strong>封装</strong>: 对象的属性和操作结合成一个独立的单元,<ol><li>数据和操作数据的函数紧密联系起来。</li><li>可将对象的部分属性和函数隐藏起来，对外不可见，起到保护作用</li><li>将另外一部分对外可见，提供操作的接口。</li></ol></li><li><strong>继承</strong>: 编写新类时, 以现有类为基础派生,<strong>达到代码扩充和复用的目的</strong>。</li><li><strong>多态</strong>: 不同种类的对象都具有名字相同的行为, 而具体行为的实现方式有所不同，这<strong>大大提高了人们解决复杂问题的能力。</strong></li><li>抽象：将同一类事物的共同特点概括出来，这个过程称为抽象。</li></ul><p>对象由成员变量和成员函数构成</p><h2 id=23-类的初步知识>2.3 类的初步知识<a hidden class=anchor aria-hidden=true href=#23-类的初步知识>#</a></h2><h5 id=1类的定义>1.类的定义<a hidden class=anchor aria-hidden=true href=#1类的定义>#</a></h5><p>类是对具有相同属性和操作的一组对象的集合，其内部包括属性（本类的成员变量）和行为（本类的成员函数）两个部分。
类是用户自定义的数据类型。
类要先声明后使用、是具有唯一标识符的实体。</p><p>基本数据类型</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl><span class=kt>bool</span> <span class=err>布尔型</span> <span class=err>\</span> <span class=kt>char</span> <span class=err>字符型</span> <span class=err>\</span> <span class=kt>int</span> <span class=err>整型</span> <span class=err>\</span> <span class=kt>float</span> <span class=err>浮点型</span>  <span class=err>\</span> <span class=kt>double</span> <span class=err>双精度浮点型</span>
</span></span></code></pre></td></tr></table></div></div><p>声明类的一般形式：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl><span class=k>class</span> <span class=err>类名</span><span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=k>private</span><span class=o>:</span>
</span></span><span class=line><span class=cl>		<span class=err>私有变量和函数</span>
</span></span><span class=line><span class=cl>	<span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>		<span class=c1>//公有变量和函数
</span></span></span><span class=line><span class=cl><span class=c1></span>		<span class=kt>void</span> <span class=n>Setxy</span><span class=p>(</span><span class=kt>int</span> <span class=n>a</span><span class=p>,</span><span class=kt>int</span> <span class=n>b</span><span class=p>);</span> <span class=c1>// 声明无返回值的公有成员函数
</span></span></span><span class=line><span class=cl><span class=c1></span>		<span class=kt>int</span> <span class=nf>Getx</span><span class=p>();</span> <span class=c1>// 声明返回值为int的公有成员函数
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=k>protected</span><span class=o>:</span>
</span></span><span class=line><span class=cl>		<span class=err>保护变量和函数</span>
</span></span><span class=line><span class=cl>	 <span class=p>...</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>类名不能重复</li><li>类定义以“;”结束</li><li>如无访问权限的关键字，则<strong>默认声明为private</strong>;</li><li>不能在类的声明中对成员变量进行初始化</li><li>类声明中可以给出成员函数的参数的默认值</li><li>类中声明的任何成员不能使用 extern、auto和register关键字修饰</li><li><strong>类中可以不含有任何成员变量和成员函数</strong>，这样的类称为空类。</li></ul><p><strong>使用 public 关键字声明的公有成员可在类外访问</strong>，即公有类型成员定义了外部接口。例如：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c++ data-lang=c++><span class=line><span class=cl><span class=cp>#include</span><span class=cpf>&lt;iostream&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=k>using</span> <span class=k>namespace</span> <span class=n>std</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>area</span> <span class=c1>//定义 area 类。
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>public</span><span class=o>:</span> <span class=c1>//定义公有成员，外部可以访问。
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=kt>double</span> <span class=n>width</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kt>double</span> <span class=n>length</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=nf>main</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>area</span> <span class=n>area1</span><span class=p>;</span> <span class=c1>//定义对象 area1。
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kt>double</span> <span class=n>AREA</span><span class=p>;</span> <span class=c1>//定义双精度型变量 AREA。
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>area1</span><span class=p>.</span><span class=n>width</span><span class=o>=</span><span class=mi>3</span><span class=p>;</span> <span class=c1>//外部访问公有成员，设置宽为 3。
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>area1</span><span class=p>.</span><span class=n>length</span><span class=o>=</span><span class=mf>3.1</span><span class=p>;</span> <span class=c1>//外部访问公有成员，设置长为 3.1。
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>AREA</span><span class=o>=</span><span class=n>area1</span><span class=p>.</span><span class=n>width</span><span class=o>*</span><span class=n>area1</span><span class=p>.</span><span class=n>length</span><span class=p>;</span> <span class=c1>//计算面积。
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>AREA</span> <span class=o>&lt;&lt;</span><span class=n>endl</span><span class=p>;</span> <span class=c1>//输出面积 9.3
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p><strong>使用 protected 关键字声明的受保护成员可在本类和子类中访问</strong>。例如：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c++ data-lang=c++><span class=line><span class=cl><span class=cp>#include</span><span class=cpf>&lt;iostream&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=k>using</span> <span class=k>namespace</span> <span class=n>std</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>area</span> <span class=c1>//定义 area 类。
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>protected</span><span class=o>:</span><span class=c1>//定义受保护的成员。
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=kt>double</span> <span class=n>width</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>squarearea</span><span class=o>:</span><span class=n>area</span> <span class=c1>//定义 squarearea 子类。
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>public</span><span class=o>:</span> <span class=c1>//定义公有成员。
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=kt>void</span> <span class=n>setsquarewidth</span><span class=p>(</span><span class=kt>double</span> <span class=n>wid</span><span class=p>);</span> <span class=c1>//定义成员函数。
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=kt>double</span> <span class=nf>getsquarewidth</span><span class=p>(</span><span class=kt>void</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>//定义子类的成员函数。
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>void</span> <span class=n>squarearea</span><span class=o>::</span><span class=n>setsquarewidth</span><span class=p>(</span><span class=kt>double</span> <span class=n>wid</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>width</span><span class=o>=</span><span class=n>wid</span><span class=p>;</span> <span class=c1>//通过 squarearea 子类访问 area 类中受保护的成员 width。
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=kt>double</span> <span class=n>squarearea</span><span class=o>::</span><span class=n>getsquarewidth</span><span class=p>(</span><span class=kt>void</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>width</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>//程序的主函数 。
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>int</span> <span class=nf>main</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>squarearea</span> <span class=n>square</span><span class=p>;</span> <span class=c1>//定义对象。
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>square</span><span class=p>.</span><span class=n>setsquarewidth</span><span class=p>(</span><span class=mf>3.1</span><span class=p>);</span> <span class=c1>//设置宽度为 3.1。
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>cout</span> <span class=o>&lt;&lt;</span><span class=s>&#34;width:&#34;</span><span class=o>&lt;&lt;</span><span class=n>square</span><span class=p>.</span><span class=n>getsquarewidth</span><span class=p>()</span><span class=o>&lt;&lt;</span><span class=n>endl</span><span class=p>;</span> <span class=c1>//输出设置的宽度。 width: 3.1
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>此程序可以分为相对独立的三个部分，一是对 area 类的定义，二是对 squarearea 子类及子类函数的定义，三是主函数 main()。对于 area 类中受保护的成员 width 可以通过子类进行访问。</p><p><strong>使用 private 关键字声明的私有成员只能被本类的成员函数访问</strong>。例如：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c++ data-lang=c++><span class=line><span class=cl><span class=cp>#include</span><span class=cpf>&lt;iostream&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=k>using</span> <span class=k>namespace</span> <span class=n>std</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>area</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>public</span><span class=o>:</span> <span class=c1>//定义公有成员
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=kt>double</span> <span class=n>length</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=kt>void</span> <span class=nf>setwidth</span><span class=p>(</span><span class=kt>double</span> <span class=n>wid</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=kt>double</span> <span class=nf>getwidth</span><span class=p>(</span><span class=kt>void</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=k>private</span><span class=o>:</span><span class=c1>//定义私有成员
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=kt>double</span> <span class=n>width</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>//定义公有成员函数
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>void</span> <span class=n>area</span><span class=o>::</span><span class=n>setwidth</span><span class=p>(</span><span class=kt>double</span> <span class=n>wid</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>width</span><span class=o>=</span><span class=n>wid</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=kt>double</span> <span class=n>area</span><span class=o>::</span><span class=n>getwidth</span><span class=p>(</span><span class=kt>void</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>width</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>//主函数
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>int</span> <span class=nf>main</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>area</span> <span class=n>len1</span><span class=p>;</span> <span class=c1>//定义对象
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>area</span> <span class=n>wid1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>len1</span><span class=p>.</span><span class=n>length</span><span class=o>=</span><span class=mf>3.1</span><span class=p>;</span> <span class=c1>//访问 area 类公有成员。
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>cout</span><span class=o>&lt;&lt;</span><span class=s>&#34;length:&#34;</span><span class=o>&lt;&lt;</span><span class=n>len1</span><span class=p>.</span><span class=n>length</span><span class=o>&lt;&lt;</span><span class=n>endl</span><span class=p>;</span>    <span class=c1>// length: 3.1
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>wid1</span><span class=p>.</span><span class=n>setwidth</span><span class=p>(</span><span class=mf>3.2</span><span class=p>);</span> <span class=c1>//使用公有成员函数设置宽度。
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>cout</span> <span class=o>&lt;&lt;</span><span class=s>&#34;width:&#34;</span><span class=o>&lt;&lt;</span><span class=n>wid1</span><span class=p>.</span><span class=n>getwidth</span><span class=p>()</span><span class=o>&lt;&lt;</span><span class=n>endl</span><span class=p>;</span>   <span class=c1>// width: 3.2
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>此程序可以分为相对独立的两个部分，一是 area 类及其公有成员函数的定义，二是主函数 main()。私有成员 width 只能先被类中成员函数访问，再通过相关的公共成员函数实现外部访问。</p><ol start=2><li><p>访问范围说明符: public(公有)、private(私有)、protected(保护)</p><ul><li>定义类时系统不分配内存, 而是把类看成模板</li><li>按功能划分: 成员变量和成员函数<ul><li>成员变量私有, 类外不可访问, 为每个成员变量定义一对访问函数, 设置函数和获取函数</li><li>成员函数可以重载, 可以设定默认值</li></ul></li><li>按权限划分: 公有成员/私有成员/保护成员</li></ul></li><li><p><strong>类中的成员变量不能在声明时进行初始化</strong>。成员函数定义在类体内部，则默认为内联函数，也可在类体内部声明函数，并加上inline，然后在类体外给出函数的定义，这样也是内联函数。</p></li><li><p><strong>定义类体外的成员函数</strong>：类体内必须有函数原型，<strong>类体外函数定义前必须用 “类名::” 作用域运算符</strong>，表明它后面的成员函数是用于类名标识的这个类的。</p><ul><li>不属于任何类的函数: 全局函数</li><li>在类外定义成员函数<ul><li>inline 内联</li><li>类内有函数原型</li></ul></li></ul></li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c++ data-lang=c++><span class=line><span class=cl><span class=k>class</span> <span class=err>类名</span><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=err>函数的返回类型</span> <span class=err>函数名</span><span class=p>(</span><span class=err>参数列表</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=err>返回值类型</span> <span class=err>类名</span><span class=o>::</span><span class=err>函数名</span><span class=p>(</span><span class=err>参数列表</span><span class=p>)</span> <span class=c1>//其形式为：类名::函数名(参数列表)。
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=err>函数体</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>例如在 area 类中有成员函数 <code>void setwidth(double wid);</code>：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c++ data-lang=c++><span class=line><span class=cl><span class=k>class</span> <span class=nc>area</span><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=p>...</span>
</span></span><span class=line><span class=cl>    <span class=kt>void</span> <span class=n>setwidth</span><span class=p>(</span><span class=kt>double</span> <span class=n>wid</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=p>...</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>//在类外说明函数的具体实现
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>void</span> <span class=n>area</span><span class=o>::</span><span class=n>setwidth</span><span class=p>(</span><span class=kt>double</span> <span class=n>wid</span><span class=p>){</span>
</span></span><span class=line><span class=cl>    <span class=err>函数体</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>成员函数允许重载</p><h5 id=2类的定义示例>2.类的定义示例<a hidden class=anchor aria-hidden=true href=#2类的定义示例>#</a></h5><ul><li><p>myDate</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl><span class=k>class</span> <span class=nc>myDate</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>      <span class=n>myDate</span><span class=p>();</span>                    <span class=c1>//构造函数
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=n>myDate</span><span class=p>(</span><span class=kt>int</span><span class=p>,</span> <span class=kt>int</span><span class=p>,</span> <span class=kt>int</span><span class=p>);</span>       <span class=c1>//构造函数
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=kt>void</span> <span class=nf>setDate</span><span class=p>(</span><span class=kt>int</span><span class=p>,</span> <span class=kt>int</span><span class=p>,</span> <span class=kt>int</span><span class=p>);</span> <span class=c1>//设置日期
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=kt>void</span> <span class=nf>setDate</span><span class=p>(</span><span class=n>myDate</span><span class=p>);</span>        <span class=c1>//设置日期
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=n>myDate</span> <span class=nf>getDate</span><span class=p>();</span>            <span class=c1>//获取日期
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=kt>void</span> <span class=nf>setYear</span><span class=p>(</span><span class=kt>int</span><span class=p>);</span>           <span class=c1>//设置年
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=kt>int</span> <span class=nf>getMonth</span><span class=p>();</span>              <span class=c1>//获取月
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=kt>void</span> <span class=nf>printDate</span><span class=p>()</span> <span class=k>const</span><span class=p>;</span>      <span class=c1>//打印日期
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>private</span><span class=o>:</span>
</span></span><span class=line><span class=cl>      <span class=kt>int</span> <span class=n>year</span><span class=p>,</span> <span class=n>month</span><span class=p>,</span> <span class=n>day</span><span class=p>;</span> <span class=c1>//成员变量,年月日
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>};</span>
</span></span><span class=line><span class=cl><span class=c1>//类体外定义成员函数
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>myDate</span><span class=o>::</span><span class=n>myDate</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>  <span class=n>year</span> <span class=o>=</span> <span class=mi>1970</span><span class=p>,</span> <span class=n>month</span> <span class=o>=</span> <span class=mi>1</span><span class=p>,</span> <span class=n>day</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>myDate</span><span class=o>::</span><span class=n>myDate</span><span class=p>(</span><span class=kt>int</span> <span class=n>y</span><span class=p>,</span> <span class=kt>int</span> <span class=n>m</span><span class=p>,</span> <span class=kt>int</span> <span class=n>d</span><span class=p>){</span>
</span></span><span class=line><span class=cl>  <span class=n>year</span> <span class=o>=</span> <span class=n>y</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>month</span> <span class=o>=</span> <span class=n>m</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>day</span> <span class=o>=</span> <span class=n>d</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=n>myDate</span><span class=o>::</span><span class=n>setDate</span><span class=p>(</span><span class=kt>int</span> <span class=n>y</span><span class=p>,</span> <span class=kt>int</span> <span class=n>m</span><span class=p>,</span> <span class=kt>int</span> <span class=n>d</span><span class=p>){</span>
</span></span><span class=line><span class=cl>  <span class=n>year</span> <span class=o>=</span> <span class=n>y</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>month</span> <span class=o>=</span> <span class=n>m</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>day</span> <span class=o>=</span> <span class=n>d</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=n>myDate</span><span class=o>::</span><span class=n>setDate</span><span class=p>(</span><span class=n>myDate</span> <span class=n>oneD</span><span class=p>){</span>
</span></span><span class=line><span class=cl>  <span class=n>year</span> <span class=o>=</span> <span class=n>oneD</span><span class=p>.</span><span class=n>year</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>month</span> <span class=o>=</span> <span class=n>oneD</span><span class=p>.</span><span class=n>month</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>day</span> <span class=o>=</span> <span class=n>oneD</span><span class=p>.</span><span class=n>day</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=n>myDate</span> <span class=n>myDate</span><span class=o>::</span><span class=n>getDate</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=o>*</span><span class=k>this</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=n>myDate</span><span class=o>::</span><span class=n>setYear</span><span class=p>(</span><span class=kt>int</span> <span class=n>y</span><span class=p>){</span>
</span></span><span class=line><span class=cl>  <span class=n>year</span> <span class=o>=</span> <span class=n>y</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=n>myDate</span><span class=o>::</span><span class=n>getMonth</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=n>month</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=n>myDate</span><span class=o>::</span><span class=n>printDate</span><span class=p>()</span> <span class=k>const</span><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>year</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;/&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>month</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;/&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>day</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>Student</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl><span class=k>class</span> <span class=nc>Student</span><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>        <span class=kt>void</span> <span class=n>setStudent</span><span class=p>(</span><span class=n>string</span><span class=p>,</span> <span class=n>myDate</span><span class=p>);</span> <span class=c1>//设置学生信息
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=kt>void</span> <span class=nf>setName</span><span class=p>(</span><span class=n>string</span><span class=p>);</span>            <span class=c1>//设置姓名
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=n>string</span> <span class=nf>getName</span><span class=p>();</span>                <span class=c1>//获取姓名
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=kt>void</span> <span class=nf>setBirthday</span><span class=p>(</span><span class=n>myDate</span><span class=p>);</span>        <span class=c1>//设置生日
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=n>myDate</span> <span class=nf>getBirthday</span><span class=p>();</span>            <span class=c1>//获取生日
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=kt>void</span> <span class=nf>printStudent</span><span class=p>()</span> <span class=k>const</span><span class=p>;</span>       <span class=c1>//打印信息
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>    <span class=k>private</span><span class=o>:</span>
</span></span><span class=line><span class=cl>        <span class=n>string</span> <span class=n>name</span><span class=p>;</span>     <span class=c1>//姓名
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=n>myDate</span> <span class=n>birthday</span><span class=p>;</span> <span class=c1>//生日
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>};</span>
</span></span><span class=line><span class=cl>    <span class=c1>//类体外定义成员函数
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kt>void</span> <span class=n>Student</span><span class=o>::</span><span class=n>setStudent</span><span class=p>(</span><span class=n>string</span> <span class=n>s</span><span class=p>,</span> <span class=n>myDate</span> <span class=n>d</span><span class=p>){</span>
</span></span><span class=line><span class=cl>        <span class=n>name</span> <span class=o>=</span> <span class=n>s</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=n>birthday</span><span class=p>.</span><span class=n>setDate</span><span class=p>(</span><span class=n>d</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=kt>void</span> <span class=n>Student</span><span class=o>::</span><span class=n>setName</span><span class=p>(</span><span class=n>string</span> <span class=n>n</span><span class=p>){</span>
</span></span><span class=line><span class=cl>        <span class=n>name</span> <span class=o>=</span> <span class=n>n</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=n>string</span> <span class=n>Student</span><span class=o>::</span><span class=n>getName</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>name</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=kt>void</span> <span class=n>Student</span><span class=o>::</span><span class=n>setBirthday</span><span class=p>(</span><span class=n>myDate</span> <span class=n>d</span><span class=p>){</span>
</span></span><span class=line><span class=cl>        <span class=n>birthday</span><span class=p>.</span><span class=n>setDate</span><span class=p>(</span><span class=n>d</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=n>myDate</span> <span class=n>Student</span><span class=o>::</span><span class=n>getBirthday</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>birthday</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=kt>void</span> <span class=n>Student</span><span class=o>::</span><span class=n>printStudent</span><span class=p>()</span> <span class=k>const</span><span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;姓名:&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>name</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;</span><span class=se>\t</span><span class=s>生日:&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=n>birthday</span><span class=p>.</span><span class=n>printDate</span><span class=p>();</span> <span class=c1>//调用类myDate 的成员函数
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li></ul><h2 id=24-类成员的访问>2.4 类成员的访问<a hidden class=anchor aria-hidden=true href=#24-类成员的访问>#</a></h2><h5 id=1成员变量和成员函数的定义>1.成员变量和成员函数的定义<a hidden class=anchor aria-hidden=true href=#1成员变量和成员函数的定义>#</a></h5><ol><li>一个完整的C++程序包括：主函数main、用户定义的任意多个的类及全局函数、全局说明、注释、头文件</li><li>成员变量一般定义为私有访问权限，仅在本类中访问。类外需访问本函数来访问私有的成员变量。</li><li>在类体外定义成员函数时，要指明类的名称。如在函数体定义在类体内，系统将视为内联函数。</li><li>类中定义的成员函数允许重载。成员函数在内存中只有一份，每个对象共享。</li></ol><p>类的静态成员函数由类来调用
实例化对象时，系统为每个对象的成员变量分配内存，不会分配成员函数的空间。</p><h5 id=2定义对象的两种方法>2.定义对象的两种方法<a hidden class=anchor aria-hidden=true href=#2定义对象的两种方法>#</a></h5><ul><li>方法一，对象是类的实例</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl>     <span class=err>类名</span> <span class=err>对象名</span><span class=p>;</span>   <span class=c1>// 多个对象可用逗号隔开一起定义
</span></span></span><span class=line><span class=cl><span class=c1></span>     <span class=err>类名</span> <span class=err>对象名</span><span class=p>(</span><span class=err>参数</span><span class=p>);</span>  <span class=c1>// 定义对象的初始化
</span></span></span><span class=line><span class=cl><span class=c1></span>     <span class=err>类名</span> <span class=err>对象名</span> <span class=o>=</span> <span class=err>类名</span><span class=p>(</span><span class=err>参数</span><span class=p>);</span>
</span></span><span class=line><span class=cl>     <span class=err>类名</span> <span class=err>对象名</span><span class=mi>1</span><span class=p>,</span> <span class=err>对象名</span><span class=mi>2</span><span class=p>,...;</span>
</span></span><span class=line><span class=cl>     <span class=err>类名</span> <span class=err>对象名</span><span class=mi>1</span><span class=p>(</span><span class=err>参数</span><span class=p>),</span><span class=err>对象名</span><span class=mi>2</span><span class=p>(</span><span class=err>参数</span><span class=p>),...;</span>
</span></span></code></pre></td></tr></table></div></div><ul><li><p>方法二，用 new 创建对象时返回的是一个对象的指针, 必须用 delete 来撤销</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl><span class=err>类名</span> <span class=o>*</span><span class=err>对象指针名</span> <span class=o>=</span> <span class=k>new</span> <span class=err>类名</span><span class=p>;</span>    <span class=c1>//成员变量不初始化
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=err>类名</span> <span class=o>*</span><span class=err>对象指针名</span> <span class=o>=</span> <span class=k>new</span> <span class=err>类名</span><span class=p>();</span>    <span class=c1>//成员变量初始化，构造函数进行初始化
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=err>类名</span> <span class=o>*</span><span class=err>对象指针名</span> <span class=o>=</span> <span class=k>new</span> <span class=err>类名</span><span class=p>(</span><span class=err>参数</span><span class=p>);</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>声明对象引用, 即别名</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl><span class=err>类名</span> <span class=o>&amp;</span><span class=err>对象引用名</span> <span class=o>=</span> <span class=err>对象</span><span class=p>;</span>       <span class=c1>// 声明对象引用
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=err>类名</span> <span class=o>*</span><span class=err>对象指针名</span> <span class=o>=</span> <span class=err>对象的地址</span><span class=p>;</span>  <span class=c1>// 声明对象指针
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=err>类名</span> <span class=err>对象数组名</span><span class=p>[</span><span class=err>数组大小</span><span class=p>];</span>   <span class=c1>// 声明对象数组
</span></span></span></code></pre></td></tr></table></div></div></li><li><p>同类型对象之间可以相互赋值, 对象和对象指针都可以用作函数参数, 函数返回值可以使对象或指针</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++></code></pre></td></tr></table></div></div></li></ul><pre><code>myDate d1,d2;   // 定义了myDate对象d1,d2
myDate *p = &amp;d1;  // 定义了指向对象d1的myDate类类型的指针p
myDate &amp;R = &amp;d2;  // 定义了myDate类类型对象d2的引用R
myDate date[3];   // 定义了myDate类类型对象的数组date,含3个元素
 ```
</code></pre><h5 id=3使用对象访问成员变量与调用成员函数>3.使用对象访问成员变量与调用成员函数<a hidden class=anchor aria-hidden=true href=#3使用对象访问成员变量与调用成员函数>#</a></h5><p>私有成员在类的外部不可以直接调用</p><ol><li>对象访问成员变量的格式</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c++ data-lang=c++><span class=line><span class=cl><span class=err>对象名</span><span class=p>.</span><span class=err>成员变量名</span>
</span></span></code></pre></td></tr></table></div></div><ol start=2><li>使用对象的指针访问成员变量</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c++ data-lang=c++><span class=line><span class=cl><span class=err>对象的指针</span><span class=o>-&gt;</span><span class=err>成员变量名</span>
</span></span></code></pre></td></tr></table></div></div><ol start=3><li>使用对象的引用访问成员变量</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c++ data-lang=c++><span class=line><span class=cl><span class=err>对象的引用名</span><span class=p>.</span><span class=err>成员名</span>
</span></span></code></pre></td></tr></table></div></div><ol start=4><li>调用成员函数的格式</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c++ data-lang=c++><span class=line><span class=cl><span class=err>对象名</span><span class=p>.</span><span class=err>成员函数名</span><span class=p>(</span><span class=err>参数表</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=err>对象的指针</span><span class=o>-&gt;</span><span class=err>成员函数名</span><span class=p>(</span><span class=err>参数表</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=err>对象的引用</span><span class=p>.</span><span class=err>成员函数名</span><span class=p>(</span><span class=err>参数表</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p>示例：验证类功能的驱动程序</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>  1
</span><span class=lnt>  2
</span><span class=lnt>  3
</span><span class=lnt>  4
</span><span class=lnt>  5
</span><span class=lnt>  6
</span><span class=lnt>  7
</span><span class=lnt>  8
</span><span class=lnt>  9
</span><span class=lnt> 10
</span><span class=lnt> 11
</span><span class=lnt> 12
</span><span class=lnt> 13
</span><span class=lnt> 14
</span><span class=lnt> 15
</span><span class=lnt> 16
</span><span class=lnt> 17
</span><span class=lnt> 18
</span><span class=lnt> 19
</span><span class=lnt> 20
</span><span class=lnt> 21
</span><span class=lnt> 22
</span><span class=lnt> 23
</span><span class=lnt> 24
</span><span class=lnt> 25
</span><span class=lnt> 26
</span><span class=lnt> 27
</span><span class=lnt> 28
</span><span class=lnt> 29
</span><span class=lnt> 30
</span><span class=lnt> 31
</span><span class=lnt> 32
</span><span class=lnt> 33
</span><span class=lnt> 34
</span><span class=lnt> 35
</span><span class=lnt> 36
</span><span class=lnt> 37
</span><span class=lnt> 38
</span><span class=lnt> 39
</span><span class=lnt> 40
</span><span class=lnt> 41
</span><span class=lnt> 42
</span><span class=lnt> 43
</span><span class=lnt> 44
</span><span class=lnt> 45
</span><span class=lnt> 46
</span><span class=lnt> 47
</span><span class=lnt> 48
</span><span class=lnt> 49
</span><span class=lnt> 50
</span><span class=lnt> 51
</span><span class=lnt> 52
</span><span class=lnt> 53
</span><span class=lnt> 54
</span><span class=lnt> 55
</span><span class=lnt> 56
</span><span class=lnt> 57
</span><span class=lnt> 58
</span><span class=lnt> 59
</span><span class=lnt> 60
</span><span class=lnt> 61
</span><span class=lnt> 62
</span><span class=lnt> 63
</span><span class=lnt> 64
</span><span class=lnt> 65
</span><span class=lnt> 66
</span><span class=lnt> 67
</span><span class=lnt> 68
</span><span class=lnt> 69
</span><span class=lnt> 70
</span><span class=lnt> 71
</span><span class=lnt> 72
</span><span class=lnt> 73
</span><span class=lnt> 74
</span><span class=lnt> 75
</span><span class=lnt> 76
</span><span class=lnt> 77
</span><span class=lnt> 78
</span><span class=lnt> 79
</span><span class=lnt> 80
</span><span class=lnt> 81
</span><span class=lnt> 82
</span><span class=lnt> 83
</span><span class=lnt> 84
</span><span class=lnt> 85
</span><span class=lnt> 86
</span><span class=lnt> 87
</span><span class=lnt> 88
</span><span class=lnt> 89
</span><span class=lnt> 90
</span><span class=lnt> 91
</span><span class=lnt> 92
</span><span class=lnt> 93
</span><span class=lnt> 94
</span><span class=lnt> 95
</span><span class=lnt> 96
</span><span class=lnt> 97
</span><span class=lnt> 98
</span><span class=lnt> 99
</span><span class=lnt>100
</span><span class=lnt>101
</span><span class=lnt>102
</span><span class=lnt>103
</span><span class=lnt>104
</span><span class=lnt>105
</span><span class=lnt>106
</span><span class=lnt>107
</span><span class=lnt>108
</span><span class=lnt>109
</span><span class=lnt>110
</span><span class=lnt>111
</span><span class=lnt>112
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c++ data-lang=c++><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;iostream&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;string&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=k>using</span> <span class=k>namespace</span> <span class=n>std</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>myDate</span><span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>	  <span class=n>myDate</span><span class=p>();</span>                    <span class=c1>//构造函数
</span></span></span><span class=line><span class=cl><span class=c1></span>	  <span class=n>myDate</span><span class=p>(</span><span class=kt>int</span><span class=p>,</span> <span class=kt>int</span><span class=p>,</span> <span class=kt>int</span><span class=p>);</span>       <span class=c1>//构造函数
</span></span></span><span class=line><span class=cl><span class=c1></span>	  <span class=kt>void</span> <span class=nf>setDate</span><span class=p>(</span><span class=kt>int</span><span class=p>,</span> <span class=kt>int</span><span class=p>,</span> <span class=kt>int</span><span class=p>);</span> <span class=c1>//设置日期
</span></span></span><span class=line><span class=cl><span class=c1></span>	  <span class=kt>void</span> <span class=nf>setDate</span><span class=p>(</span><span class=n>myDate</span><span class=p>);</span>        <span class=c1>//设置日期
</span></span></span><span class=line><span class=cl><span class=c1></span>	  <span class=n>myDate</span> <span class=nf>getDate</span><span class=p>();</span>            <span class=c1>//获取日期
</span></span></span><span class=line><span class=cl><span class=c1></span>	  <span class=kt>void</span> <span class=nf>setYear</span><span class=p>(</span><span class=kt>int</span><span class=p>);</span>           <span class=c1>//设置年
</span></span></span><span class=line><span class=cl><span class=c1></span>	  <span class=kt>int</span> <span class=nf>getMonth</span><span class=p>();</span>              <span class=c1>//获取月
</span></span></span><span class=line><span class=cl><span class=c1></span>	  <span class=kt>void</span> <span class=nf>printDate</span><span class=p>()</span> <span class=k>const</span><span class=p>;</span>      <span class=c1>//打印日期
</span></span></span><span class=line><span class=cl><span class=c1></span>	
</span></span><span class=line><span class=cl>	<span class=k>private</span><span class=o>:</span>
</span></span><span class=line><span class=cl>	  <span class=kt>int</span> <span class=n>year</span><span class=p>,</span> <span class=n>month</span><span class=p>,</span> <span class=n>day</span><span class=p>;</span> <span class=c1>//成员变量,年月日
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>};</span>
</span></span><span class=line><span class=cl><span class=c1>//类体外定义成员函数
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>myDate</span><span class=o>::</span><span class=n>myDate</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>  <span class=n>year</span> <span class=o>=</span> <span class=mi>1970</span><span class=p>,</span> <span class=n>month</span> <span class=o>=</span> <span class=mi>1</span><span class=p>,</span> <span class=n>day</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=n>myDate</span><span class=o>::</span><span class=n>myDate</span><span class=p>(</span><span class=kt>int</span> <span class=n>y</span><span class=p>,</span> <span class=kt>int</span> <span class=n>m</span><span class=p>,</span> <span class=kt>int</span> <span class=n>d</span><span class=p>){</span>
</span></span><span class=line><span class=cl>  <span class=n>year</span> <span class=o>=</span> <span class=n>y</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>month</span> <span class=o>=</span> <span class=n>m</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>day</span> <span class=o>=</span> <span class=n>d</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=n>myDate</span><span class=o>::</span><span class=n>setDate</span><span class=p>(</span><span class=kt>int</span> <span class=n>y</span><span class=p>,</span> <span class=kt>int</span> <span class=n>m</span><span class=p>,</span> <span class=kt>int</span> <span class=n>d</span><span class=p>){</span>
</span></span><span class=line><span class=cl>  <span class=n>year</span> <span class=o>=</span> <span class=n>y</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>month</span> <span class=o>=</span> <span class=n>m</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>day</span> <span class=o>=</span> <span class=n>d</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=n>myDate</span><span class=o>::</span><span class=n>setDate</span><span class=p>(</span><span class=n>myDate</span> <span class=n>oneD</span><span class=p>){</span>
</span></span><span class=line><span class=cl>  <span class=n>year</span> <span class=o>=</span> <span class=n>oneD</span><span class=p>.</span><span class=n>year</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>month</span> <span class=o>=</span> <span class=n>oneD</span><span class=p>.</span><span class=n>month</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>day</span> <span class=o>=</span> <span class=n>oneD</span><span class=p>.</span><span class=n>day</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=n>myDate</span> <span class=n>myDate</span><span class=o>::</span><span class=n>getDate</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=o>*</span><span class=k>this</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=n>myDate</span><span class=o>::</span><span class=n>setYear</span><span class=p>(</span><span class=kt>int</span> <span class=n>y</span><span class=p>){</span>
</span></span><span class=line><span class=cl>  <span class=n>year</span> <span class=o>=</span> <span class=n>y</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=n>myDate</span><span class=o>::</span><span class=n>getMonth</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=n>month</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=n>myDate</span><span class=o>::</span><span class=n>printDate</span><span class=p>()</span> <span class=k>const</span><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>year</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;/&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>month</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;/&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>day</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Student</span><span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>	  <span class=kt>void</span> <span class=n>setStudent</span><span class=p>(</span><span class=n>string</span><span class=p>,</span> <span class=n>myDate</span><span class=p>);</span> <span class=c1>//设置学生信息
</span></span></span><span class=line><span class=cl><span class=c1></span>	  <span class=kt>void</span> <span class=nf>setName</span><span class=p>(</span><span class=n>string</span><span class=p>);</span>            <span class=c1>//设置姓名
</span></span></span><span class=line><span class=cl><span class=c1></span>	  <span class=n>string</span> <span class=nf>getName</span><span class=p>();</span>                <span class=c1>//获取姓名
</span></span></span><span class=line><span class=cl><span class=c1></span>	  <span class=kt>void</span> <span class=nf>setBirthday</span><span class=p>(</span><span class=n>myDate</span><span class=p>);</span>        <span class=c1>//设置生日
</span></span></span><span class=line><span class=cl><span class=c1></span>	  <span class=n>myDate</span> <span class=nf>getBirthday</span><span class=p>();</span>            <span class=c1>//获取生日
</span></span></span><span class=line><span class=cl><span class=c1></span>	  <span class=kt>void</span> <span class=nf>printStudent</span><span class=p>()</span> <span class=k>const</span><span class=p>;</span>       <span class=c1>//打印信息
</span></span></span><span class=line><span class=cl><span class=c1></span>	
</span></span><span class=line><span class=cl>	<span class=k>private</span><span class=o>:</span>
</span></span><span class=line><span class=cl>	  <span class=n>string</span> <span class=n>name</span><span class=p>;</span>     <span class=c1>//姓名
</span></span></span><span class=line><span class=cl><span class=c1></span>	  <span class=n>myDate</span> <span class=n>birthday</span><span class=p>;</span> <span class=c1>//生日
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>};</span>
</span></span><span class=line><span class=cl><span class=c1>//类体外定义成员函数
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>void</span> <span class=n>Student</span><span class=o>::</span><span class=n>setStudent</span><span class=p>(</span><span class=n>string</span> <span class=n>s</span><span class=p>,</span> <span class=n>myDate</span> <span class=n>d</span><span class=p>){</span>
</span></span><span class=line><span class=cl>  <span class=n>name</span> <span class=o>=</span> <span class=n>s</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>birthday</span><span class=p>.</span><span class=n>setDate</span><span class=p>(</span><span class=n>d</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=n>Student</span><span class=o>::</span><span class=n>setName</span><span class=p>(</span><span class=n>string</span> <span class=n>n</span><span class=p>){</span>
</span></span><span class=line><span class=cl>  <span class=n>name</span> <span class=o>=</span> <span class=n>n</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=n>string</span> <span class=n>Student</span><span class=o>::</span><span class=n>getName</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=n>name</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=n>Student</span><span class=o>::</span><span class=n>setBirthday</span><span class=p>(</span><span class=n>myDate</span> <span class=n>d</span><span class=p>){</span>
</span></span><span class=line><span class=cl>  <span class=n>birthday</span><span class=p>.</span><span class=n>setDate</span><span class=p>(</span><span class=n>d</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=n>myDate</span> <span class=n>Student</span><span class=o>::</span><span class=n>getBirthday</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=n>birthday</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=n>Student</span><span class=o>::</span><span class=n>printStudent</span><span class=p>()</span> <span class=k>const</span><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;姓名:&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>name</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;</span><span class=se>\t</span><span class=s>生日:&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>birthday</span><span class=p>.</span><span class=n>printDate</span><span class=p>();</span> <span class=c1>//调用类myDate 的成员函数
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=nf>main</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>	<span class=n>Student</span> <span class=n>ss</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=kt>int</span> <span class=n>y</span><span class=p>,</span> <span class=n>m</span><span class=p>,</span> <span class=n>d</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=n>string</span> <span class=n>name_</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;请输入学生的姓名和生日, 生日以</span><span class=se>\&#34;</span><span class=s>年 月 日</span><span class=se>\&#34;</span><span class=s>的次序输入:&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=n>cin</span> <span class=o>&gt;&gt;</span> <span class=n>name_</span> <span class=o>&gt;&gt;</span> <span class=n>y</span> <span class=o>&gt;&gt;</span> <span class=n>m</span> <span class=o>&gt;&gt;</span> <span class=n>d</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=n>ss</span><span class=p>.</span><span class=n>setStudent</span><span class=p>(</span><span class=n>name_</span><span class=p>,</span> <span class=n>myDate</span><span class=p>(</span><span class=n>y</span><span class=p>,</span> <span class=n>m</span><span class=p>,</span> <span class=n>d</span><span class=p>));</span>
</span></span><span class=line><span class=cl>	<span class=n>ss</span><span class=p>.</span><span class=n>printStudent</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=c1>// 指针方式
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=n>Student</span> <span class=o>*</span><span class=n>sp</span> <span class=o>=</span> <span class=o>&amp;</span><span class=n>ss</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=n>sp</span><span class=o>-&gt;</span><span class=n>setName</span><span class=p>(</span><span class=n>name_</span><span class=p>,</span><span class=n>myDate</span><span class=p>(</span><span class=n>y</span><span class=p>,</span><span class=n>m</span><span class=p>,</span><span class=n>d</span><span class=p>));</span>
</span></span><span class=line><span class=cl>	<span class=n>sp</span><span class=o>-&gt;</span><span class=n>printStudent</span><span class=p>();</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=c1>// 对象的引用
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=n>Student</span> <span class=o>&amp;</span><span class=n>sy</span> <span class=o>=</span> <span class=o>&amp;</span><span class=n>ss</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=n>sy</span><span class=p>.</span><span class=n>setName</span><span class=p>(</span><span class=n>name_</span><span class=p>,</span><span class=n>myDate</span><span class=p>(</span><span class=n>y</span><span class=p>,</span><span class=n>m</span><span class=p>,</span><span class=n>d</span><span class=p>));</span>
</span></span><span class=line><span class=cl>	<span class=n>sy</span><span class=p>.</span><span class=n>printStudent</span><span class=p>();</span>
</span></span><span class=line><span class=cl>	
</span></span><span class=line><span class=cl>	<span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h5 id=4类成员的可访问范围>4.类成员的可访问范围<a hidden class=anchor aria-hidden=true href=#4类成员的可访问范围>#</a></h5><p>访问范围说明符的含义</p><ul><li><code>public</code>: 公有, 任何地方可以访问</li><li><code>private</code>: 私有, 仅能在本类（或友元函数）中被访问</li><li><code>protected</code>: 允许本类及子类 ( 派生类 ) 中被访问</li></ul><p>如果某个成员没有范围修饰符，默认为私有成员</p><p>一般将成员变量声明为私有，相关成员函数声明为公有，以便外部调用成员函数来操纵成员变量。</p><p>设置为私有成员的机制叫作 <strong>隐藏</strong>。隐藏的优点有：</p><ol><li>有利于程序的修改</li><li>可以避免对对象的不正确操作</li></ol><h1 id=第三章-类和对象进阶>第三章 类和对象进阶<a hidden class=anchor aria-hidden=true href=#第三章-类和对象进阶>#</a></h1><ul><li>构造函数、析构函数、复制构造函数</li><li>特殊成员，包括静态成员、常量成员、常引用成员</li><li>类成员的生存期及作用域</li><li>封闭类的概念，定义封闭类</li><li>友元函数</li><li>this 指针</li></ul><h4 id=31-构造函数>3.1 构造函数<a hidden class=anchor aria-hidden=true href=#31-构造函数>#</a></h4><h5 id=构造函数的定义>构造函数的定义<a hidden class=anchor aria-hidden=true href=#构造函数的定义>#</a></h5><ul><li><strong>构造函数名字与类名相同</strong>, 无返回值, 一个类可以有多个构造函数(参数不能相同), 允许重载</li><li>构造函数的作用：完成对象的初始化, 成员变量赋初值</li><li><code>类名(形参1,形参2,...形参n);</code></li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl>  <span class=c1>// 类外定义构造函数
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=c1>// 成员变量 x1,x2,...,xn;
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=c1>// 形式1
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=err>类名</span><span class=o>::</span><span class=err>类名</span><span class=p>(</span><span class=err>形参</span><span class=mi>1</span><span class=p>,</span><span class=err>形参</span><span class=mi>2</span><span class=p>,...</span><span class=err>形参</span><span class=n>n</span><span class=p>)</span><span class=o>:</span><span class=n>x1</span><span class=p>(</span><span class=err>形参</span><span class=mi>1</span><span class=p>),</span><span class=n>x2</span><span class=p>(</span><span class=err>形参</span><span class=mi>2</span><span class=p>),...,</span><span class=n>xn</span><span class=p>(</span><span class=err>形参</span><span class=n>n</span><span class=p>){}</span>   <span class=c1>// 形参1赋值给x1，形参2赋值给x2,... 
</span></span></span><span class=line><span class=cl><span class=c1></span>  
</span></span><span class=line><span class=cl>  <span class=c1>// 形式2
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=err>类名</span><span class=o>::</span><span class=err>类名</span><span class=p>(</span><span class=err>形参</span><span class=mi>1</span><span class=p>,</span><span class=err>形参</span><span class=mi>2</span><span class=p>,...,</span><span class=err>形参</span><span class=n>n</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>x1</span> <span class=o>=</span> <span class=err>形参</span><span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>x2</span> <span class=o>=</span> <span class=err>形参</span><span class=mi>2</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>...</span>
</span></span><span class=line><span class=cl>    <span class=n>xn</span> <span class=o>=</span> <span class=err>形参</span><span class=n>n</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=c1>// 形式3
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=err>类名</span><span class=o>::</span><span class=err>类名</span><span class=p>()</span>  <span class=c1>// 成员变量所赋的初值都是固定的
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>{</span>
</span></span><span class=line><span class=cl>  	<span class=n>x1</span> <span class=o>=</span> <span class=err>初始化表达值</span><span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  	<span class=n>x2</span> <span class=o>=</span> <span class=err>初始化表达值</span><span class=mi>2</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  	<span class=p>...</span>
</span></span><span class=line><span class=cl>  	<span class=n>xn</span> <span class=o>=</span> <span class=err>初始化表达值</span><span class=n>n</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=err>```</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=err>```</span><span class=n>c</span><span class=o>++</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>myDate</span><span class=p>{</span>
</span></span><span class=line><span class=cl> <span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl> 	<span class=n>myDate</span><span class=p>();</span>
</span></span><span class=line><span class=cl> 	<span class=n>myDate</span><span class=p>(</span><span class=kt>int</span><span class=p>);</span>
</span></span><span class=line><span class=cl> 	<span class=n>myDate</span><span class=p>(</span><span class=kt>int</span><span class=p>,</span><span class=kt>int</span><span class=p>);</span>
</span></span><span class=line><span class=cl> 	<span class=n>myDate</span><span class=p>(</span><span class=kt>int</span><span class=p>,</span><span class=kt>int</span><span class=p>,</span><span class=kt>int</span><span class=p>);</span>
</span></span><span class=line><span class=cl> 	<span class=p>...</span>
</span></span><span class=line><span class=cl> <span class=k>private</span><span class=o>:</span>
</span></span><span class=line><span class=cl> 	<span class=kt>int</span> <span class=n>year</span><span class=p>,</span><span class=n>month</span><span class=p>,</span><span class=n>day</span><span class=p>;</span>  <span class=c1>// 成员变量
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=c1>// 定义构造函数
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>myDate</span><span class=o>::</span><span class=n>myDate</span><span class=p>(){</span> <span class=c1>// 固定初始值
</span></span></span><span class=line><span class=cl><span class=c1></span> <span class=n>year</span> <span class=o>=</span> <span class=mi>1970</span><span class=p>;</span>
</span></span><span class=line><span class=cl> <span class=n>month</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl> <span class=n>day</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=n>myDate</span><span class=o>::</span><span class=n>myDate</span><span class=p>(</span><span class=kt>int</span> <span class=n>d</span><span class=p>)</span><span class=o>:</span><span class=n>year</span><span class=p>(</span><span class=mi>1970</span><span class=p>),</span><span class=n>month</span><span class=p>(</span><span class=mi>1</span><span class=p>){</span>  <span class=c1>// 带一个参数
</span></span></span><span class=line><span class=cl><span class=c1></span> <span class=n>day</span> <span class=o>=</span> <span class=n>d</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>myDate</span><span class=o>::</span><span class=n>myDate</span><span class=p>(</span><span class=kt>int</span> <span class=n>m</span><span class=p>,</span><span class=kt>int</span> <span class=n>m</span><span class=p>)</span><span class=o>:</span><span class=n>year</span><span class=p>(</span><span class=mi>1970</span><span class=p>){</span> <span class=c1>// 带2个参数
</span></span></span><span class=line><span class=cl><span class=c1></span> <span class=n>month</span> <span class=o>=</span> <span class=n>m</span><span class=p>;</span>
</span></span><span class=line><span class=cl> <span class=n>day</span> <span class=o>=</span> <span class=n>d</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>myDate</span><span class=o>::</span><span class=n>myDate</span><span class=p>(</span><span class=kt>int</span> <span class=n>y</span><span class=p>,</span><span class=kt>int</span> <span class=n>m</span><span class=p>,</span><span class=kt>int</span> <span class=n>d</span><span class=p>){</span>  <span class=c1>// 带三个参数
</span></span></span><span class=line><span class=cl><span class=c1></span> <span class=n>year</span> <span class=o>=</span> <span class=n>y</span><span class=p>;</span>
</span></span><span class=line><span class=cl> <span class=n>month</span> <span class=o>=</span> <span class=n>m</span><span class=p>;</span>
</span></span><span class=line><span class=cl> <span class=n>day</span> <span class=o>=</span> <span class=n>d</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h5 id=构造函数的使用>构造函数的使用<a hidden class=anchor aria-hidden=true href=#构造函数的使用>#</a></h5><ul><li><p>创建对象时根据调用语句中所带实参数量确定使用哪个构造函数</p></li><li><p>当程序创建一个对象时，系统自动调用构造函数来初始化对象。</p></li><li><p>如果创建对象提供了实参，则使用实参为对象成员变量赋值；如果没有提供实参，则使用默认值为对象的成员变量赋值。</p></li><li><p>使用构造函数创建对象指针</p></li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c++ data-lang=c++><span class=line><span class=cl><span class=c1>// 括号可加、可不加
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>myDate</span><span class=o>::</span><span class=n>myDate</span><span class=p>(</span><span class=kt>int</span> <span class=n>y</span><span class=o>=</span><span class=mi>1970</span><span class=p>,</span><span class=kt>int</span> <span class=n>m</span> <span class=o>=</span> <span class=mi>2</span><span class=p>,</span><span class=kt>int</span> <span class=n>d</span> <span class=o>=</span> <span class=mi>14</span><span class=p>){</span>
</span></span><span class=line><span class=cl>	<span class=n>year</span> <span class=o>=</span> <span class=n>y</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=n>month</span> <span class=o>=</span> <span class=n>m</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=n>day</span> <span class=o>=</span> <span class=n>d</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>使用 new 创建对象指针</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c++ data-lang=c++><span class=line><span class=cl><span class=c1>// 括号可加、可不加
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>myDate</span> <span class=o>*</span><span class=n>pd</span> <span class=o>=</span> <span class=k>new</span> <span class=n>myDate</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=n>myDate</span> <span class=o>*</span><span class=n>pd</span> <span class=o>=</span> <span class=k>new</span> <span class=n>myDate</span><span class=p>;</span>
</span></span></code></pre></td></tr></table></div></div><ul><li><p>加括号, 系统为成员变量分配内存的同时，将其初始化为 0</p></li><li><p>不加括号时, 系统只为成员变量分配内存空间，但不进行内存的初始化，成员变量的值是随机值。</p><ul><li>声明对象数组, 每一个元素都是对象, 一定要为对象所属定义一个无参的构造函数，<strong>每一个数组元素都要调用构造函数。</strong></li></ul></li></ul><p>如 类MyDate为例：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c++ data-lang=c++><span class=line><span class=cl><span class=n>myDate</span> <span class=n>A</span><span class=p>[</span><span class=mi>3</span><span class=p>];</span>   <span class=c1>// 此时调用无参的构造函数3次，为数组A的3个元素进行初始化。 A[0]=A[1]=A[2]的值都是1970/2/14
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>myDate</span> <span class=n>B</span><span class=p>[</span><span class=mi>3</span><span class=p>]</span> <span class=o>=</span> <span class=p>{</span><span class=n>myDate</span><span class=p>(</span><span class=mi>1980</span><span class=p>),</span><span class=n>myDate</span><span class=p>(</span><span class=mi>1990</span><span class=p>,</span><span class=mi>12</span><span class=p>),</span><span class=n>myDate</span><span class=p>(</span><span class=mi>1980</span><span class=p>,</span><span class=mi>9</span><span class=p>,</span><span class=mi>10</span><span class=p>)};</span> <span class=c1>// A[0]= 1980/2/14
</span></span></span><span class=line><span class=cl><span class=c1></span>												<span class=c1>//A[1]= 1990/12/14    A[2] = 1980/9/10
</span></span></span></code></pre></td></tr></table></div></div><p>特例, 声明数组时给各元素赋初值, 不用无参构造函数</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl>     <span class=kt>int</span> <span class=nf>main</span><span class=p>()</span>
</span></span><span class=line><span class=cl>     <span class=p>{</span>
</span></span><span class=line><span class=cl>       <span class=n>Student</span> <span class=n>stud</span><span class=p>;</span>
</span></span><span class=line><span class=cl>       <span class=n>stud</span><span class=p>.</span><span class=n>printStudent</span><span class=p>();</span>                           <span class=c1>//输出默认值
</span></span></span><span class=line><span class=cl><span class=c1></span>       <span class=n>stud</span><span class=p>.</span><span class=n>setName</span><span class=p>(</span><span class=s>&#34;111&#34;</span><span class=p>);</span>                           <span class=c1>//姓名改为111
</span></span></span><span class=line><span class=cl><span class=c1></span>       <span class=n>stud</span><span class=p>.</span><span class=n>printStudent</span><span class=p>();</span>                           <span class=c1>//输出修改后的值 111
</span></span></span><span class=line><span class=cl><span class=c1></span>       
</span></span><span class=line><span class=cl>       <span class=n>Student</span> <span class=o>*</span><span class=n>spointer</span><span class=p>[</span><span class=mi>2</span><span class=p>]</span> <span class=o>=</span> <span class=p>{</span><span class=k>new</span> <span class=n>Student</span><span class=p>(),</span> <span class=o>&amp;</span><span class=n>stud</span><span class=p>};</span> <span class=c1>//初始化
</span></span></span><span class=line><span class=cl><span class=c1></span>       <span class=n>Student</span> <span class=n>sy</span><span class=p>[</span><span class=mi>2</span><span class=p>]</span> <span class=o>=</span> <span class=p>{</span><span class=n>Student</span><span class=p>(),</span> <span class=n>stud</span><span class=p>};</span>             <span class=c1>//初始化 分配新的内存地址
</span></span></span><span class=line><span class=cl><span class=c1></span>       <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=mi>2</span><span class=p>;</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span>                    <span class=c1>//使用指针输出指针指向的对象的值
</span></span></span><span class=line><span class=cl><span class=c1></span>         <span class=n>spointer</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=o>-&gt;</span><span class=n>printStudent</span><span class=p>();</span>                 <span class=c1>//姓名111
</span></span></span><span class=line><span class=cl><span class=c1></span>       <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=mi>2</span><span class=p>;</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span>                    <span class=c1>//使用点运算符输出各值
</span></span></span><span class=line><span class=cl><span class=c1></span>         <span class=n>sy</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>printStudent</span><span class=p>();</span>                        <span class=c1>//姓名111
</span></span></span><span class=line><span class=cl><span class=c1></span>         
</span></span><span class=line><span class=cl>       <span class=n>stud</span><span class=p>.</span><span class=n>setName</span><span class=p>(</span><span class=s>&#34;222&#34;</span><span class=p>);</span>                           <span class=c1>//姓名222
</span></span></span><span class=line><span class=cl><span class=c1></span>       <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=mi>2</span><span class=p>;</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span>                    <span class=c1>//sp[1]指向的对象的值改变
</span></span></span><span class=line><span class=cl><span class=c1></span>         <span class=n>spointer</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=o>-&gt;</span><span class=n>printStudent</span><span class=p>();</span>                 <span class=c1>//姓名222
</span></span></span><span class=line><span class=cl><span class=c1></span>         
</span></span><span class=line><span class=cl>       <span class=n>spointer</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span><span class=o>-&gt;</span><span class=n>setName</span><span class=p>(</span><span class=s>&#34;333&#34;</span><span class=p>);</span>                   <span class=c1>//影响student的值
</span></span></span><span class=line><span class=cl><span class=c1></span>       <span class=n>spointer</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span><span class=o>-&gt;</span><span class=n>setName</span><span class=p>(</span><span class=s>&#34;444&#34;</span><span class=p>);</span>                   <span class=c1>//影响stud的值
</span></span></span><span class=line><span class=cl><span class=c1></span>       <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=mi>2</span><span class=p>;</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span>                    <span class=c1>//指向对象的值都改变
</span></span></span><span class=line><span class=cl><span class=c1></span>         <span class=n>spointer</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=o>-&gt;</span><span class=n>printStudent</span><span class=p>();</span>                 <span class=c1>// 姓名444
</span></span></span><span class=line><span class=cl><span class=c1></span>       <span class=n>stud</span><span class=p>.</span><span class=n>printStudent</span><span class=p>();</span>                           <span class=c1>//值变成 姓名444 生日1970
</span></span></span><span class=line><span class=cl><span class=c1></span>       
</span></span><span class=line><span class=cl>       <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=mi>2</span><span class=p>;</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span>
</span></span><span class=line><span class=cl>         <span class=n>sy</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>printStudent</span><span class=p>();</span> <span class=c1>//值不变
</span></span></span><span class=line><span class=cl><span class=c1></span>       <span class=c1>// 姓名NoName 生日1970
</span></span></span><span class=line><span class=cl><span class=c1></span>       <span class=c1>// 姓名111 生日1970
</span></span></span><span class=line><span class=cl><span class=c1></span>       <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>     <span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h5 id=复制构造函数与类型转换构造函数><strong>复制构造函数与类型转换构造函数</strong><a hidden class=anchor aria-hidden=true href=#复制构造函数与类型转换构造函数>#</a></h5><ul><li><p>也叫拷贝构造函数，作用：<strong>使用一个已存在的对象去初始化另一个新创建的对象</strong></p></li><li><p>如果类中没有给出复制构造函数，那么编译器会自动生成一个默认复制构造函数</p><ul><li><strong>复制构造函数只有一个参数</strong>，参数是引用类自己的对象，<strong>形参是本类对象的引用</strong></li></ul></li><li><p>对于类 A ，复制构造函数的原型如下</p></li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c++ data-lang=c++><span class=line><span class=cl><span class=c1>// 为了不改变原有对象，使用const限制
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>A</span><span class=o>::</span><span class=n>A</span><span class=p>(</span><span class=k>const</span> <span class=n>A</span><span class=o>&amp;</span><span class=p>);</span>    <span class=c1>// 对象的引用作为形参
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>A</span><span class=o>::</span><span class=n>A</span><span class=p>(</span><span class=n>A</span><span class=o>&amp;</span><span class=p>);</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>声明和实现复制构造函数的格式</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl><span class=k>class</span> <span class=err>类名</span><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    	<span class=err>类名</span><span class=p>(</span><span class=err>参数表</span><span class=p>);</span>				<span class=c1>//构造函数
</span></span></span><span class=line><span class=cl><span class=c1></span>    	<span class=err>类名</span><span class=p>(</span><span class=err>类名</span> <span class=o>&amp;</span> <span class=err>对象名</span><span class=p>);</span>	 <span class=c1>//复制构造函数
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=p>...</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl><span class=err>类名</span><span class=o>::</span><span class=err>类名</span><span class=p>(</span><span class=err>类名</span> <span class=o>&amp;</span> <span class=err>对象名</span><span class=p>)</span> <span class=c1>//复制构造函数的实现
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=err>函数体</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 在类Student中声明复制构造函数的原型
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>Student</span><span class=p>(</span><span class=k>const</span> <span class=n>Student</span> <span class=o>&amp;</span><span class=n>s</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=c1>// 赋值构造函数的函数体如下
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>Student</span><span class=o>::</span><span class=n>Student</span><span class=p>(</span><span class=k>const</span> <span class=n>Student</span> <span class=o>&amp;</span><span class=n>s</span><span class=p>){</span>
</span></span><span class=line><span class=cl>	<span class=n>name</span> <span class=o>=</span> <span class=s>&#34;copy&#34;</span> <span class=o>+</span> <span class=n>s</span><span class=p>.</span><span class=n>name</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=n>birthday</span> <span class=o>=</span> <span class=n>s</span><span class=p>.</span><span class=n>birthday</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=c1>// 主函数有如下的语句
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>Student</span> <span class=n>stud</span><span class=p>;</span>  <span class=c1>// 定义对象stud并调用构造函数初始化
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>Student</span> <span class=nf>stud2</span><span class=p>(</span><span class=n>stud</span><span class=p>);</span> <span class=c1>// 定义对象stud2并调用复制构造函数初始化
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>Student</span> <span class=n>stud3</span> <span class=o>=</span> <span class=n>stud</span><span class=p>;</span> <span class=c1>// 定义对象stud3 并调用复制构造函数初始化
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>Student</span> <span class=n>ss</span><span class=p>[</span><span class=mi>3</span><span class=p>]</span> <span class=o>=</span> <span class=p>{</span><span class=n>Student</span><span class=p>(),</span><span class=n>stud</span><span class=p>,</span><span class=n>Student</span><span class=p>(</span><span class=n>stud</span><span class=p>)};</span> 
</span></span><span class=line><span class=cl><span class=cm>/* Student()调用构造函数为ss[0]初始化
</span></span></span><span class=line><span class=cl><span class=cm> stud，Student(stud)作用一样，都是调用复制构造函数为ss[1]和ss[2]初始化，结果也一样的*/</span>
</span></span></code></pre></td></tr></table></div></div><h6 id=调用复制构造函数>调用复制构造函数<a hidden class=anchor aria-hidden=true href=#调用复制构造函数>#</a></h6><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c++ data-lang=c++><span class=line><span class=cl><span class=n>Student</span> <span class=n>stud</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>Student</span> <span class=n>ss</span><span class=p>[</span><span class=mi>2</span><span class=p>]</span> <span class=o>=</span> <span class=p>{</span><span class=n>stud</span><span class=p>,</span><span class=n>Student</span><span class=p>()};</span> <span class=c1>// 创建ss[0]中的对象时，用到了默认复制构造函数
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=err>第二句等同于如下三句：</span>
</span></span><span class=line><span class=cl><span class=n>Student</span> <span class=n>ss</span><span class=p>[</span><span class=mi>2</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=n>ss</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>=</span> <span class=n>Student</span><span class=p>(</span><span class=n>stud</span><span class=p>);</span>  <span class=c1>// 调用默认复制构造函数
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>ss</span><span class=p>[</span><span class=mi>1</span><span class=p>]</span> <span class=o>=</span> <span class=n>Student</span><span class=p>();</span>   <span class=c1>// 调用构造函数
</span></span></span></code></pre></td></tr></table></div></div><ul><li>自动调用复制函数的三种情况</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl>     <span class=err>类名</span> <span class=err>对象名</span><span class=mi>2</span><span class=p>(</span><span class=err>对象名</span><span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>     <span class=err>类名</span> <span class=err>对象名</span><span class=mi>2</span> <span class=o>=</span> <span class=err>对象名</span><span class=mi>1</span><span class=p>;</span>
</span></span></code></pre></td></tr></table></div></div><pre><code>1.用一个对象去初始化本类另一个对象
2. 如果函数F 的参数是类A 的对象, 调用F 时, 会调用类 A 的复制构造函数
3. 如果函数返回值是类A 的对象, 函数返回时会调用类 A 的复制构造函数
</code></pre><p>注意: 复制构造函数的参数表中加上 const 更好</p><h6 id=类型转换构造函数><strong>类型转换构造函数</strong><a hidden class=anchor aria-hidden=true href=#类型转换构造函数>#</a></h6><ul><li>如果构造函数只有一个参数, 则可以看做类型转换构造函数, 作用是进行类型自动转换</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl>     <span class=cp>#include</span> <span class=cpf>&lt;iostream&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>     <span class=cp>#include</span> <span class=cpf>&lt;string&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>     <span class=k>using</span> <span class=k>namespace</span> <span class=n>std</span><span class=p>;</span>
</span></span><span class=line><span class=cl>     <span class=k>class</span> <span class=nc>Demo</span>
</span></span><span class=line><span class=cl>     <span class=p>{</span>
</span></span><span class=line><span class=cl>       <span class=kt>int</span> <span class=n>id</span><span class=p>;</span>
</span></span><span class=line><span class=cl>     
</span></span><span class=line><span class=cl>     <span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>       <span class=n>Demo</span><span class=p>(</span><span class=kt>int</span> <span class=n>i</span><span class=p>)</span>
</span></span><span class=line><span class=cl>       <span class=p>{</span>
</span></span><span class=line><span class=cl>         <span class=n>id</span> <span class=o>=</span> <span class=n>i</span><span class=p>;</span>
</span></span><span class=line><span class=cl>         <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;id=&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>id</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;构造函数&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>       <span class=p>}</span>
</span></span><span class=line><span class=cl>       <span class=kt>void</span> <span class=nf>printDemo</span><span class=p>();</span>
</span></span><span class=line><span class=cl>       <span class=o>~</span><span class=n>Demo</span><span class=p>()</span>
</span></span><span class=line><span class=cl>       <span class=p>{</span>
</span></span><span class=line><span class=cl>         <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;id=&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>id</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;析构函数&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span> <span class=c1>//下节介绍
</span></span></span><span class=line><span class=cl><span class=c1></span>       <span class=p>}</span>
</span></span><span class=line><span class=cl>     <span class=p>};</span>
</span></span><span class=line><span class=cl>     <span class=kt>void</span> <span class=n>Demo</span><span class=o>::</span><span class=n>printDemo</span><span class=p>()</span>
</span></span><span class=line><span class=cl>     <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;id=&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>id</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>     <span class=p>}</span>
</span></span><span class=line><span class=cl>     <span class=kt>int</span> <span class=nf>main</span><span class=p>()</span>
</span></span><span class=line><span class=cl>     <span class=p>{</span>
</span></span><span class=line><span class=cl>       <span class=n>Demo</span> <span class=n>d4</span><span class=p>(</span><span class=mi>4</span><span class=p>);</span> <span class=c1>//主函数内定义
</span></span></span><span class=line><span class=cl><span class=c1></span>       <span class=n>d4</span><span class=p>.</span><span class=n>printDemo</span><span class=p>();</span>
</span></span><span class=line><span class=cl>       <span class=n>d4</span> <span class=o>=</span> <span class=mi>6</span><span class=p>;</span> <span class=c1>//可看作是将整型数6 转为Demo 对象
</span></span></span><span class=line><span class=cl><span class=c1></span>       <span class=n>d4</span><span class=p>.</span><span class=n>printDemo</span><span class=p>();</span>
</span></span><span class=line><span class=cl>       <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>     <span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=32-析构函数>3.2 析构函数<a hidden class=anchor aria-hidden=true href=#32-析构函数>#</a></h4><ul><li>成员函数的一种</li><li>名字与类名相同</li></ul><p><strong>析构函数的作用：在对象在消亡时自动调用析构函数，释放由析构函数分配的内存</strong></p><ol><li>一个类仅有一个析构函数，且不能声明参数<strong>无参数, 无返回值，不能重载</strong>。</li><li>如果没有定义析构函数，则自动生成默认的析构函数，默认的析构函数的函数体为空。</li><li>使用new运算符动态分配了内存空间，则在析构函数中应使用delete释放掉这部分占用的空间。</li><li>先后创建了几个对象时，系统安装<strong>后创建先析构</strong>的原则析构对象。当使用delete调用析构对象时，则按delete的顺序析构。</li><li>析构函数在对象的生存期结束时被编译系统自动调用，然后对象占用的内存被回收。</li></ol><p>析构函数在类体中的声明形式</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c++ data-lang=c++><span class=line><span class=cl><span class=c1>//声明形式
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=err>类名前加</span> <span class=o>~</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>// 定义形式
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=err>类名</span><span class=o>::~</span> <span class=err>类名</span><span class=p>()[]</span>
</span></span></code></pre></td></tr></table></div></div><ul><li><p>对象数组与 delete 语句</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl><span class=n>Student</span> <span class=o>*</span><span class=n>ss</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Student</span><span class=p>[</span><span class=mi>2</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=k>delete</span> <span class=p>[]</span><span class=n>ss</span><span class=p>;</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>指针数组与 delete 语句</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl><span class=n>Student</span> <span class=o>*</span><span class=n>ss</span><span class=p>[</span><span class=mi>2</span><span class=p>]</span> <span class=o>=</span> <span class=p>{</span><span class=k>new</span> <span class=nf>Student</span><span class=p>(),</span><span class=k>new</span> <span class=n>Student</span><span class=p>()};</span>
</span></span><span class=line><span class=cl><span class=k>delete</span> <span class=n>ss</span><span class=p>[</span><span class=mi>0</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=k>delete</span> <span class=n>ss</span><span class=p>[</span><span class=mi>1</span><span class=p>];</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>程序填空题</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;iostream&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;string&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=k>using</span> <span class=k>namespace</span> <span class=n>std</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Samp</span><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>      <span class=kt>void</span> <span class=n>Setij</span><span class=p>(</span><span class=kt>int</span> <span class=n>a</span><span class=p>,</span> <span class=kt>int</span> <span class=n>b</span><span class=p>){</span>
</span></span><span class=line><span class=cl>        <span class=n>i</span> <span class=o>=</span> <span class=n>a</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=n>j</span> <span class=o>=</span> <span class=n>b</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;i=&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>i</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;构造函数&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=kt>void</span> <span class=nf>printDemo</span><span class=p>();</span>
</span></span><span class=line><span class=cl>      <span class=o>~</span><span class=n>Samp</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>        <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;i=&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>i</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;析构函数&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=kt>int</span> <span class=nf>GetMuti</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=n>i</span> <span class=o>*</span> <span class=n>j</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>protected</span><span class=o>:</span>
</span></span><span class=line><span class=cl>      <span class=kt>int</span> <span class=n>i</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=kt>int</span> <span class=n>j</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=nf>main</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>  <span class=n>Samp</span> <span class=o>*</span><span class=n>p</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>p</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Samp</span><span class=p>[</span><span class=mi>5</span><span class=p>];</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=n>p</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;内存分配错误</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>j</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>j</span> <span class=o>&lt;</span> <span class=mi>5</span><span class=p>;</span> <span class=n>j</span><span class=o>++</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>p</span><span class=p>[</span><span class=n>j</span><span class=p>].</span><span class=n>Setij</span><span class=p>(</span><span class=n>j</span><span class=p>,</span> <span class=n>j</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>k</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>k</span> <span class=o>&lt;</span> <span class=mi>5</span><span class=p>;</span> <span class=n>k</span><span class=o>++</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;Muti[&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>k</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;] 值是:&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>p</span><span class=p>[</span><span class=n>k</span><span class=p>].</span><span class=n>GetMuti</span><span class=p>()</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>delete</span><span class=p>[]</span> <span class=n>p</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li></ul><p>示例2：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>  1
</span><span class=lnt>  2
</span><span class=lnt>  3
</span><span class=lnt>  4
</span><span class=lnt>  5
</span><span class=lnt>  6
</span><span class=lnt>  7
</span><span class=lnt>  8
</span><span class=lnt>  9
</span><span class=lnt> 10
</span><span class=lnt> 11
</span><span class=lnt> 12
</span><span class=lnt> 13
</span><span class=lnt> 14
</span><span class=lnt> 15
</span><span class=lnt> 16
</span><span class=lnt> 17
</span><span class=lnt> 18
</span><span class=lnt> 19
</span><span class=lnt> 20
</span><span class=lnt> 21
</span><span class=lnt> 22
</span><span class=lnt> 23
</span><span class=lnt> 24
</span><span class=lnt> 25
</span><span class=lnt> 26
</span><span class=lnt> 27
</span><span class=lnt> 28
</span><span class=lnt> 29
</span><span class=lnt> 30
</span><span class=lnt> 31
</span><span class=lnt> 32
</span><span class=lnt> 33
</span><span class=lnt> 34
</span><span class=lnt> 35
</span><span class=lnt> 36
</span><span class=lnt> 37
</span><span class=lnt> 38
</span><span class=lnt> 39
</span><span class=lnt> 40
</span><span class=lnt> 41
</span><span class=lnt> 42
</span><span class=lnt> 43
</span><span class=lnt> 44
</span><span class=lnt> 45
</span><span class=lnt> 46
</span><span class=lnt> 47
</span><span class=lnt> 48
</span><span class=lnt> 49
</span><span class=lnt> 50
</span><span class=lnt> 51
</span><span class=lnt> 52
</span><span class=lnt> 53
</span><span class=lnt> 54
</span><span class=lnt> 55
</span><span class=lnt> 56
</span><span class=lnt> 57
</span><span class=lnt> 58
</span><span class=lnt> 59
</span><span class=lnt> 60
</span><span class=lnt> 61
</span><span class=lnt> 62
</span><span class=lnt> 63
</span><span class=lnt> 64
</span><span class=lnt> 65
</span><span class=lnt> 66
</span><span class=lnt> 67
</span><span class=lnt> 68
</span><span class=lnt> 69
</span><span class=lnt> 70
</span><span class=lnt> 71
</span><span class=lnt> 72
</span><span class=lnt> 73
</span><span class=lnt> 74
</span><span class=lnt> 75
</span><span class=lnt> 76
</span><span class=lnt> 77
</span><span class=lnt> 78
</span><span class=lnt> 79
</span><span class=lnt> 80
</span><span class=lnt> 81
</span><span class=lnt> 82
</span><span class=lnt> 83
</span><span class=lnt> 84
</span><span class=lnt> 85
</span><span class=lnt> 86
</span><span class=lnt> 87
</span><span class=lnt> 88
</span><span class=lnt> 89
</span><span class=lnt> 90
</span><span class=lnt> 91
</span><span class=lnt> 92
</span><span class=lnt> 93
</span><span class=lnt> 94
</span><span class=lnt> 95
</span><span class=lnt> 96
</span><span class=lnt> 97
</span><span class=lnt> 98
</span><span class=lnt> 99
</span><span class=lnt>100
</span><span class=lnt>101
</span><span class=lnt>102
</span><span class=lnt>103
</span><span class=lnt>104
</span><span class=lnt>105
</span><span class=lnt>106
</span><span class=lnt>107
</span><span class=lnt>108
</span><span class=lnt>109
</span><span class=lnt>110
</span><span class=lnt>111
</span><span class=lnt>112
</span><span class=lnt>113
</span><span class=lnt>114
</span><span class=lnt>115
</span><span class=lnt>116
</span><span class=lnt>117
</span><span class=lnt>118
</span><span class=lnt>119
</span><span class=lnt>120
</span><span class=lnt>121
</span><span class=lnt>122
</span><span class=lnt>123
</span><span class=lnt>124
</span><span class=lnt>125
</span><span class=lnt>126
</span><span class=lnt>127
</span><span class=lnt>128
</span><span class=lnt>129
</span><span class=lnt>130
</span><span class=lnt>131
</span><span class=lnt>132
</span><span class=lnt>133
</span><span class=lnt>134
</span><span class=lnt>135
</span><span class=lnt>136
</span><span class=lnt>137
</span><span class=lnt>138
</span><span class=lnt>139
</span><span class=lnt>140
</span><span class=lnt>141
</span><span class=lnt>142
</span><span class=lnt>143
</span><span class=lnt>144
</span><span class=lnt>145
</span><span class=lnt>146
</span><span class=lnt>147
</span><span class=lnt>148
</span><span class=lnt>149
</span><span class=lnt>150
</span><span class=lnt>151
</span><span class=lnt>152
</span><span class=lnt>153
</span><span class=lnt>154
</span><span class=lnt>155
</span><span class=lnt>156
</span><span class=lnt>157
</span><span class=lnt>158
</span><span class=lnt>159
</span><span class=lnt>160
</span><span class=lnt>161
</span><span class=lnt>162
</span><span class=lnt>163
</span><span class=lnt>164
</span><span class=lnt>165
</span><span class=lnt>166
</span><span class=lnt>167
</span><span class=lnt>168
</span><span class=lnt>169
</span><span class=lnt>170
</span><span class=lnt>171
</span><span class=lnt>172
</span><span class=lnt>173
</span><span class=lnt>174
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;iostream&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;string&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=k>using</span> <span class=k>namespace</span> <span class=n>std</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>myDate</span><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>      <span class=n>myDate</span><span class=p>();</span>                    <span class=c1>//构造函数
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=n>myDate</span><span class=p>(</span><span class=kt>int</span><span class=p>,</span> <span class=kt>int</span><span class=p>,</span> <span class=kt>int</span><span class=p>);</span>       <span class=c1>//构造函数
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=kt>void</span> <span class=nf>setDate</span><span class=p>(</span><span class=kt>int</span><span class=p>,</span> <span class=kt>int</span><span class=p>,</span> <span class=kt>int</span><span class=p>);</span> <span class=c1>//设置日期
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=kt>void</span> <span class=nf>setDate</span><span class=p>(</span><span class=n>myDate</span><span class=p>);</span>        <span class=c1>//设置日期
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=n>myDate</span> <span class=nf>getDate</span><span class=p>();</span>            <span class=c1>//获取日期
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=kt>void</span> <span class=nf>setYear</span><span class=p>(</span><span class=kt>int</span><span class=p>);</span>           <span class=c1>//设置年
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=kt>int</span> <span class=nf>getMonth</span><span class=p>();</span>              <span class=c1>//获取月
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=kt>void</span> <span class=nf>printDate</span><span class=p>()</span> <span class=k>const</span><span class=p>;</span>      <span class=c1>//打印日期
</span></span></span><span class=line><span class=cl><span class=c1></span>    
</span></span><span class=line><span class=cl>    <span class=k>private</span><span class=o>:</span>
</span></span><span class=line><span class=cl>      <span class=kt>int</span> <span class=n>year</span><span class=p>,</span> <span class=n>month</span><span class=p>,</span> <span class=n>day</span><span class=p>;</span> <span class=c1>//成员变量,年月日
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>};</span>
</span></span><span class=line><span class=cl><span class=c1>//类体外定义成员函数
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>myDate</span><span class=o>::</span><span class=n>myDate</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>  <span class=n>year</span> <span class=o>=</span> <span class=mi>1970</span><span class=p>,</span> <span class=n>month</span> <span class=o>=</span> <span class=mi>1</span><span class=p>,</span> <span class=n>day</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>myDate</span><span class=o>::</span><span class=n>myDate</span><span class=p>(</span><span class=kt>int</span> <span class=n>y</span><span class=p>,</span> <span class=kt>int</span> <span class=n>m</span><span class=p>,</span> <span class=kt>int</span> <span class=n>d</span><span class=p>){</span>
</span></span><span class=line><span class=cl>  <span class=n>year</span> <span class=o>=</span> <span class=n>y</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>month</span> <span class=o>=</span> <span class=n>m</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>day</span> <span class=o>=</span> <span class=n>d</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>cout</span><span class=o>&lt;&lt;</span><span class=s>&#34;mydate构造函数1&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>myDate</span><span class=o>::~</span><span class=n>mydate</span><span class=p>(){</span>  <span class=c1>// 定义析构函数
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=n>cout</span><span class=o>&lt;&lt;</span><span class=s>&#34;mydate析构函数&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span> 
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=n>myDate</span><span class=o>::</span><span class=n>setDate</span><span class=p>(</span><span class=kt>int</span> <span class=n>y</span><span class=p>,</span> <span class=kt>int</span> <span class=n>m</span><span class=p>,</span> <span class=kt>int</span> <span class=n>d</span><span class=p>){</span>
</span></span><span class=line><span class=cl>  <span class=n>year</span> <span class=o>=</span> <span class=n>y</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>month</span> <span class=o>=</span> <span class=n>m</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>day</span> <span class=o>=</span> <span class=n>d</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=n>myDate</span><span class=o>::</span><span class=n>setDate</span><span class=p>(</span><span class=n>myDate</span> <span class=n>oneD</span><span class=p>){</span>
</span></span><span class=line><span class=cl>  <span class=n>year</span> <span class=o>=</span> <span class=n>oneD</span><span class=p>.</span><span class=n>year</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>month</span> <span class=o>=</span> <span class=n>oneD</span><span class=p>.</span><span class=n>month</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>day</span> <span class=o>=</span> <span class=n>oneD</span><span class=p>.</span><span class=n>day</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>myDate</span> <span class=n>myDate</span><span class=o>::</span><span class=n>getDate</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=o>*</span><span class=k>this</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=n>myDate</span><span class=o>::</span><span class=n>setYear</span><span class=p>(</span><span class=kt>int</span> <span class=n>y</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>year</span> <span class=o>=</span> <span class=n>y</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=n>myDate</span><span class=o>::</span><span class=n>getMonth</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=n>month</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=n>myDate</span><span class=o>::</span><span class=n>printDate</span><span class=p>()</span> <span class=k>const</span><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>year</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;/&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>month</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;/&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>day</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>Student</span><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>      <span class=n>Student</span><span class=p>();</span>                       <span class=c1>//构造函数,无参数
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=n>Student</span><span class=p>(</span><span class=n>string</span><span class=p>);</span>                 <span class=c1>//构造函数,带一个参数
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=kt>void</span> <span class=nf>setStudent</span><span class=p>(</span><span class=n>string</span><span class=p>,</span> <span class=n>myDate</span><span class=p>);</span> <span class=c1>//设置学生信息
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=kt>void</span> <span class=nf>setName</span><span class=p>(</span><span class=n>string</span><span class=p>);</span>            <span class=c1>//设置姓名
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=n>string</span> <span class=nf>getName</span><span class=p>();</span>                <span class=c1>//获取姓名
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=kt>void</span> <span class=nf>setBirthday</span><span class=p>(</span><span class=n>myDate</span><span class=p>);</span>        <span class=c1>//设置生日
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=n>myDate</span> <span class=nf>getBirthday</span><span class=p>();</span>            <span class=c1>//获取生日
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=kt>void</span> <span class=nf>printStudent</span><span class=p>()</span> <span class=k>const</span><span class=p>;</span>       <span class=c1>//打印信息
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=n>Student</span><span class=p>(</span><span class=k>const</span> <span class=n>Student</span> <span class=o>&amp;</span><span class=n>s</span><span class=p>);</span>       <span class=c1>//声明复制构造函数
</span></span></span><span class=line><span class=cl><span class=c1></span>    
</span></span><span class=line><span class=cl>    <span class=k>private</span><span class=o>:</span>
</span></span><span class=line><span class=cl>      <span class=n>string</span> <span class=n>name</span><span class=p>;</span>     <span class=c1>//姓名
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=n>myDate</span> <span class=n>birthday</span><span class=p>;</span> <span class=c1>//生日
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>//定义构造函数
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>Student</span><span class=o>::</span><span class=n>Student</span><span class=p>()</span> <span class=o>:</span> <span class=n>name</span><span class=p>(</span><span class=s>&#34;NoName&#34;</span><span class=p>),</span> <span class=n>birthday</span><span class=p>(</span><span class=n>myDate</span><span class=p>()){</span>
</span></span><span class=line><span class=cl>	<span class=n>cout</span><span class=o>&lt;&lt;</span><span class=s>&#34;Student构造函数0&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>};</span>  <span class=c1>//添加,不带参数
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>Student</span><span class=o>::</span><span class=n>Student</span><span class=p>(</span><span class=n>string</span> <span class=n>n</span><span class=p>)</span> <span class=o>:</span> <span class=n>name</span><span class=p>(</span><span class=n>n</span><span class=p>),</span> <span class=n>birthday</span><span class=p>(</span><span class=n>myDate</span><span class=p>()){};</span> <span class=c1>//添加,带一个参数
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl><span class=c1>//类体外定义成员函数
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=n>Student</span><span class=o>::</span><span class=n>Student</span><span class=p>(</span><span class=k>const</span> <span class=n>Student</span> <span class=o>&amp;</span><span class=n>s</span><span class=p>){</span> <span class=c1>//自定义复制构造函数
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=n>name</span> <span class=o>=</span> <span class=s>&#34;Copy&#34;</span> <span class=o>+</span> <span class=n>s</span><span class=p>.</span><span class=n>name</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>birthday</span> <span class=o>=</span> <span class=n>s</span><span class=p>.</span><span class=n>birthday</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>cout</span><span class=o>&lt;&lt;</span><span class=s>&#34;Student复制构造函数&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>Student</span><span class=o>::~</span><span class=n>Student</span><span class=p>(){</span>  <span class=c1>// 定义析构函数
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=n>cout</span><span class=o>&lt;&lt;</span><span class=s>&#34;Student析构函数&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=n>Student</span><span class=o>::</span><span class=n>setStudent</span><span class=p>(</span><span class=n>string</span> <span class=n>s</span><span class=p>,</span> <span class=n>myDate</span> <span class=n>d</span><span class=p>){</span>
</span></span><span class=line><span class=cl>  <span class=n>name</span> <span class=o>=</span> <span class=n>s</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>birthday</span><span class=p>.</span><span class=n>setDate</span><span class=p>(</span><span class=n>d</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=n>Student</span><span class=o>::</span><span class=n>setName</span><span class=p>(</span><span class=n>string</span> <span class=n>n</span><span class=p>){</span>
</span></span><span class=line><span class=cl>  <span class=n>name</span> <span class=o>=</span> <span class=n>n</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>string</span> <span class=n>Student</span><span class=o>::</span><span class=n>getName</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=n>name</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=n>Student</span><span class=o>::</span><span class=n>setBirthday</span><span class=p>(</span><span class=n>myDate</span> <span class=n>d</span><span class=p>){</span>
</span></span><span class=line><span class=cl>  <span class=n>birthday</span><span class=p>.</span><span class=n>setDate</span><span class=p>(</span><span class=n>d</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>myDate</span> <span class=n>Student</span><span class=o>::</span><span class=n>getBirthday</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=n>birthday</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>void</span> <span class=n>Student</span><span class=o>::</span><span class=n>printStudent</span><span class=p>()</span> <span class=k>const</span><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;姓名:&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>name</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;</span><span class=se>\t</span><span class=s>生日:&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>birthday</span><span class=p>.</span><span class=n>printDate</span><span class=p>();</span> <span class=c1>//调用类myDate 的成员函数
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=nf>main</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>	<span class=n>Student</span> <span class=n>stud</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=c1>// myDateg构造函数1
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=c1>// Student构造函数0
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>	<span class=n>stud</span><span class=p>.</span><span class=n>printstudent</span><span class=p>();</span>   <span class=c1>// 输出默认值
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=c1>// 姓名：Noname生日：1970/1/1
</span></span></span><span class=line><span class=cl><span class=c1></span>	
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	<span class=n>Student</span> <span class=n>sy</span><span class=p>[</span><span class=mi>2</span><span class=p>]</span> <span class=o>=</span> <span class=p>{</span><span class=n>Student</span><span class=p>(),</span><span class=n>stud</span><span class=p>};</span>
</span></span><span class=line><span class=cl>	<span class=c1>// myDateg构造函数1
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=c1>// Student构造函数0
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=c1>// myDateg构造函数1
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=c1>// Student复制构造函数
</span></span></span><span class=line><span class=cl><span class=c1></span>	
</span></span><span class=line><span class=cl>		<span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>i</span><span class=o>=</span><span class=mi>0</span><span class=p>;</span><span class=n>i</span><span class=o>&lt;</span><span class=mi>2</span><span class=p>;</span><span class=n>i</span><span class=o>++</span><span class=p>)</span>
</span></span><span class=line><span class=cl>			<span class=n>sy</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>printStudent</span><span class=p>();</span>
</span></span><span class=line><span class=cl>			<span class=c1>// 姓名：Noname生日：1970/1/1
</span></span></span><span class=line><span class=cl><span class=c1></span>			<span class=c1>// 姓名：copyNoname生日：1970/1/1
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>	<span class=c1>// Student析构函数
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=c1>// mydate析构函数
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=c1>// Student析构函数
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=c1>// mydate析构函数
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=c1>// Student析构函数
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=c1>// mydate析构函数
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=err>对象数组与</span><span class=n>delete语句</span>
</span></span><span class=line><span class=cl>	<span class=n>Student</span> <span class=o>*</span><span class=n>ss</span> <span class=o>=</span> <span class=k>new</span> <span class=n>Student</span><span class=p>[</span><span class=mi>2</span><span class=p>];</span>   <span class=c1>// ss指向新申请对象数组
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>i</span><span class=o>=</span><span class=mi>0</span><span class=p>;</span><span class=n>i</span><span class=o>&lt;</span><span class=mi>2</span><span class=p>;</span><span class=n>i</span><span class=o>++</span><span class=p>)</span>
</span></span><span class=line><span class=cl>		<span class=p>(</span><span class=n>ss</span><span class=o>+</span><span class=n>i</span><span class=p>)</span><span class=o>-&gt;</span><span class=n>printStudent</span><span class=p>();</span>
</span></span><span class=line><span class=cl>	<span class=k>delete</span> <span class=p>[]</span><span class=n>ss</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=err>对象指针数组与</span><span class=n>delete语句</span>
</span></span><span class=line><span class=cl>	<span class=n>Student</span> <span class=o>*</span><span class=n>ss</span><span class=p>[</span><span class=mi>2</span><span class=p>]</span> <span class=o>=</span> <span class=p>{</span><span class=k>new</span> <span class=n>Student</span><span class=p>(),</span><span class=k>new</span> <span class=n>Student</span><span class=p>()};</span>  <span class=c1>// ss是对象指针数组
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=k>for</span><span class=p>(</span><span class=kt>int</span> <span class=n>i</span><span class=o>=</span><span class=mi>0</span><span class=p>;</span><span class=n>i</span><span class=o>&lt;</span><span class=mi>2</span><span class=p>;</span><span class=n>i</span><span class=o>++</span><span class=p>)</span>
</span></span><span class=line><span class=cl>		<span class=n>ss</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=o>-&gt;</span><span class=n>printStudent</span><span class=p>();</span>
</span></span><span class=line><span class=cl>	<span class=k>delete</span> <span class=n>ss</span><span class=p>[</span><span class=mi>0</span><span class=p>];</span>
</span></span><span class=line><span class=cl>	<span class=k>delete</span> <span class=n>ss</span><span class=p>[</span><span class=mi>1</span><span class=p>];</span>
</span></span><span class=line><span class=cl>  
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=33-类的静态成员常考>3.3 类的静态成员（常考）<a hidden class=anchor aria-hidden=true href=#33-类的静态成员常考>#</a></h4><h5 id=静态变量>静态变量<a hidden class=anchor aria-hidden=true href=#静态变量>#</a></h5><pre><code>局部自动变量每次使用需重新进行初始化。
</code></pre><ul><li><p>static 说明自动变量，分为<strong>静态全局变量</strong>和<strong>静态局部变量</strong></p></li><li><p>静态变量均存储在全局数据区，静态局部变量只执行一次初始化，如果静态变量未初始化值，则系统将其初始为0</p></li><li><p>自动变量和静态变量的使用</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;iostream&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;string&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=k>using</span> <span class=k>namespace</span> <span class=n>std</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>static</span> <span class=kt>int</span> <span class=n>glos</span> <span class=o>=</span> <span class=mi>100</span><span class=p>;</span>  <span class=c1>// 静态全局变量
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kt>void</span> <span class=nf>f</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kt>int</span> <span class=n>a</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span> <span class=c1>// 局部自动变量a
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=k>static</span> <span class=kt>int</span> <span class=n>fs</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span>  <span class=c1>// 静态局部变量fs，完成初始化
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;在f中:a(自动变量)=&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>a</span> <span class=o>&lt;&lt;</span> <span class=s>&#34; fs(静态)&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>fs</span> <span class=o>&lt;&lt;</span> <span class=s>&#34; glos(静态)=&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>glos</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>a</span> <span class=o>+=</span> <span class=mi>2</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>fs</span> <span class=o>+=</span> <span class=mi>2</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>glos</span> <span class=o>+=</span> <span class=mi>10</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;在f中:a(自动变量)=&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>a</span> <span class=o>&lt;&lt;</span> <span class=s>&#34; fs(静态)&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>fs</span> <span class=o>&lt;&lt;</span> <span class=s>&#34; glos(静态)=&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>glos</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span>
</span></span><span class=line><span class=cl>       <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=nf>main</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>static</span> <span class=kt>int</span> <span class=n>ms</span> <span class=o>=</span> <span class=mi>10</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;=</span> <span class=mi>3</span><span class=p>;</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>f</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;ms=&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>ms</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;glos=&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>glos</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li></ul><h5 id=类的静态成员>类的静态成员<a hidden class=anchor aria-hidden=true href=#类的静态成员>#</a></h5><h6 id=静态成员变量>静态成员变量<a hidden class=anchor aria-hidden=true href=#静态成员变量>#</a></h6><ol><li>在类体内定义类的成员时，在前面添加 static 关键字。</li><li>在类定义中声明静态成员变量, <strong>必须在类体外定义成员静态变量的初值</strong>，不能在类体内赋值。</li><li>在类体外定义成员函数时，前面也不能加static.</li><li><strong>类的静态成员被类的所有对象共享</strong></li><li>静态函数和静态函数之间、非静态函数和非静态函数之间是可以相互调用的，非静态成员函数内可以调用静态成员函数，<strong>但静态成员函数内不能调用非静态成员变量</strong>。</li></ol><p>在类体外给静态成员赋初值的格式：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c++ data-lang=c++><span class=line><span class=cl><span class=err>类型</span> <span class=err>类名</span><span class=o>::</span><span class=err>静态成员变量</span> <span class=o>=</span> <span class=err>初值</span><span class=p>;</span>   <span class=c1>// 前面不能加static 
</span></span></span></code></pre></td></tr></table></div></div><p>访问静态成员</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c++ data-lang=c++><span class=line><span class=cl><span class=err>类名</span><span class=o>::</span><span class=err>静态成员名</span>
</span></span><span class=line><span class=cl><span class=err>对象名</span><span class=p>.</span><span class=err>静态成员名</span>
</span></span><span class=line><span class=cl><span class=err>对象指针</span><span class=o>-&gt;</span><span class=err>静态成员名</span>
</span></span></code></pre></td></tr></table></div></div><h6 id=静态成员函数>静态成员函数<a hidden class=anchor aria-hidden=true href=#静态成员函数>#</a></h6><ol><li>可以不指向某个具体的对象，只与类名连用</li><li>在没有建立对象之前，静态成员就已存在</li><li>静态成员是类的成员，不是对象的成员</li><li>类的静态成员被类的所有对象共享，它们被存储于一个公用内存中</li><li>**类的静态成员函数没有 this 指针, 只能通过对象名或指向对象的指针访问类的数据成员</li><li>静态成员函数不能被说明为虚函数</li><li>静态成员函数不能直接访问非静态函数</li></ol><p>静态对象的构造函数在代码执行过程中，在第一次遇到它的变量定义并初始化时被调用，但直到整个程序结束之前仅调用一次；而普通对象则是遇到变量定义就被调用，遇到几次调用几次。</p><p>静态对象的析构函数在整个程序退出之前被调用，同样也是只调用一次；而普通对象则是变量定义几次，则析构几次。</p><ul><li>程序填空题</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl> <span class=cp>#include</span> <span class=cpf>&lt;iostream&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span> <span class=cp>#include</span> <span class=cpf>&lt;string&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span> <span class=k>using</span> <span class=k>namespace</span> <span class=n>std</span><span class=p>;</span>
</span></span><span class=line><span class=cl> <span class=k>class</span> <span class=nc>Test</span><span class=p>{</span>
</span></span><span class=line><span class=cl>	 <span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>	  <span class=n>___</span> <span class=k>static</span> <span class=kt>int</span> <span class=n>x</span><span class=p>;</span><span class=n>___</span>
</span></span><span class=line><span class=cl>	   <span class=nf>Test</span><span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>10</span><span class=p>){</span>
</span></span><span class=line><span class=cl>	     <span class=n>x</span> <span class=o>=</span> <span class=n>i</span> <span class=o>+</span> <span class=n>x</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	   <span class=p>}</span>
</span></span><span class=line><span class=cl>	   <span class=kt>int</span> <span class=nf>Getnum</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>	     <span class=k>return</span> <span class=n>Test</span><span class=o>::</span><span class=n>x</span> <span class=o>+</span> <span class=mi>7</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	   <span class=p>}</span>
</span></span><span class=line><span class=cl> <span class=p>};</span>
</span></span><span class=line><span class=cl> 
</span></span><span class=line><span class=cl><span class=n>__int</span> <span class=n>Test</span><span class=o>::</span><span class=n>x</span> <span class=o>=</span> <span class=mi>83</span><span class=p>;</span><span class=n>__</span>
</span></span><span class=line><span class=cl> <span class=kt>int</span> <span class=nf>main</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>   <span class=n>Test</span> <span class=n>test</span><span class=p>;</span>
</span></span><span class=line><span class=cl>   <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>test</span><span class=p>.</span><span class=n>Getnum</span><span class=p>()</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>   <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl> <span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h4 id=34-变量及对象的生存期和作用域>3.4 变量及对象的生存期和作用域<a hidden class=anchor aria-hidden=true href=#34-变量及对象的生存期和作用域>#</a></h4><ol><li><p>变量的生存期和作用域</p><ul><li><p>生存期：分配内存到释放内存</p></li><li><p>作用域：变量的有效范围</p><ul><li>全局域<ul><li>程序作用域<ul><li>多文件作用域, extern 说明的外部变量和外部函数</li></ul></li><li>文件作用域<ul><li>单文件作用域, 文件内函数外的变量/函数</li></ul></li></ul></li><li>局部域<ul><li>类作用域</li><li>函数作用域</li><li>块作用域</li><li>函数原型作用域<ul><li>不是定义函数, 而是声明函数, 函数原型形参作用域只在声明中</li><li>所以通常只要声明形参的个数和类型, 省略参数名</li></ul></li></ul></li></ul></li><li><p>重名标识符，不同作用域允许重名</p><ol><li>无包含关系，互不影响</li><li>有包含关系，在哪定义在哪有效</li></ol></li></ul></li><li><p>类对象的生存期和作用域</p><ul><li>类对象在生成时调用构造函数, 在消亡（销毁）时调用析构函数</li><li>作用域越大的越晚销毁</li></ul></li></ol><h4 id=35-常量成员和常引用成员>3.5 常量成员和常引用成员<a hidden class=anchor aria-hidden=true href=#35-常量成员和常引用成员>#</a></h4><h5 id=类常量成员变量>类常量成员变量<a hidden class=anchor aria-hidden=true href=#类常量成员变量>#</a></h5><p><strong>类常量成员变量：const修饰的类的数据成员变量</strong>，必须在构造函数的成员初始化列表中进行初始化</p><p>一般格式：<code>const 数据类型 类常量成员变量 = 表达式;</code></p><h5 id=常量对象>常量对象<a hidden class=anchor aria-hidden=true href=#常量对象>#</a></h5><p><strong>常量对象</strong>：使用 const 声明的对象就是常对象，必须在声明的同时进行初始化，而且不能更新。</p><p>定义常量对象的一般格式：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c++ data-lang=c++><span class=line><span class=cl><span class=k>const</span> <span class=err>类名</span> <span class=err>对象名</span><span class=p>(</span><span class=err>参数表</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=err>类名</span> <span class=k>const</span> <span class=err>对象名</span><span class=p>(</span><span class=err>参数表</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=n>myDate</span> <span class=k>const</span> <span class=nf>a1</span><span class=p>(</span><span class=mi>1997</span><span class=p>,</span><span class=mi>12</span><span class=p>,</span><span class=mi>20</span><span class=p>);</span>  <span class=c1>// 定义myDate类常量对象a1并初始化
</span></span></span></code></pre></td></tr></table></div></div><ol><li>常量对象只能调用常用常量，常量对象各属性值不能修改。</li><li><strong>常量对象只能调用常量成员函数</strong>，不能调用非常量函数，普通对象可以调用所有成员函数。</li></ol><h5 id=常量函数>常量函数<a hidden class=anchor aria-hidden=true href=#常量函数>#</a></h5><p><strong>常量函数</strong>：用const声明、定义的成员函数</p><p>声明及定义的一般格式：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c++ data-lang=c++><span class=line><span class=cl><span class=err>在类体内定义常量函数为内联函数时的形式：</span>
</span></span><span class=line><span class=cl>	<span class=err>类型标识符</span> <span class=err>函数名</span><span class=p>(</span><span class=err>参数列表</span><span class=p>)</span> <span class=k>const</span><span class=p>{</span> <span class=p>...</span><span class=err>函数体</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=err>在类体内声明，类体外定义时的形式：</span>
</span></span><span class=line><span class=cl><span class=err>声明形式：</span>
</span></span><span class=line><span class=cl>	<span class=err>类型标识符</span> <span class=err>函数名</span><span class=p>(</span><span class=err>参数列表</span><span class=p>)</span> <span class=k>const</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=err>定义形式：</span>
</span></span><span class=line><span class=cl>	<span class=err>类型标识符</span> <span class=err>类名</span><span class=o>::</span><span class=err>函数名</span><span class=p>(</span><span class=err>参数列表</span><span class=p>)</span> <span class=k>const</span> <span class=p>{...</span><span class=err>函数体</span><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>常量函数不能更新对象的数据成员，也不能调用该类中没有用const修饰的成员函数。</p><h5 id=常引用作为函数的参数>常引用作为函数的参数<a hidden class=anchor aria-hidden=true href=#常引用作为函数的参数>#</a></h5><p>使用引用作为函数参数，传送的是地址，所以形参改变，则实参跟着改变，但如不希望函数改变对象的值，就要使用<strong>常引用作为参数</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c++ data-lang=c++><span class=line><span class=cl><span class=kt>void</span> <span class=nf>Display</span><span class=p>(</span><span class=k>const</span> <span class=kt>double</span> <span class=o>&amp;</span><span class=n>r</span><span class=p>){</span>  <span class=c1>// Display 只能使用而不能改变r所引用的对象
</span></span></span><span class=line><span class=cl><span class=c1></span>	<span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>r</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>  
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>常量成员变量及常量成员函数的使用</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;iostream&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;string&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=k>using</span> <span class=k>namespace</span> <span class=n>std</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>constClass</span><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>const</span> <span class=kt>int</span> <span class=n>conMbr</span><span class=p>;</span> <span class=c1>//类中的常量成员变量
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kt>int</span> <span class=n>Mbr</span><span class=p>;</span>          <span class=c1>//普通成员变量
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>	    <span class=n>constClass</span><span class=p>()</span><span class=o>:</span><span class=n>conMbr</span><span class=p>(</span><span class=mi>0</span><span class=p>),</span> <span class=n>Mbr</span><span class=p>(</span><span class=mi>100</span><span class=p>)</span> <span class=p>{}</span> <span class=c1>//初始化列表处给初始值
</span></span></span><span class=line><span class=cl><span class=c1></span>	    <span class=n>constClass</span><span class=p>(</span><span class=kt>int</span> <span class=n>i</span><span class=p>)</span><span class=o>:</span><span class=n>conMbr</span><span class=p>(</span><span class=n>i</span><span class=p>){</span>         <span class=c1>//初始化列表处给初始值
</span></span></span><span class=line><span class=cl><span class=c1></span>	      <span class=n>Mbr</span> <span class=o>=</span> <span class=mi>200</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	    <span class=p>}</span>
</span></span><span class=line><span class=cl>	    
</span></span><span class=line><span class=cl>	    <span class=kt>void</span> <span class=nf>printConst</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>	      <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;conMbr=&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>conMbr</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;,Mbr&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>Mbr</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	    <span class=p>}</span>
</span></span><span class=line><span class=cl>	    <span class=kt>int</span> <span class=nf>getConst</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>	      <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;调用非常量函数&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	      <span class=k>return</span> <span class=n>conMbr</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	    <span class=p>}</span>
</span></span><span class=line><span class=cl>	    
</span></span><span class=line><span class=cl>	    <span class=kt>int</span> <span class=nf>getConst</span><span class=p>()</span> <span class=k>const</span><span class=p>{</span>
</span></span><span class=line><span class=cl>	      <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;调用常量函数&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	      <span class=k>return</span> <span class=n>conMbr</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	    <span class=p>}</span>
</span></span><span class=line><span class=cl>	    
</span></span><span class=line><span class=cl>	    <span class=kt>int</span> <span class=nf>getValue</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>	      <span class=k>return</span> <span class=n>Mbr</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	    <span class=p>}</span>
</span></span><span class=line><span class=cl>	    
</span></span><span class=line><span class=cl>	    <span class=kt>void</span> <span class=nf>processConst</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>	      <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;--在processConst函数中 非常量--&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	      <span class=kt>int</span> <span class=n>x</span> <span class=o>=</span> <span class=mi>2</span> <span class=o>*</span> <span class=n>conMbr</span> <span class=o>+</span> <span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	      <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;x=2*conMbr+1=&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>x</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span> <span class=c1>//可以读取 conMbr
</span></span></span><span class=line><span class=cl><span class=c1></span>	      <span class=c1>//conMbr++; //错误, 不能更改常量成员变量 conMbr的值
</span></span></span><span class=line><span class=cl><span class=c1></span>	      <span class=n>Mbr</span><span class=o>++</span><span class=p>;</span> <span class=c1>//可以修改非常量成员 Mbr的值
</span></span></span><span class=line><span class=cl><span class=c1></span>	      <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;Mbr=&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>Mbr</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	    <span class=p>}</span>
</span></span><span class=line><span class=cl>	    <span class=kt>void</span> <span class=nf>processConst</span><span class=p>()</span> <span class=k>const</span><span class=p>{</span>
</span></span><span class=line><span class=cl>	      <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;--在processConst函数中 常量--&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	      <span class=kt>int</span> <span class=n>x</span> <span class=o>=</span> <span class=n>conMbr</span> <span class=o>+</span> <span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	      <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;x=conMbr+1=&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>x</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span> <span class=c1>//可以读取 conMbr
</span></span></span><span class=line><span class=cl><span class=c1></span>	      <span class=c1>//conMbr++; //错误, 不能更改常量成员变量 conMbr的值
</span></span></span><span class=line><span class=cl><span class=c1></span>	      <span class=c1>// Mbr++; //不能修改非常量成员 Mbr的值
</span></span></span><span class=line><span class=cl><span class=c1></span>	      <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;Mbr=&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>Mbr</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=nf>main</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>    <span class=n>constClass</span> <span class=n>ob1</span><span class=p>(</span><span class=mi>123</span><span class=p>),</span> <span class=n>ob2</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>ob1</span><span class=p>.</span><span class=n>printConst</span><span class=p>();</span>  <span class=c1>// conMbr = 123;Mbr = 200
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;ob2.getConst()=&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>ob2</span><span class=p>.</span><span class=n>getConst</span><span class=p>()</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>  <span class=c1>// 调用非常量函数 ob2.getConst()= 0
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>ob2</span><span class=p>.</span><span class=n>processConst</span><span class=p>();</span>  <span class=c1>// --在processConst函数中 非常量-- \n  x=2*conMbr+1= 1  \n  Mbr=101
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>const</span> <span class=n>constClass</span> <span class=n>ob3</span><span class=p>(</span><span class=mi>20</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;ob3.getConst()=&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>ob3</span><span class=p>.</span><span class=n>getConst</span><span class=p>()</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>  <span class=c1>// 调用常量函数 ob3.getConst()=20
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>ob3</span><span class=p>.</span><span class=n>processConst</span><span class=p>();</span>   <span class=c1>//-在processConst函数中 常量--  \n  x=conMbr+1= 21 \n Mbr=200
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><h5 id=352-const修饰指针变量>3.5.2 const修饰指针变量<a hidden class=anchor aria-hidden=true href=#352-const修饰指针变量>#</a></h5><ol><li>唯一的 const 位于* 左侧，表示指针所指数据是常量，数据不能通过指针改变，但指针本身是常量</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c++ data-lang=c++><span class=line><span class=cl><span class=kt>int</span> <span class=k>const</span> <span class=o>*</span><span class=n>p</span>
</span></span></code></pre></td></tr></table></div></div><ol start=2><li>唯一的 const 位于* 右侧，表示指针本身是常量，指针不能指向其他内存地址，但指针所指的数据可以通过指针修改</li></ol><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c++ data-lang=c++><span class=line><span class=cl><span class=kt>int</span> <span class=o>*</span> <span class=k>const</span> <span class=n>p</span>  
</span></span></code></pre></td></tr></table></div></div><ol start=3><li><ul><li>左右各一个const，表示指针和指向都是常量，指向的值和指针都不能修改。</li></ul></li></ol><h4 id=36-成员对象和封闭类>3.6 成员对象和封闭类<a hidden class=anchor aria-hidden=true href=#36-成员对象和封闭类>#</a></h4><p><strong>一个类的成员变量如果是另一个类的对象, 称该变量为成员对象， 包含成员对象的类叫做封闭类。</strong></p><p>例题： 类Student和类myDate，类Student中的成员变量 birthday 是类 myDate的对象，<strong>birthday就是成员对象，Student是封闭类。</strong></p><h5 id=封闭类构造函数和初始化列表>封闭类构造函数和初始化列表<a hidden class=anchor aria-hidden=true href=#封闭类构造函数和初始化列表>#</a></h5><ul><li><p>定义封闭类的的构造函数时, 需要添加<strong>初始化列表</strong>, 指明要调用成员对象的那个构造函数</p></li><li><p>对于成员对象，初始化列表的“参数表”中列出的成员对象构造函数（指明了该成员对象如何初始化）</p></li><li><p>生成封闭类对象时</p><ol><li><p><strong>先执行成员对象的构造函数，再执行封闭类的构造函数</strong>;</p></li><li><p>销毁时先执行封闭类析构函数, 再执行成员对象的析构函数；</p></li><li><p><strong>成员对象构造函数的执行顺序与成员对象在类定义中的说明顺序相同</strong>，析构函数的调用则相反。</p></li><li><p><strong>谁先构造，后析构，后构造先析构。</strong></p></li><li><p>生成封闭类对象的语句要<strong>说明对象中包含的成员对象</strong>是如何初始化的，不说明则用默认构造函数或者参数全部省略的构造函数初始化</p></li></ol></li></ul><p>添加初始化列表格式</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c++ data-lang=c++><span class=line><span class=cl><span class=err>封闭类名</span><span class=o>::</span><span class=err>构造函数名</span><span class=p>(</span><span class=err>参数表</span><span class=p>)</span><span class=o>:</span><span class=err>成员变量</span><span class=mi>1</span><span class=p>(</span><span class=err>参数表</span><span class=p>),</span><span class=err>成员变量</span><span class=mi>2</span><span class=p>(</span><span class=err>参数表</span><span class=p>),...</span> <span class=p>{...}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>Student</span><span class=o>::</span><span class=n>Student</span><span class=p>(</span><span class=n>string</span> <span class=n>n</span><span class=p>)</span><span class=o>:</span><span class=n>name</span><span class=p>,</span><span class=n>birthday</span><span class=p>(</span><span class=n>myDate</span><span class=p>()){</span> <span class=p>...</span> <span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><ol start=2><li><p><strong>封闭类的复制构造函数</strong></p><ul><li>如果封闭类的<strong>对象是用默认复制构造函数初始化</strong>的, 那么它<strong>包含的成员对象</strong>也会用复制构造函数初始化</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl>  <span class=cp>#include</span> <span class=cpf>&lt;iostream&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>  <span class=k>using</span> <span class=k>namespace</span> <span class=n>std</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>class</span> <span class=nc>A</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=n>A</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;default&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=n>A</span><span class=p>(</span><span class=n>A</span> <span class=o>&amp;</span><span class=n>a</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;copy&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>class</span> <span class=nc>B</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>A</span> <span class=n>a</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kt>int</span> <span class=nf>main</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>B</span> <span class=n>b1</span><span class=p>,</span> <span class=n>b2</span><span class=p>(</span><span class=n>b1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li></ol><h4 id=37-友元>3.7 友元<a hidden class=anchor aria-hidden=true href=#37-友元>#</a></h4><ol><li><p>友元
一个类里的私有成员和保护成员只能由类内部的成员函数访问，外部不能通过对象直接访问。但为了提高编程效率，需要允许一个函数或类访问另一个类中的私有成员或保护成员，这时可将这些类或函数声明为类的友元。</p><ul><li>兼顾C 语言程序设计的习惯与 C++ 信息隐藏的特点, 而增加的功能</li><li>是一种类成员的访问权限</li><li><strong>破坏了类的封装性和信息隐藏, 但有助于数据共享, 能够提高程序运行效率</strong></li><li><code>friend</code></li></ul></li><li><p>友元函数</p><ul><li><p>全局函数声明为本类友元函数的格式如下</p><ul><li><code>friend 返回值类型 函数名(参数表);</code></li></ul></li><li><p>有某类A 定义后, 将类 A 的成员函数说明为友元函数的格式如下</p><ul><li><code>friend 返回值类型 类A::类A的成员函数名(参数名);</code></li><li>不能把其他类的私有成员函数声明为友元函数</li></ul></li><li><p><strong>友元函数不是类的成员函数,但允许访问类的所有成员</strong></p><ul><li>在函数体中访问对象成员<ul><li><code>对象名.对象成员名</code></li></ul></li><li>不受访问权限关键词限制</li></ul></li><li><p>类成员函数实现复数类操作</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl>  <span class=cp>#include</span> <span class=cpf>&lt;iostream&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>  <span class=k>using</span> <span class=k>namespace</span> <span class=n>std</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>class</span> <span class=nc>myComplex</span> <span class=c1>//复数类
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>private</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=kt>double</span> <span class=n>real</span><span class=p>,</span> <span class=n>imag</span><span class=p>;</span> <span class=c1>//复数的实部和虚部
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=n>myComplex</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=n>myComplex</span><span class=p>(</span><span class=kt>double</span> <span class=n>r</span><span class=p>,</span> <span class=kt>double</span> <span class=n>i</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>myComplex</span> <span class=nf>addCom</span><span class=p>(</span><span class=n>myComplex</span> <span class=n>c</span><span class=p>);</span> <span class=c1>//成员函数, 调用者对象与参数对象c相加
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kt>void</span> <span class=nf>outCom</span><span class=p>();</span>                 <span class=c1>//成员函数, 输出调用者对象的有关数据
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>};</span>
</span></span><span class=line><span class=cl>  <span class=n>myComplex</span><span class=o>::</span><span class=n>myComplex</span><span class=p>(</span><span class=kt>double</span> <span class=n>r</span><span class=p>,</span> <span class=kt>double</span> <span class=n>i</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>real</span> <span class=o>=</span> <span class=n>r</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>imag</span> <span class=o>=</span> <span class=n>i</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=n>myComplex</span><span class=o>::</span><span class=n>myComplex</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>real</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>imag</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=n>myComplex</span> <span class=n>myComplex</span><span class=o>::</span><span class=n>addCom</span><span class=p>(</span><span class=n>myComplex</span> <span class=n>c</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nf>myComplex</span><span class=p>(</span><span class=n>real</span> <span class=o>+</span> <span class=n>c</span><span class=p>.</span><span class=n>real</span><span class=p>,</span> <span class=n>imag</span> <span class=o>+</span> <span class=n>c</span><span class=p>.</span><span class=n>imag</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=kt>void</span> <span class=n>myComplex</span><span class=o>::</span><span class=n>outCom</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;(&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>real</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;,&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>imag</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;)&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kt>int</span> <span class=nf>main</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>myComplex</span> <span class=n>c1</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>),</span> <span class=n>c2</span><span class=p>(</span><span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>),</span> <span class=n>res</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>res</span> <span class=o>=</span> <span class=n>c1</span><span class=p>.</span><span class=n>addCom</span><span class=p>(</span><span class=n>c2</span><span class=p>);</span> <span class=c1>//调用成员函数必须通过类对象
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>c1</span><span class=p>.</span><span class=n>outCom</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;+&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>c2</span><span class=p>.</span><span class=n>outCom</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;=&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>res</span><span class=p>.</span><span class=n>outCom</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>友元函数实现复数操作</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl>  <span class=cp>#include</span> <span class=cpf>&lt;iostream&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>  <span class=k>using</span> <span class=k>namespace</span> <span class=n>std</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>class</span> <span class=nc>myComplex</span> <span class=c1>//复数类
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>private</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=kt>double</span> <span class=n>real</span><span class=p>,</span> <span class=n>imag</span><span class=p>;</span> <span class=c1>//复数的实部和虚部
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=n>myComplex</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=n>myComplex</span><span class=p>(</span><span class=kt>double</span> <span class=n>r</span><span class=p>,</span> <span class=kt>double</span> <span class=n>i</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=k>friend</span> <span class=n>myComplex</span> <span class=nf>addCom</span><span class=p>(</span><span class=n>myComplex</span> <span class=n>c1</span><span class=p>,</span> <span class=n>myComplex</span> <span class=n>c2</span><span class=p>);</span> <span class=c1>//友元函数, 两个参数对象相加
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>friend</span> <span class=kt>void</span> <span class=nf>outCom</span><span class=p>(</span><span class=n>myComplex</span> <span class=n>c</span><span class=p>);</span>                     <span class=c1>//友元函数, 输惨参数对象数据
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>};</span>
</span></span><span class=line><span class=cl>  <span class=n>myComplex</span><span class=o>::</span><span class=n>myComplex</span><span class=p>(</span><span class=kt>double</span> <span class=n>r</span><span class=p>,</span> <span class=kt>double</span> <span class=n>i</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>real</span> <span class=o>=</span> <span class=n>r</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>imag</span> <span class=o>=</span> <span class=n>i</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=n>myComplex</span><span class=o>::</span><span class=n>myComplex</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>real</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>imag</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=n>myComplex</span> <span class=nf>addCom</span><span class=p>(</span><span class=n>myComplex</span> <span class=n>c1</span><span class=p>,</span> <span class=n>myComplex</span> <span class=n>c2</span><span class=p>)</span> <span class=c1>//定义函数
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>myComplex</span><span class=p>(</span><span class=n>c1</span><span class=p>.</span><span class=n>real</span> <span class=o>+</span> <span class=n>c2</span><span class=p>.</span><span class=n>real</span><span class=p>,</span> <span class=n>c1</span><span class=p>.</span><span class=n>imag</span> <span class=o>+</span> <span class=n>c2</span><span class=p>.</span><span class=n>imag</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=kt>void</span> <span class=nf>outCom</span><span class=p>(</span><span class=n>myComplex</span> <span class=n>c</span><span class=p>)</span> <span class=c1>//定义函数
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;(&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>c</span><span class=p>.</span><span class=n>real</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;,&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>c</span><span class=p>.</span><span class=n>imag</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;)&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kt>int</span> <span class=nf>main</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>myComplex</span> <span class=n>c1</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>),</span> <span class=n>c2</span><span class=p>(</span><span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>),</span> <span class=n>res</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>res</span> <span class=o>=</span> <span class=n>addCom</span><span class=p>(</span><span class=n>c1</span><span class=p>,</span> <span class=n>c2</span><span class=p>);</span> <span class=c1>//调用成员函数必须通过类对象
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>outCom</span><span class=p>(</span><span class=n>c1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;+&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>outCom</span><span class=p>(</span><span class=n>c2</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;=&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>outCom</span><span class=p>(</span><span class=n>res</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li></ul></li><li><p>友元类</p><ul><li><p><code>friend class 类名;</code></p></li><li><p>类友元关系是单向的, 不能传递, 非必要时不用类友元</p></li><li><p>类友元示例</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl>  <span class=cp>#include</span> <span class=cpf>&lt;iostream&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>  <span class=k>using</span> <span class=k>namespace</span> <span class=n>std</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>class</span> <span class=nc>myComplex</span> <span class=c1>//复数类
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>private</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=kt>double</span> <span class=n>real</span><span class=p>,</span> <span class=n>imag</span><span class=p>;</span> <span class=c1>//复数的实部和虚部
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=n>myComplex</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=n>myComplex</span><span class=p>(</span><span class=kt>double</span> <span class=n>r</span><span class=p>,</span> <span class=kt>double</span> <span class=n>i</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=k>friend</span> <span class=k>class</span> <span class=nc>oper</span><span class=p>;</span> <span class=c1>//友元类
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>};</span>
</span></span><span class=line><span class=cl>  <span class=n>myComplex</span><span class=o>::</span><span class=n>myComplex</span><span class=p>(</span><span class=kt>double</span> <span class=n>r</span><span class=p>,</span> <span class=kt>double</span> <span class=n>i</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>real</span> <span class=o>=</span> <span class=n>r</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>imag</span> <span class=o>=</span> <span class=n>i</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=n>myComplex</span><span class=o>::</span><span class=n>myComplex</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>real</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>imag</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=k>class</span> <span class=nc>oper</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=n>myComplex</span> <span class=n>addCom</span><span class=p>(</span><span class=n>myComplex</span> <span class=n>c1</span><span class=p>,</span> <span class=n>myComplex</span> <span class=n>c2</span><span class=p>);</span> <span class=c1>//友元函数, 两个参数对象相加
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kt>void</span> <span class=nf>outCom</span><span class=p>(</span><span class=n>myComplex</span> <span class=n>c</span><span class=p>);</span>                     <span class=c1>//友元函数, 输惨参数对象数据
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>};</span>
</span></span><span class=line><span class=cl>  <span class=n>myComplex</span> <span class=n>oper</span><span class=o>::</span><span class=n>addCom</span><span class=p>(</span><span class=n>myComplex</span> <span class=n>c1</span><span class=p>,</span> <span class=n>myComplex</span> <span class=n>c2</span><span class=p>)</span> <span class=c1>//定义函数
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nf>myComplex</span><span class=p>(</span><span class=n>c1</span><span class=p>.</span><span class=n>real</span> <span class=o>+</span> <span class=n>c2</span><span class=p>.</span><span class=n>real</span><span class=p>,</span> <span class=n>c1</span><span class=p>.</span><span class=n>imag</span> <span class=o>+</span> <span class=n>c2</span><span class=p>.</span><span class=n>imag</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=kt>void</span> <span class=n>oper</span><span class=o>::</span><span class=n>outCom</span><span class=p>(</span><span class=n>myComplex</span> <span class=n>c</span><span class=p>)</span> <span class=c1>//定义函数
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;(&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>c</span><span class=p>.</span><span class=n>real</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;,&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>c</span><span class=p>.</span><span class=n>imag</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;)&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kt>int</span> <span class=nf>main</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>myComplex</span> <span class=n>c1</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>),</span> <span class=n>c2</span><span class=p>(</span><span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>),</span> <span class=n>res</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>oper</span> <span class=n>o</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>res</span> <span class=o>=</span> <span class=n>o</span><span class=p>.</span><span class=n>addCom</span><span class=p>(</span><span class=n>c1</span><span class=p>,</span> <span class=n>c2</span><span class=p>);</span> <span class=c1>//调用成员函数必须通过类对象
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>o</span><span class=p>.</span><span class=n>outCom</span><span class=p>(</span><span class=n>c1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;+&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>o</span><span class=p>.</span><span class=n>outCom</span><span class=p>(</span><span class=n>c2</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;=&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>o</span><span class=p>.</span><span class=n>outCom</span><span class=p>(</span><span class=n>res</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>程序填空题</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl>  <span class=cp>#include</span> <span class=cpf>&lt;iostream&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>  <span class=cp>#include</span> <span class=cpf>&lt;cmath&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>  <span class=k>using</span> <span class=k>namespace</span> <span class=n>std</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>class</span> <span class=nc>Point</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>private</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=kt>double</span> <span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>friend</span> <span class=k>class</span> <span class=nc>Line</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=n>Point</span><span class=p>(</span><span class=kt>double</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span> <span class=kt>double</span> <span class=n>j</span> <span class=o>=</span> <span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=n>x</span> <span class=o>=</span> <span class=n>i</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=n>y</span> <span class=o>=</span> <span class=n>j</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=n>Point</span><span class=p>(</span><span class=n>Point</span> <span class=o>&amp;</span><span class=n>p</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=n>x</span> <span class=o>=</span> <span class=n>p</span><span class=p>.</span><span class=n>x</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=n>y</span> <span class=o>=</span> <span class=n>p</span><span class=p>.</span><span class=n>y</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>class</span> <span class=nc>Line</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>private</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=n>Point</span> <span class=n>p1</span><span class=p>,</span> <span class=n>p2</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=n>Line</span><span class=p>(</span><span class=n>Point</span> <span class=o>&amp;</span><span class=n>xp1</span><span class=p>,</span> <span class=n>Point</span> <span class=o>&amp;</span><span class=n>xp2</span><span class=p>)</span> <span class=o>:</span> <span class=n>p1</span><span class=p>(</span><span class=n>xp1</span><span class=p>),</span> <span class=n>p2</span><span class=p>(</span><span class=n>xp2</span><span class=p>)</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl>    <span class=kt>double</span> <span class=nf>GetLength</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kt>double</span> <span class=n>Line</span><span class=o>::</span><span class=n>GetLength</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kt>double</span> <span class=n>dx</span> <span class=o>=</span> <span class=n>p2</span><span class=p>.</span><span class=n>x</span> <span class=o>-</span> <span class=n>p1</span><span class=p>.</span><span class=n>x</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kt>double</span> <span class=n>dy</span> <span class=o>=</span> <span class=n>p2</span><span class=p>.</span><span class=n>y</span> <span class=o>-</span> <span class=n>p1</span><span class=p>.</span><span class=n>y</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nf>sqrt</span><span class=p>(</span><span class=n>dx</span> <span class=o>*</span> <span class=n>dx</span> <span class=o>+</span> <span class=n>dy</span> <span class=o>*</span> <span class=n>dy</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kt>int</span> <span class=nf>main</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>Point</span> <span class=n>p1</span><span class=p>,</span> <span class=n>p2</span><span class=p>(</span><span class=mi>6</span><span class=p>,</span> <span class=mi>8</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>Line</span> <span class=n>L1</span><span class=p>(</span><span class=n>p1</span><span class=p>,</span> <span class=n>p2</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>L1</span><span class=p>.</span><span class=n>GetLength</span><span class=p>()</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li></ul></li></ol><h4 id=38-this-指针>3.8 this 指针<a hidden class=anchor aria-hidden=true href=#38-this-指针>#</a></h4><ul><li><p>被调用函数的内存首地址</p></li><li><p><strong>this指针始终指向调用成员函数的对象</strong></p><ul><li><strong>每个当前对象都含有一个指向该对象的this指针</strong></li><li><strong><code>this</code>指针只能在类的成员函数中使用</strong></li><li><strong>静态成员函数不能够有this指针</strong>。</li><li><code>this ->成员变量 = 形参;</code></li></ul></li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c++ data-lang=c++><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>myDate</span> <span class=o>::</span> <span class=n>myDate</span><span class=p>(</span><span class=kt>int</span> <span class=n>year</span><span class=p>,</span><span class=kt>int</span> <span class=n>month</span><span class=p>,</span><span class=kt>int</span> <span class=n>day</span><span class=p>){</span>
</span></span><span class=line><span class=cl>	<span class=k>this</span> <span class=o>-&gt;</span> <span class=n>year</span> <span class=o>=</span> <span class=n>year</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=k>this</span> <span class=o>-&gt;</span> <span class=n>month</span> <span class=o>=</span> <span class=n>month</span><span class=p>;</span>
</span></span><span class=line><span class=cl>	<span class=k>this</span> <span class=o>-&gt;</span> <span class=n>day</span> <span class=o>=</span> <span class=n>day</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><ul><li><p>this 指针的使用</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl>  <span class=cp>#include</span> <span class=cpf>&lt;iostream&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>  <span class=k>using</span> <span class=k>namespace</span> <span class=n>std</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>class</span> <span class=nc>myComplex</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=kt>double</span> <span class=n>real</span><span class=p>,</span> <span class=n>imag</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>myComplex</span><span class=p>()</span> <span class=o>:</span> <span class=n>real</span><span class=p>(</span><span class=mi>0</span><span class=p>),</span> <span class=n>imag</span><span class=p>(</span><span class=mi>0</span><span class=p>)</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl>    <span class=n>myComplex</span><span class=p>(</span><span class=kt>double</span><span class=p>,</span> <span class=kt>double</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>myComplex</span> <span class=nf>AddRealOne</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=n>myComplex</span> <span class=nf>AddImagOne</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=kt>void</span> <span class=nf>outCom</span><span class=p>();</span> <span class=c1>//成员函数, 输出调用者对象的有关数据
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>};</span>
</span></span><span class=line><span class=cl>  <span class=n>myComplex</span><span class=o>::</span><span class=n>myComplex</span><span class=p>(</span><span class=kt>double</span> <span class=n>real</span><span class=p>,</span> <span class=kt>double</span> <span class=n>imag</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=o>-&gt;</span><span class=n>real</span> <span class=o>=</span> <span class=n>real</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=o>-&gt;</span><span class=n>imag</span> <span class=o>=</span> <span class=n>imag</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=kt>void</span> <span class=n>myComplex</span><span class=o>::</span><span class=n>outCom</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;(&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>real</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;,&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>imag</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;)&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=n>myComplex</span> <span class=n>myComplex</span><span class=o>::</span><span class=n>AddRealOne</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=o>-&gt;</span><span class=n>real</span><span class=o>++</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=o>*</span><span class=k>this</span><span class=p>;</span> <span class=c1>// 返回对象本身
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=n>myComplex</span> <span class=n>myComplex</span><span class=o>::</span><span class=n>AddImagOne</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=o>-&gt;</span><span class=n>imag</span><span class=o>++</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=o>*</span><span class=k>this</span><span class=p>;</span> <span class=c1>// 返回对象本身
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kt>int</span> <span class=nf>main</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>myComplex</span> <span class=n>c1</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>1</span><span class=p>),</span> <span class=n>c2</span><span class=p>,</span> <span class=n>c3</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>c1</span><span class=p>.</span><span class=n>outCom</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=n>c2</span><span class=p>.</span><span class=n>outCom</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=n>c3</span><span class=p>.</span><span class=n>outCom</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span>
</span></span><span class=line><span class=cl>         <span class=o>&lt;&lt;</span> <span class=s>&#34;分界线&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>c2</span> <span class=o>=</span> <span class=n>c1</span><span class=p>.</span><span class=n>AddRealOne</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=n>c1</span><span class=p>.</span><span class=n>outCom</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=n>c3</span> <span class=o>=</span> <span class=n>c1</span><span class=p>.</span><span class=n>AddImagOne</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=n>c2</span><span class=p>.</span><span class=n>outCom</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=n>c3</span><span class=p>.</span><span class=n>outCom</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li></ul><h1 id=第四章-运算符重载>第四章 运算符重载<a hidden class=anchor aria-hidden=true href=#第四章-运算符重载>#</a></h1><ul><li>运算重载符</li><li>运算重载符作为成员函数和友元函数的两种方式</li><li>对自己定义的类重载运算符</li><li>对特定类重载前置和后置异同</li><li>浅拷贝和深拷贝</li></ul><h2 id=第一节-运算符重载的概念>第一节 运算符重载的概念<a hidden class=anchor aria-hidden=true href=#第一节-运算符重载的概念>#</a></h2><ol><li><p>重载运算符的概念</p><ul><li><p>已有的运算符赋予多重含义, 使同一个运算符作用于不同类型的数据时产生不同的行为</p></li><li><p>可重载的运算符</p></li><li><p><strong>运算符重载的目的是使得运算符能够用来操作对象</strong></p></li></ul></li></ol><table><thead><tr><th>运算符</th><th>举例</th></tr></thead><tbody><tr><td>双目算术运算符</td><td><code>+, -, *, /, %</code></td></tr><tr><td>关系运算符</td><td><code>==, !=, &lt;, >, &lt;=, >=</code></td></tr><tr><td>逻辑运算符</td><td>`</td></tr><tr><td>单目运算符</td><td><code>+(正), -(负), *(指针), &(取地址)</code></td></tr><tr><td>自增自减运算符</td><td><code>++, --</code></td></tr><tr><td>位运算符</td><td>`</td></tr><tr><td>赋值运算符</td><td>`=, +=, -=, *=, /=, %=, &=(按位与赋值),</td></tr><tr><td>空间申请与释放</td><td><code>new, delete, new[], delete[]</code></td></tr><tr><td>其他运算符</td><td><code>()(函数调用), ->(成员访问), ,(逗号), [](下标)</code></td></tr></tbody></table><ul><li>不可重载的运算符和符号</li></ul><table><thead><tr><th>成员访问运算符</th><th><code>.</code></th></tr></thead><tbody><tr><td>成员指针访问运算符</td><td><code>.*</code> , <code>->*</code></td></tr><tr><td>域运算符</td><td><code>::</code></td></tr><tr><td>长度运算符</td><td><code>sizeof</code></td></tr><tr><td>条件运算符</td><td><code>?:</code></td></tr><tr><td>预处理符号</td><td><code>#</code></td></tr></tbody></table><ul><li><p>用于类运算的运算符通常都要重载, 系统提供了两个重载运算符</p><ul><li><code>=, &</code> 复制和地址</li></ul></li><li><p>运算符重载的实质是编写以运算符为名称的函数</p><ul><li>使用运算符的表达式就被解释为对重载函数的调用<div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c++ data-lang=c++></code></pre></td></tr></table></div></div></li></ul></li></ul><pre><code>格式：	返回值类型 operator 运算符(形参表){函数体}
	```
 - 可以是全局函数, 成员函数
</code></pre><ol start=2><li><p><strong>运算符重载函数：成员函数</strong></p><ul><li><p>传递的参数比运算符的操作数少一个，因为<strong>调用者本身也参与运算</strong>，<code>this</code> 可省略</p></li><li><p>使用重载运算符</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span><span class=lnt>59
</span><span class=lnt>60
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl>  <span class=cp>#include</span> <span class=cpf>&lt;iostream&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>  <span class=k>using</span> <span class=k>namespace</span> <span class=n>std</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>class</span> <span class=nc>myComplex</span> <span class=c1>//复数类
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>private</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=kt>double</span> <span class=n>real</span><span class=p>,</span> <span class=n>imag</span><span class=p>;</span> <span class=c1>//复数的实部和虚部
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=n>myComplex</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=n>myComplex</span><span class=p>(</span><span class=kt>double</span> <span class=n>r</span><span class=p>,</span> <span class=kt>double</span> <span class=n>i</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>myComplex</span> <span class=nf>addCom</span><span class=p>(</span><span class=n>myComplex</span> <span class=n>c</span><span class=p>);</span>                                        <span class=c1>//成员函数, 调用者对象与参数对象c相加
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kt>void</span> <span class=nf>outCom</span><span class=p>();</span>                                                        <span class=c1>//成员函数, 输出调用者对象的有关数据
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>myComplex</span> <span class=k>operator</span><span class=o>-</span><span class=p>(</span><span class=k>const</span> <span class=n>myComplex</span> <span class=o>&amp;</span><span class=n>c</span><span class=p>);</span>                              <span class=c1>//成员 重载函数
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>friend</span> <span class=n>myComplex</span> <span class=k>operator</span><span class=o>+</span><span class=p>(</span><span class=k>const</span> <span class=n>myComplex</span> <span class=o>&amp;</span><span class=n>c1</span><span class=p>,</span> <span class=k>const</span> <span class=n>myComplex</span> <span class=o>&amp;</span><span class=n>c2</span><span class=p>);</span> <span class=c1>//友元 重载函数
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>};</span>
</span></span><span class=line><span class=cl>  <span class=n>myComplex</span><span class=o>::</span><span class=n>myComplex</span><span class=p>(</span><span class=kt>double</span> <span class=n>r</span><span class=p>,</span> <span class=kt>double</span> <span class=n>i</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>real</span> <span class=o>=</span> <span class=n>r</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>imag</span> <span class=o>=</span> <span class=n>i</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=n>myComplex</span><span class=o>::</span><span class=n>myComplex</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>real</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>imag</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=n>myComplex</span> <span class=n>myComplex</span><span class=o>::</span><span class=n>addCom</span><span class=p>(</span><span class=n>myComplex</span> <span class=n>c</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nf>myComplex</span><span class=p>(</span><span class=n>real</span> <span class=o>+</span> <span class=n>c</span><span class=p>.</span><span class=n>real</span><span class=p>,</span> <span class=n>imag</span> <span class=o>+</span> <span class=n>c</span><span class=p>.</span><span class=n>imag</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=kt>void</span> <span class=n>myComplex</span><span class=o>::</span><span class=n>outCom</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;(&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>real</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;,&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>imag</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;)&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=n>myComplex</span> <span class=n>myComplex</span><span class=o>::</span><span class=k>operator</span><span class=o>-</span><span class=p>(</span><span class=k>const</span> <span class=n>myComplex</span> <span class=o>&amp;</span><span class=n>c</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nf>myComplex</span><span class=p>(</span><span class=k>this</span><span class=o>-&gt;</span><span class=n>real</span> <span class=o>-</span> <span class=n>c</span><span class=p>.</span><span class=n>real</span><span class=p>,</span> <span class=k>this</span><span class=o>-&gt;</span><span class=n>imag</span> <span class=o>-</span> <span class=n>c</span><span class=p>.</span><span class=n>imag</span><span class=p>);</span> <span class=c1>//返回一个临时对象
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=n>myComplex</span> <span class=k>operator</span><span class=o>+</span><span class=p>(</span><span class=k>const</span> <span class=n>myComplex</span> <span class=o>&amp;</span><span class=n>c1</span><span class=p>,</span> <span class=k>const</span> <span class=n>myComplex</span> <span class=o>&amp;</span><span class=n>c2</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nf>myComplex</span><span class=p>(</span><span class=n>c1</span><span class=p>.</span><span class=n>real</span> <span class=o>+</span> <span class=n>c2</span><span class=p>.</span><span class=n>real</span><span class=p>,</span> <span class=n>c1</span><span class=p>.</span><span class=n>imag</span> <span class=o>+</span> <span class=n>c2</span><span class=p>.</span><span class=n>imag</span><span class=p>);</span> <span class=c1>//返回一个临时对象
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kt>int</span> <span class=nf>main</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>myComplex</span> <span class=n>c1</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>),</span> <span class=n>c2</span><span class=p>(</span><span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>),</span> <span class=n>res</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>c1</span><span class=p>.</span><span class=n>outCom</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;operator+&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>c2</span><span class=p>.</span><span class=n>outCom</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;=&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>res</span> <span class=o>=</span> <span class=n>c1</span> <span class=o>+</span> <span class=n>c2</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>res</span><span class=p>.</span><span class=n>outCom</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>c1</span><span class=p>.</span><span class=n>outCom</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;operator-&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>c2</span><span class=p>.</span><span class=n>outCom</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;=&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>res</span> <span class=o>=</span> <span class=n>c1</span> <span class=o>-</span> <span class=n>c2</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>res</span><span class=p>.</span><span class=n>outCom</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li></ul></li><li><p><strong>运算符重载函数：友元函数</strong></p><ul><li><p>重载运算符作为友元函数时,参数个数为运算符的操作数个数</p></li><li><p>重载作为友元函数</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span><span class=lnt>59
</span><span class=lnt>60
</span><span class=lnt>61
</span><span class=lnt>62
</span><span class=lnt>63
</span><span class=lnt>64
</span><span class=lnt>65
</span><span class=lnt>66
</span><span class=lnt>67
</span><span class=lnt>68
</span><span class=lnt>69
</span><span class=lnt>70
</span><span class=lnt>71
</span><span class=lnt>72
</span><span class=lnt>73
</span><span class=lnt>74
</span><span class=lnt>75
</span><span class=lnt>76
</span><span class=lnt>77
</span><span class=lnt>78
</span><span class=lnt>79
</span><span class=lnt>80
</span><span class=lnt>81
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl>  <span class=cp>#include</span> <span class=cpf>&lt;iostream&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>  <span class=k>using</span> <span class=k>namespace</span> <span class=n>std</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>class</span> <span class=nc>myComplex</span> <span class=c1>//复数类
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>private</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=kt>double</span> <span class=n>real</span><span class=p>,</span> <span class=n>imag</span><span class=p>;</span> <span class=c1>//复数的实部和虚部
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=n>myComplex</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=n>myComplex</span><span class=p>(</span><span class=kt>double</span> <span class=n>r</span><span class=p>,</span> <span class=kt>double</span> <span class=n>i</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>myComplex</span> <span class=nf>addCom</span><span class=p>(</span><span class=n>myComplex</span> <span class=n>c</span><span class=p>);</span>                                        <span class=c1>//成员函数, 调用者对象与参数对象c相加
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kt>void</span> <span class=nf>outCom</span><span class=p>();</span>                                                        <span class=c1>//成员函数, 输出调用者对象的有关数据
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>myComplex</span> <span class=k>operator</span><span class=o>-</span><span class=p>(</span><span class=k>const</span> <span class=n>myComplex</span> <span class=o>&amp;</span><span class=n>c</span><span class=p>);</span>                              <span class=c1>//成员 重载函数
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>friend</span> <span class=n>myComplex</span> <span class=k>operator</span><span class=o>+</span><span class=p>(</span><span class=k>const</span> <span class=n>myComplex</span> <span class=o>&amp;</span><span class=n>c1</span><span class=p>,</span> <span class=k>const</span> <span class=n>myComplex</span> <span class=o>&amp;</span><span class=n>c2</span><span class=p>);</span> <span class=c1>//友元 重载函数
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>friend</span> <span class=n>myComplex</span> <span class=k>operator</span><span class=o>-</span><span class=p>(</span><span class=k>const</span> <span class=n>myComplex</span> <span class=o>&amp;</span><span class=n>c1</span><span class=p>,</span> <span class=k>const</span> <span class=n>myComplex</span> <span class=o>&amp;</span><span class=n>c2</span><span class=p>);</span> <span class=c1>//友元 重载函数
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>friend</span> <span class=n>myComplex</span> <span class=k>operator</span><span class=o>-</span><span class=p>(</span><span class=k>const</span> <span class=n>myComplex</span> <span class=o>&amp;</span><span class=n>c1</span><span class=p>,</span> <span class=kt>double</span> <span class=n>r</span><span class=p>);</span>            <span class=c1>//友元 重载函数
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>friend</span> <span class=n>myComplex</span> <span class=k>operator</span><span class=o>-</span><span class=p>(</span><span class=kt>double</span> <span class=n>r</span><span class=p>,</span> <span class=k>const</span> <span class=n>myComplex</span> <span class=o>&amp;</span><span class=n>c1</span><span class=p>);</span>            <span class=c1>//友元 重载函数
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>};</span>
</span></span><span class=line><span class=cl>  <span class=n>myComplex</span><span class=o>::</span><span class=n>myComplex</span><span class=p>(</span><span class=kt>double</span> <span class=n>r</span><span class=p>,</span> <span class=kt>double</span> <span class=n>i</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>real</span> <span class=o>=</span> <span class=n>r</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>imag</span> <span class=o>=</span> <span class=n>i</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=n>myComplex</span><span class=o>::</span><span class=n>myComplex</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>real</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>imag</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=n>myComplex</span> <span class=n>myComplex</span><span class=o>::</span><span class=n>addCom</span><span class=p>(</span><span class=n>myComplex</span> <span class=n>c</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nf>myComplex</span><span class=p>(</span><span class=n>real</span> <span class=o>+</span> <span class=n>c</span><span class=p>.</span><span class=n>real</span><span class=p>,</span> <span class=n>imag</span> <span class=o>+</span> <span class=n>c</span><span class=p>.</span><span class=n>imag</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=kt>void</span> <span class=n>myComplex</span><span class=o>::</span><span class=n>outCom</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;(&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>real</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;,&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>imag</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;)&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=n>myComplex</span> <span class=n>myComplex</span><span class=o>::</span><span class=k>operator</span><span class=o>-</span><span class=p>(</span><span class=k>const</span> <span class=n>myComplex</span> <span class=o>&amp;</span><span class=n>c</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nf>myComplex</span><span class=p>(</span><span class=k>this</span><span class=o>-&gt;</span><span class=n>real</span> <span class=o>-</span> <span class=n>c</span><span class=p>.</span><span class=n>real</span><span class=p>,</span> <span class=k>this</span><span class=o>-&gt;</span><span class=n>imag</span> <span class=o>-</span> <span class=n>c</span><span class=p>.</span><span class=n>imag</span><span class=p>);</span> <span class=c1>//返回一个临时对象
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=n>myComplex</span> <span class=k>operator</span><span class=o>+</span><span class=p>(</span><span class=k>const</span> <span class=n>myComplex</span> <span class=o>&amp;</span><span class=n>c1</span><span class=p>,</span> <span class=k>const</span> <span class=n>myComplex</span> <span class=o>&amp;</span><span class=n>c2</span><span class=p>)</span> <span class=c1>//c1+c2
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nf>myComplex</span><span class=p>(</span><span class=n>c1</span><span class=p>.</span><span class=n>real</span> <span class=o>+</span> <span class=n>c2</span><span class=p>.</span><span class=n>real</span><span class=p>,</span> <span class=n>c1</span><span class=p>.</span><span class=n>imag</span> <span class=o>+</span> <span class=n>c2</span><span class=p>.</span><span class=n>imag</span><span class=p>);</span> <span class=c1>//返回一个临时对象
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=n>myComplex</span> <span class=k>operator</span><span class=o>-</span><span class=p>(</span><span class=k>const</span> <span class=n>myComplex</span> <span class=o>&amp;</span><span class=n>c1</span><span class=p>,</span> <span class=k>const</span> <span class=n>myComplex</span> <span class=o>&amp;</span><span class=n>c2</span><span class=p>)</span> <span class=c1>//c1-c2
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nf>myComplex</span><span class=p>(</span><span class=n>c1</span><span class=p>.</span><span class=n>real</span> <span class=o>-</span> <span class=n>c2</span><span class=p>.</span><span class=n>real</span><span class=p>,</span> <span class=n>c1</span><span class=p>.</span><span class=n>imag</span> <span class=o>-</span> <span class=n>c2</span><span class=p>.</span><span class=n>imag</span><span class=p>);</span> <span class=c1>//返回一个临时对象
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=n>myComplex</span> <span class=k>operator</span><span class=o>-</span><span class=p>(</span><span class=k>const</span> <span class=n>myComplex</span> <span class=o>&amp;</span><span class=n>c1</span><span class=p>,</span> <span class=kt>double</span> <span class=n>r</span><span class=p>)</span> <span class=c1>//c1-r
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nf>myComplex</span><span class=p>(</span><span class=n>c1</span><span class=p>.</span><span class=n>real</span> <span class=o>-</span> <span class=n>r</span><span class=p>,</span> <span class=n>c1</span><span class=p>.</span><span class=n>imag</span><span class=p>);</span> <span class=c1>//返回一个临时对象
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=n>myComplex</span> <span class=k>operator</span><span class=o>-</span><span class=p>(</span><span class=kt>double</span> <span class=n>r</span><span class=p>,</span> <span class=k>const</span> <span class=n>myComplex</span> <span class=o>&amp;</span><span class=n>c1</span><span class=p>)</span> <span class=c1>//r-c1
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nf>myComplex</span><span class=p>(</span><span class=n>r</span> <span class=o>+</span> <span class=n>c1</span><span class=p>.</span><span class=n>real</span><span class=p>,</span> <span class=o>-</span><span class=n>c1</span><span class=p>.</span><span class=n>imag</span><span class=p>);</span> <span class=c1>//返回一个临时对象
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kt>int</span> <span class=nf>main</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>myComplex</span> <span class=n>c1</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>),</span> <span class=n>c2</span><span class=p>(</span><span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>),</span> <span class=n>res</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>c1</span><span class=p>.</span><span class=n>outCom</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;operator+&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>c2</span><span class=p>.</span><span class=n>outCom</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;=&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>res</span> <span class=o>=</span> <span class=n>c1</span> <span class=o>+</span> <span class=n>c2</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>res</span><span class=p>.</span><span class=n>outCom</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>c1</span><span class=p>.</span><span class=n>outCom</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;operator-&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>c2</span><span class=p>.</span><span class=n>outCom</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;=&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>res</span> <span class=o>=</span> <span class=n>c1</span> <span class=o>-</span> <span class=n>c2</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>res</span><span class=p>.</span><span class=n>outCom</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>res</span> <span class=o>=</span> <span class=n>c1</span> <span class=o>-</span> <span class=n>c2</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>res</span><span class=p>.</span><span class=n>outCom</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=n>res</span> <span class=o>=</span> <span class=n>c1</span> <span class=o>-</span> <span class=mi>5</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>res</span><span class=p>.</span><span class=n>outCom</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=n>res</span> <span class=o>=</span> <span class=mi>5</span> <span class=o>-</span> <span class=n>c1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>res</span><span class=p>.</span><span class=n>outCom</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li></ul></li><li><p>重载运算符的规则</p><ol><li>重载后含义应符合原有用法习惯</li><li><strong>不能改变运算符原有的语义, 包括优先级和结合性</strong></li><li><strong>运算符重载不能改变运算符操作的个数和语法结构</strong></li><li>不能创建新的运算符</li><li><strong><code>(), [], ->, =</code> 只能重载为成员函数</strong>, 不能重载为全局函数</li><li>运算符重载不能改变该运算符用于基本数据类型对象的含义</li></ol></li></ol><p>增加一个无用 int 类型形参的版本，用于区分重载的前置或后置运算符。</p><h2 id=第二节-重载赋值运算符>第二节 重载赋值运算符<a hidden class=anchor aria-hidden=true href=#第二节-重载赋值运算符>#</a></h2><ol><li><p>重载赋值运算符</p><ul><li><p><code>=</code> 只能重载为成员函数</p></li><li><p>重载后被解释为函数调用的形式</p><ul><li><code>s1.operator = (s2);</code></li></ul></li><li><p>为类 myComplex 重载赋值运算符</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>  1
</span><span class=lnt>  2
</span><span class=lnt>  3
</span><span class=lnt>  4
</span><span class=lnt>  5
</span><span class=lnt>  6
</span><span class=lnt>  7
</span><span class=lnt>  8
</span><span class=lnt>  9
</span><span class=lnt> 10
</span><span class=lnt> 11
</span><span class=lnt> 12
</span><span class=lnt> 13
</span><span class=lnt> 14
</span><span class=lnt> 15
</span><span class=lnt> 16
</span><span class=lnt> 17
</span><span class=lnt> 18
</span><span class=lnt> 19
</span><span class=lnt> 20
</span><span class=lnt> 21
</span><span class=lnt> 22
</span><span class=lnt> 23
</span><span class=lnt> 24
</span><span class=lnt> 25
</span><span class=lnt> 26
</span><span class=lnt> 27
</span><span class=lnt> 28
</span><span class=lnt> 29
</span><span class=lnt> 30
</span><span class=lnt> 31
</span><span class=lnt> 32
</span><span class=lnt> 33
</span><span class=lnt> 34
</span><span class=lnt> 35
</span><span class=lnt> 36
</span><span class=lnt> 37
</span><span class=lnt> 38
</span><span class=lnt> 39
</span><span class=lnt> 40
</span><span class=lnt> 41
</span><span class=lnt> 42
</span><span class=lnt> 43
</span><span class=lnt> 44
</span><span class=lnt> 45
</span><span class=lnt> 46
</span><span class=lnt> 47
</span><span class=lnt> 48
</span><span class=lnt> 49
</span><span class=lnt> 50
</span><span class=lnt> 51
</span><span class=lnt> 52
</span><span class=lnt> 53
</span><span class=lnt> 54
</span><span class=lnt> 55
</span><span class=lnt> 56
</span><span class=lnt> 57
</span><span class=lnt> 58
</span><span class=lnt> 59
</span><span class=lnt> 60
</span><span class=lnt> 61
</span><span class=lnt> 62
</span><span class=lnt> 63
</span><span class=lnt> 64
</span><span class=lnt> 65
</span><span class=lnt> 66
</span><span class=lnt> 67
</span><span class=lnt> 68
</span><span class=lnt> 69
</span><span class=lnt> 70
</span><span class=lnt> 71
</span><span class=lnt> 72
</span><span class=lnt> 73
</span><span class=lnt> 74
</span><span class=lnt> 75
</span><span class=lnt> 76
</span><span class=lnt> 77
</span><span class=lnt> 78
</span><span class=lnt> 79
</span><span class=lnt> 80
</span><span class=lnt> 81
</span><span class=lnt> 82
</span><span class=lnt> 83
</span><span class=lnt> 84
</span><span class=lnt> 85
</span><span class=lnt> 86
</span><span class=lnt> 87
</span><span class=lnt> 88
</span><span class=lnt> 89
</span><span class=lnt> 90
</span><span class=lnt> 91
</span><span class=lnt> 92
</span><span class=lnt> 93
</span><span class=lnt> 94
</span><span class=lnt> 95
</span><span class=lnt> 96
</span><span class=lnt> 97
</span><span class=lnt> 98
</span><span class=lnt> 99
</span><span class=lnt>100
</span><span class=lnt>101
</span><span class=lnt>102
</span><span class=lnt>103
</span><span class=lnt>104
</span><span class=lnt>105
</span><span class=lnt>106
</span><span class=lnt>107
</span><span class=lnt>108
</span><span class=lnt>109
</span><span class=lnt>110
</span><span class=lnt>111
</span><span class=lnt>112
</span><span class=lnt>113
</span><span class=lnt>114
</span><span class=lnt>115
</span><span class=lnt>116
</span><span class=lnt>117
</span><span class=lnt>118
</span><span class=lnt>119
</span><span class=lnt>120
</span><span class=lnt>121
</span><span class=lnt>122
</span><span class=lnt>123
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl>  <span class=cp>#include</span> <span class=cpf>&lt;iostream&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>  <span class=k>using</span> <span class=k>namespace</span> <span class=n>std</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>class</span> <span class=nc>myComplex</span> <span class=c1>//复数类
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>private</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=kt>double</span> <span class=n>real</span><span class=p>,</span> <span class=n>imag</span><span class=p>;</span> <span class=c1>//复数的实部和虚部
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=n>myComplex</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=n>myComplex</span><span class=p>(</span><span class=kt>double</span> <span class=n>r</span><span class=p>,</span> <span class=kt>double</span> <span class=n>i</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=o>~</span><span class=n>myComplex</span><span class=p>()</span> <span class=p>{}</span>                                                       <span class=c1>//不能有分号
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>myComplex</span> <span class=nf>addCom</span><span class=p>(</span><span class=n>myComplex</span> <span class=n>c1</span><span class=p>);</span>                                       <span class=c1>//成员函数, 调用者对象与参数对象c相加
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kt>void</span> <span class=nf>outCom</span><span class=p>();</span>                                                        <span class=c1>//成员函数, 输出调用者对象的有关数据
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kt>void</span> <span class=nf>outCom</span><span class=p>(</span><span class=n>string</span> <span class=n>s</span><span class=p>);</span>                                                <span class=c1>//成员函数, 输出调用者对象的有关数据
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kt>void</span> <span class=nf>changeReal</span><span class=p>(</span><span class=kt>double</span> <span class=n>r</span><span class=p>);</span>                                            <span class=c1>//成员函数
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>myComplex</span> <span class=k>operator</span><span class=o>-</span><span class=p>(</span><span class=k>const</span> <span class=n>myComplex</span> <span class=o>&amp;</span><span class=n>c</span><span class=p>);</span>                              <span class=c1>//成员 重载函数
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>friend</span> <span class=n>myComplex</span> <span class=k>operator</span><span class=o>+</span><span class=p>(</span><span class=k>const</span> <span class=n>myComplex</span> <span class=o>&amp;</span><span class=n>c1</span><span class=p>,</span> <span class=k>const</span> <span class=n>myComplex</span> <span class=o>&amp;</span><span class=n>c2</span><span class=p>);</span> <span class=c1>//友元 重载函数 c1+c2
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>friend</span> <span class=n>myComplex</span> <span class=k>operator</span><span class=o>+</span><span class=p>(</span><span class=k>const</span> <span class=n>myComplex</span> <span class=o>&amp;</span><span class=n>c1</span><span class=p>,</span> <span class=kt>double</span> <span class=n>r</span><span class=p>);</span>            <span class=c1>//友元 重载函数 c1+r
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>friend</span> <span class=n>myComplex</span> <span class=k>operator</span><span class=o>+</span><span class=p>(</span><span class=kt>double</span> <span class=n>r</span><span class=p>,</span> <span class=k>const</span> <span class=n>myComplex</span> <span class=o>&amp;</span><span class=n>c1</span><span class=p>);</span>            <span class=c1>//友元 重载函数 r+c1
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>friend</span> <span class=n>myComplex</span> <span class=k>operator</span><span class=o>-</span><span class=p>(</span><span class=k>const</span> <span class=n>myComplex</span> <span class=o>&amp;</span><span class=n>c1</span><span class=p>,</span> <span class=k>const</span> <span class=n>myComplex</span> <span class=o>&amp;</span><span class=n>c2</span><span class=p>);</span> <span class=c1>//友元 重载函数
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>friend</span> <span class=n>myComplex</span> <span class=k>operator</span><span class=o>-</span><span class=p>(</span><span class=k>const</span> <span class=n>myComplex</span> <span class=o>&amp;</span><span class=n>c1</span><span class=p>,</span> <span class=kt>double</span> <span class=n>r</span><span class=p>);</span>            <span class=c1>//友元 重载函数
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>friend</span> <span class=n>myComplex</span> <span class=k>operator</span><span class=o>-</span><span class=p>(</span><span class=kt>double</span> <span class=n>r</span><span class=p>,</span> <span class=k>const</span> <span class=n>myComplex</span> <span class=o>&amp;</span><span class=n>c1</span><span class=p>);</span>            <span class=c1>//友元 重载函数
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>myComplex</span> <span class=o>&amp;</span><span class=k>operator</span><span class=o>=</span><span class=p>(</span><span class=k>const</span> <span class=n>myComplex</span> <span class=o>&amp;</span><span class=n>c</span><span class=p>);</span>                             <span class=c1>//成员函数
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>myComplex</span> <span class=o>&amp;</span><span class=k>operator</span><span class=o>=</span><span class=p>(</span><span class=kt>double</span><span class=p>);</span>                                         <span class=c1>//成员函数
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>};</span>
</span></span><span class=line><span class=cl>  <span class=n>myComplex</span><span class=o>::</span><span class=n>myComplex</span><span class=p>(</span><span class=kt>double</span> <span class=n>r</span><span class=p>,</span> <span class=kt>double</span> <span class=n>i</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>real</span> <span class=o>=</span> <span class=n>r</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>imag</span> <span class=o>=</span> <span class=n>i</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=n>myComplex</span><span class=o>::</span><span class=n>myComplex</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>real</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>imag</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=n>myComplex</span> <span class=n>myComplex</span><span class=o>::</span><span class=n>addCom</span><span class=p>(</span><span class=n>myComplex</span> <span class=n>c1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nf>myComplex</span><span class=p>(</span><span class=k>this</span><span class=o>-&gt;</span><span class=n>real</span> <span class=o>+</span> <span class=n>c1</span><span class=p>.</span><span class=n>real</span><span class=p>,</span> <span class=k>this</span><span class=o>-&gt;</span><span class=n>imag</span> <span class=o>+</span> <span class=n>c1</span><span class=p>.</span><span class=n>imag</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=kt>void</span> <span class=n>myComplex</span><span class=o>::</span><span class=n>outCom</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;(&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>real</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;,&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>imag</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;)&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=kt>void</span> <span class=n>myComplex</span><span class=o>::</span><span class=n>outCom</span><span class=p>(</span><span class=n>string</span> <span class=n>s</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>s</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;(&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>real</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;,&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>imag</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;)&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=kt>void</span> <span class=n>myComplex</span><span class=o>::</span><span class=n>changeReal</span><span class=p>(</span><span class=kt>double</span> <span class=n>r</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=o>-&gt;</span><span class=n>real</span> <span class=o>=</span> <span class=n>r</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=c1>// myComplex myComplex::operator-(const myComplex &amp;c)
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=c1>// {
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=c1>//   return myComplex(this-&gt;real - c.real, this-&gt;imag - c.imag); //返回一个临时对象
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=c1>// }
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=n>myComplex</span> <span class=k>operator</span><span class=o>+</span><span class=p>(</span><span class=k>const</span> <span class=n>myComplex</span> <span class=o>&amp;</span><span class=n>c1</span><span class=p>,</span> <span class=k>const</span> <span class=n>myComplex</span> <span class=o>&amp;</span><span class=n>c2</span><span class=p>)</span> <span class=c1>//c1+c2
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nf>myComplex</span><span class=p>(</span><span class=n>c1</span><span class=p>.</span><span class=n>real</span> <span class=o>+</span> <span class=n>c2</span><span class=p>.</span><span class=n>real</span><span class=p>,</span> <span class=n>c1</span><span class=p>.</span><span class=n>imag</span> <span class=o>+</span> <span class=n>c2</span><span class=p>.</span><span class=n>imag</span><span class=p>);</span> <span class=c1>//返回一个临时对象
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=n>myComplex</span> <span class=k>operator</span><span class=o>+</span><span class=p>(</span><span class=k>const</span> <span class=n>myComplex</span> <span class=o>&amp;</span><span class=n>c1</span><span class=p>,</span> <span class=kt>double</span> <span class=n>r</span><span class=p>)</span> <span class=c1>//c1+r
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nf>myComplex</span><span class=p>(</span><span class=n>c1</span><span class=p>.</span><span class=n>real</span> <span class=o>+</span> <span class=n>r</span><span class=p>,</span> <span class=n>c1</span><span class=p>.</span><span class=n>imag</span><span class=p>);</span> <span class=c1>//返回一个临时对象
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=n>myComplex</span> <span class=k>operator</span><span class=o>+</span><span class=p>(</span><span class=kt>double</span> <span class=n>r</span><span class=p>,</span> <span class=k>const</span> <span class=n>myComplex</span> <span class=o>&amp;</span><span class=n>c1</span><span class=p>)</span> <span class=c1>//r+c2
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nf>myComplex</span><span class=p>(</span><span class=n>r</span> <span class=o>+</span> <span class=n>c1</span><span class=p>.</span><span class=n>real</span><span class=p>,</span> <span class=n>c1</span><span class=p>.</span><span class=n>imag</span><span class=p>);</span> <span class=c1>//返回一个临时对象
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=n>myComplex</span> <span class=k>operator</span><span class=o>-</span><span class=p>(</span><span class=k>const</span> <span class=n>myComplex</span> <span class=o>&amp;</span><span class=n>c1</span><span class=p>,</span> <span class=k>const</span> <span class=n>myComplex</span> <span class=o>&amp;</span><span class=n>c2</span><span class=p>)</span> <span class=c1>//c1-c2
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nf>myComplex</span><span class=p>(</span><span class=n>c1</span><span class=p>.</span><span class=n>real</span> <span class=o>-</span> <span class=n>c2</span><span class=p>.</span><span class=n>real</span><span class=p>,</span> <span class=n>c1</span><span class=p>.</span><span class=n>imag</span> <span class=o>-</span> <span class=n>c2</span><span class=p>.</span><span class=n>imag</span><span class=p>);</span> <span class=c1>//返回一个临时对象
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=n>myComplex</span> <span class=k>operator</span><span class=o>-</span><span class=p>(</span><span class=k>const</span> <span class=n>myComplex</span> <span class=o>&amp;</span><span class=n>c1</span><span class=p>,</span> <span class=kt>double</span> <span class=n>r</span><span class=p>)</span> <span class=c1>//c1-r
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nf>myComplex</span><span class=p>(</span><span class=n>c1</span><span class=p>.</span><span class=n>real</span> <span class=o>-</span> <span class=n>r</span><span class=p>,</span> <span class=n>c1</span><span class=p>.</span><span class=n>imag</span><span class=p>);</span> <span class=c1>//返回一个临时对象
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=n>myComplex</span> <span class=k>operator</span><span class=o>-</span><span class=p>(</span><span class=kt>double</span> <span class=n>r</span><span class=p>,</span> <span class=k>const</span> <span class=n>myComplex</span> <span class=o>&amp;</span><span class=n>c1</span><span class=p>)</span> <span class=c1>//r-c1
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=nf>myComplex</span><span class=p>(</span><span class=n>r</span> <span class=o>+</span> <span class=n>c1</span><span class=p>.</span><span class=n>real</span><span class=p>,</span> <span class=o>-</span><span class=n>c1</span><span class=p>.</span><span class=n>imag</span><span class=p>);</span> <span class=c1>//返回一个临时对象
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=n>myComplex</span> <span class=o>&amp;</span><span class=n>myComplex</span><span class=o>::</span><span class=k>operator</span><span class=o>=</span><span class=p>(</span><span class=k>const</span> <span class=n>myComplex</span> <span class=o>&amp;</span><span class=n>c1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=o>-&gt;</span><span class=n>real</span> <span class=o>=</span> <span class=n>c1</span><span class=p>.</span><span class=n>real</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=o>-&gt;</span><span class=n>imag</span> <span class=o>=</span> <span class=n>c1</span><span class=p>.</span><span class=n>imag</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=o>*</span><span class=k>this</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=n>myComplex</span> <span class=o>&amp;</span><span class=n>myComplex</span><span class=o>::</span><span class=k>operator</span><span class=o>=</span><span class=p>(</span><span class=kt>double</span> <span class=n>r</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=o>-&gt;</span><span class=n>real</span> <span class=o>=</span> <span class=n>r</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=o>-&gt;</span><span class=n>imag</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=o>*</span><span class=k>this</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kt>int</span> <span class=nf>main</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>myComplex</span> <span class=n>c1</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>),</span> <span class=n>c2</span><span class=p>(</span><span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>),</span> <span class=n>res</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>c1</span><span class=p>.</span><span class=n>outCom</span><span class=p>(</span><span class=s>&#34;</span><span class=se>\t\t\t</span><span class=s>c1&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>c2</span><span class=p>.</span><span class=n>outCom</span><span class=p>(</span><span class=s>&#34;</span><span class=se>\t\t\t</span><span class=s>c2&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>res</span> <span class=o>=</span> <span class=n>c1</span> <span class=o>+</span> <span class=n>c2</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>res</span><span class=p>.</span><span class=n>outCom</span><span class=p>(</span><span class=s>&#34;执行 res = c1 + c2 →</span><span class=se>\t</span><span class=s>res&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>res</span> <span class=o>=</span> <span class=n>c1</span><span class=p>.</span><span class=n>addCom</span><span class=p>(</span><span class=n>c2</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>res</span><span class=p>.</span><span class=n>outCom</span><span class=p>(</span><span class=s>&#34;执行 res = c1.addCom(c2) →</span><span class=se>\t</span><span class=s>res&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>res</span> <span class=o>=</span> <span class=n>c1</span> <span class=o>+</span> <span class=mi>5</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>res</span><span class=p>.</span><span class=n>outCom</span><span class=p>(</span><span class=s>&#34;执行 res = c1 + 5 →</span><span class=se>\t</span><span class=s>res&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>res</span> <span class=o>=</span> <span class=mi>5</span> <span class=o>+</span> <span class=n>c1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>res</span><span class=p>.</span><span class=n>outCom</span><span class=p>(</span><span class=s>&#34;执行 res = 5 + c1 →</span><span class=se>\t</span><span class=s>res&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>res</span> <span class=o>=</span> <span class=n>c1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>c1</span><span class=p>.</span><span class=n>outCom</span><span class=p>(</span><span class=s>&#34;</span><span class=se>\t\t\t</span><span class=s>c1&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>res</span><span class=p>.</span><span class=n>outCom</span><span class=p>(</span><span class=s>&#34;执行 res = c1 →</span><span class=se>\t</span><span class=s>res&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>c1</span><span class=p>.</span><span class=n>changeReal</span><span class=p>(</span><span class=o>-</span><span class=mi>3</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>c1</span><span class=p>.</span><span class=n>outCom</span><span class=p>(</span><span class=s>&#34;执行 changeReal(-3) →</span><span class=se>\t</span><span class=s>c1&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>res</span><span class=p>.</span><span class=n>outCom</span><span class=p>(</span><span class=s>&#34;</span><span class=se>\t\t\t</span><span class=s>res&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>res</span> <span class=o>=</span> <span class=n>c1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>res</span><span class=p>.</span><span class=n>outCom</span><span class=p>(</span><span class=s>&#34;res = c1 →</span><span class=se>\t</span><span class=s>res&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>res</span> <span class=o>=</span> <span class=mi>7</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>res</span><span class=p>.</span><span class=n>outCom</span><span class=p>(</span><span class=s>&#34;res = 7 →</span><span class=se>\t</span><span class=s>res&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>res</span> <span class=o>=</span> <span class=mi>7</span> <span class=o>+</span> <span class=mi>8</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>res</span><span class=p>.</span><span class=n>outCom</span><span class=p>(</span><span class=s>&#34;res = 7 + 8; →</span><span class=se>\t</span><span class=s>res&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>res</span> <span class=o>=</span> <span class=n>c1</span> <span class=o>=</span> <span class=n>c2</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>c1</span><span class=p>.</span><span class=n>outCom</span><span class=p>(</span><span class=s>&#34;</span><span class=se>\t\t\t</span><span class=s>c1&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>c2</span><span class=p>.</span><span class=n>outCom</span><span class=p>(</span><span class=s>&#34;</span><span class=se>\t\t\t</span><span class=s>c2&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>res</span><span class=p>.</span><span class=n>outCom</span><span class=p>(</span><span class=s>&#34;res = c1 = c2 →</span><span class=se>\t</span><span class=s>res&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li></ul></li><li><p><strong>浅拷贝和深拷贝</strong></p><ul><li><p>浅拷贝</p><ul><li>赋值号左侧对象的值一一赋值给左侧对象</li><li>如果值得对象涉及指针或引用, 它们之间值相互关联, 因为指向同一个内存地址</li></ul></li><li><p>深拷贝</p><ul><li>自定义复制构造函数<ul><li>原复制构造函数，值和指针指向地址都被复制</li><li>新复制构造函数，只复制值到新的指针指向的地址</li></ul></li><li>重载赋值运算符<ul><li>赋值语句是，将一个对象中指针成员变量指向的内容，复制到另一个对象中指针成员变量指向的地方</li></ul></li><li><code>delete 指针;</code> 释放原指针的内存再保存到新的指针指向的内存地址</li></ul></li><li><p>深拷贝的实现(4-4)</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl>  <span class=cp>#include</span> <span class=cpf>&lt;iostream&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>  <span class=k>using</span> <span class=k>namespace</span> <span class=n>std</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>class</span> <span class=nc>pointer</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>a</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=o>*</span><span class=n>p</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>pointer</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=n>a</span> <span class=o>=</span> <span class=mi>100</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=n>p</span> <span class=o>=</span> <span class=k>new</span> <span class=kt>int</span><span class=p>(</span><span class=mi>10</span><span class=p>);</span> <span class=c1>//初始化内存
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=o>*</span><span class=n>p</span> <span class=o>=</span> <span class=mi>11</span><span class=p>;</span>         <span class=c1>//向内存赋值
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=n>pointer</span><span class=p>(</span><span class=k>const</span> <span class=n>pointer</span> <span class=o>&amp;</span><span class=n>temp</span><span class=p>)</span> <span class=c1>//复制构造函数
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>if</span> <span class=p>(</span><span class=k>this</span> <span class=o>!=</span> <span class=o>&amp;</span><span class=n>temp</span><span class=p>)</span>
</span></span><span class=line><span class=cl>      <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>a</span> <span class=o>=</span> <span class=n>temp</span><span class=p>.</span><span class=n>a</span><span class=p>;</span> <span class=c1>// a 是局部变量，内存跟随对象
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=n>p</span> <span class=o>=</span> <span class=n>temp</span><span class=p>.</span><span class=n>p</span><span class=p>;</span> <span class=c1>// p 是指针变量，内存固定，需要深度复制
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;*p=&#34;</span> <span class=o>&lt;&lt;</span> <span class=o>*</span><span class=n>p</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;,p=&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>p</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=c1>// delete p;                 //删除指针，新指针的地址还是原来的地址，不能删除
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=n>p</span> <span class=o>=</span> <span class=k>new</span> <span class=kt>int</span><span class=p>(</span><span class=o>*</span><span class=n>temp</span><span class=p>.</span><span class=n>p</span> <span class=o>+</span> <span class=mi>1</span><span class=p>);</span> <span class=c1>//把指针 temp.p 的值赋值给 指针 p
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=o>*</span><span class=n>p</span> <span class=o>=</span> <span class=o>*</span><span class=n>temp</span><span class=p>.</span><span class=n>p</span> <span class=o>+</span> <span class=mi>10</span><span class=p>;</span>        <span class=c1>//加10更好分辨 *p
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;*p=&#34;</span> <span class=o>&lt;&lt;</span> <span class=o>*</span><span class=n>p</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;,p=&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>p</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=o>~</span><span class=n>pointer</span><span class=p>()</span> <span class=c1>//析构函数
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>if</span> <span class=p>(</span><span class=n>p</span> <span class=o>!=</span> <span class=nb>NULL</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>delete</span> <span class=n>p</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=n>pointer</span> <span class=k>operator</span><span class=o>=</span><span class=p>(</span><span class=n>pointer</span> <span class=o>&amp;</span><span class=n>a</span><span class=p>)</span> <span class=c1>//成员函数 重载赋值运算符
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>if</span> <span class=p>(</span><span class=k>this</span> <span class=o>==</span> <span class=o>&amp;</span><span class=n>a</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=o>*</span><span class=k>this</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=k>else</span>
</span></span><span class=line><span class=cl>      <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=k>delete</span> <span class=n>p</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>this</span><span class=o>-&gt;</span><span class=n>p</span> <span class=o>=</span> <span class=k>new</span> <span class=kt>int</span><span class=p>(</span><span class=o>*</span><span class=n>a</span><span class=p>.</span><span class=n>p</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;*p3=&#34;</span> <span class=o>&lt;&lt;</span> <span class=o>*</span><span class=n>p</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;,p3=&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>p</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=o>*</span><span class=k>this</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span>
</span></span><span class=line><span class=cl>  <span class=kt>int</span> <span class=nf>main</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>pointer</span> <span class=n>p1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>pointer</span> <span class=n>p2</span><span class=p>(</span><span class=n>p1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>pointer</span> <span class=n>p3</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>p3</span> <span class=o>=</span> <span class=n>p1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>p1</span><span class=p>.</span><span class=n>a</span> <span class=o>=</span> <span class=mi>123</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=o>*</span><span class=n>p1</span><span class=p>.</span><span class=n>p</span> <span class=o>=</span> <span class=mi>234</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>p1</span><span class=p>.</span><span class=n>a</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;,p1=&#34;</span> <span class=o>&lt;&lt;</span> <span class=o>*</span><span class=n>p1</span><span class=p>.</span><span class=n>p</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>p2</span><span class=p>.</span><span class=n>a</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;,p2=&#34;</span> <span class=o>&lt;&lt;</span> <span class=o>*</span><span class=n>p2</span><span class=p>.</span><span class=n>p</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>p3</span><span class=p>.</span><span class=n>a</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;,p3=&#34;</span> <span class=o>&lt;&lt;</span> <span class=o>*</span><span class=n>p3</span><span class=p>.</span><span class=n>p</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li></ul></li></ol><h2 id=第三节-重载流插入运算符和流提取运算符>第三节 重载流插入运算符和流提取运算符<a hidden class=anchor aria-hidden=true href=#第三节-重载流插入运算符和流提取运算符>#</a></h2><ul><li><p>流插入运算符</p><ul><li>左移运算符 <code>&lt;&lt;</code> 和 <code>cout</code> 一起用于输出, 称为 “流插入运算符”</li></ul></li><li><p>流提取运算符</p><ul><li>左移运算符 <code>>></code> 和 <code>cin</code> 一起用于输出, 称为 “流插入运算符”</li></ul></li><li><p>C++ 类库提供的头文件对 <code>&lt;&lt;</code> <code>>></code> 进行了重载</p><ul><li><code>cout &lt;&lt;</code> 是 <code>ostream</code> 的对象</li><li><code>cin >></code> 是 <code>istream</code> 的对象</li><li>在头文件 <code>iostream</code> 中声明, 所以要用 <code>#include&lt;iostream></code></li></ul></li><li><p>重载流运算符</p><ul><li><p>操作符右边是流对象的别名, 不是操作对象</p><ul><li>运算符接在流对象后面, 直接访问类的私有数据</li><li><strong>流只能继承不能修改, 重载函数不能是流类库中的成员, 必须重载为类的友元</strong></li></ul></li><li><p>重载流插入运算符</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl><span class=n>ostream</span> <span class=o>&amp;</span><span class=k>operator</span><span class=o>&lt;&lt;</span><span class=p>(</span><span class=n>ostream</span> <span class=o>&amp;</span> <span class=n>output</span><span class=p>,</span> <span class=err>类名</span><span class=o>&amp;</span><span class=err>对象名</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=p>...</span> 
</span></span><span class=line><span class=cl>	<span class=k>return</span> <span class=n>output</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>重载流提取运算符</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl><span class=n>istream</span> <span class=o>&amp;</span><span class=k>operator</span><span class=o>&gt;&gt;</span><span class=p>(</span><span class=n>istream</span> <span class=o>&amp;</span> <span class=n>input</span><span class=p>,</span> <span class=err>类名</span><span class=o>&amp;</span><span class=err>对象名</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=p>...</span> 
</span></span><span class=line><span class=cl>	<span class=k>return</span> <span class=n>input</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><ul><li><code>input</code>是 <code>istream</code> 对象的引用, 是 <code>cin</code> 的别名: <code>istream & input = cin;</code></li></ul></li><li><p>流插入运算符和流提取运算符重载为友元</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl>  <span class=cp>#include</span> <span class=cpf>&lt;iostream&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>  <span class=cp>#include</span> <span class=cpf>&lt;cstdlib&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>  <span class=cp>#include</span> <span class=cpf>&lt;string&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>  <span class=k>using</span> <span class=k>namespace</span> <span class=n>std</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>class</span> <span class=nc>myComplex</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>private</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=kt>double</span> <span class=n>real</span><span class=p>,</span> <span class=n>imag</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=n>myComplex</span><span class=p>()</span> <span class=o>:</span> <span class=n>real</span><span class=p>(</span><span class=mi>0</span><span class=p>),</span> <span class=n>imag</span><span class=p>(</span><span class=mi>0</span><span class=p>)</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl>    <span class=n>myComplex</span><span class=p>(</span><span class=kt>double</span> <span class=n>r</span><span class=p>,</span> <span class=kt>double</span> <span class=n>i</span><span class=p>)</span> <span class=o>:</span> <span class=n>real</span><span class=p>(</span><span class=n>r</span><span class=p>),</span> <span class=n>imag</span><span class=p>(</span><span class=n>i</span><span class=p>)</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl>    <span class=k>friend</span> <span class=n>ostream</span> <span class=o>&amp;</span><span class=k>operator</span><span class=o>&lt;&lt;</span><span class=p>(</span><span class=n>ostream</span> <span class=o>&amp;</span><span class=n>os</span><span class=p>,</span> <span class=k>const</span> <span class=n>myComplex</span> <span class=o>&amp;</span><span class=n>c</span><span class=p>);</span> <span class=c1>//友元,插入
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>friend</span> <span class=n>istream</span> <span class=o>&amp;</span><span class=k>operator</span><span class=o>&gt;&gt;</span><span class=p>(</span><span class=n>istream</span> <span class=o>&amp;</span><span class=n>is</span><span class=p>,</span> <span class=n>myComplex</span> <span class=o>&amp;</span><span class=n>c</span><span class=p>);</span>       <span class=c1>//友元,提取
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>};</span>
</span></span><span class=line><span class=cl>  <span class=n>ostream</span> <span class=o>&amp;</span><span class=k>operator</span><span class=o>&lt;&lt;</span><span class=p>(</span><span class=n>ostream</span> <span class=o>&amp;</span><span class=n>os</span><span class=p>,</span> <span class=k>const</span> <span class=n>myComplex</span> <span class=o>&amp;</span><span class=n>c</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=n>c</span><span class=p>.</span><span class=n>imag</span> <span class=o>&gt;=</span> <span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=n>os</span> <span class=o>&lt;&lt;</span> <span class=n>c</span><span class=p>.</span><span class=n>real</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;+&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>c</span><span class=p>.</span><span class=n>imag</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;i&#34;</span><span class=p>;</span> <span class=c1>//以 a+bi 的形式输入
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>else</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=n>os</span> <span class=o>&lt;&lt;</span> <span class=n>c</span><span class=p>.</span><span class=n>real</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;-&#34;</span> <span class=o>&lt;&lt;</span> <span class=o>-</span><span class=n>c</span><span class=p>.</span><span class=n>imag</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;i&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>os</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=n>istream</span> <span class=o>&amp;</span><span class=k>operator</span><span class=o>&gt;&gt;</span><span class=p>(</span><span class=n>istream</span> <span class=o>&amp;</span><span class=n>is</span><span class=p>,</span> <span class=n>myComplex</span> <span class=o>&amp;</span><span class=n>c</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>string</span> <span class=n>s</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>is</span> <span class=o>&gt;&gt;</span> <span class=n>s</span><span class=p>;</span>                  <span class=c1>//将a+bi 作为字符串读入,a+bi中间不能有空格
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kt>int</span> <span class=n>pos</span> <span class=o>=</span> <span class=n>s</span><span class=p>.</span><span class=n>find</span><span class=p>(</span><span class=s>&#34;+&#34;</span><span class=p>,</span> <span class=mi>0</span><span class=p>);</span> <span class=c1>//查找虚部
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>if</span> <span class=p>(</span><span class=n>pos</span> <span class=o>==</span> <span class=o>-</span><span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>      <span class=n>pos</span> <span class=o>=</span> <span class=n>s</span><span class=p>.</span><span class=n>find</span><span class=p>(</span><span class=s>&#34;-&#34;</span><span class=p>,</span> <span class=mi>1</span><span class=p>);</span>                      <span class=c1>//虚部为负数时
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>string</span> <span class=n>sReal</span> <span class=o>=</span> <span class=n>s</span><span class=p>.</span><span class=n>substr</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=n>pos</span><span class=p>);</span>             <span class=c1>//分离出代表实部的字符串
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>c</span><span class=p>.</span><span class=n>real</span> <span class=o>=</span> <span class=n>atof</span><span class=p>(</span><span class=n>sReal</span><span class=p>.</span><span class=n>c_str</span><span class=p>());</span>                <span class=c1>//atof() 能将参数内容转换成浮点数
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>sReal</span> <span class=o>=</span> <span class=n>s</span><span class=p>.</span><span class=n>substr</span><span class=p>(</span><span class=n>pos</span><span class=p>,</span> <span class=n>s</span><span class=p>.</span><span class=n>length</span><span class=p>()</span> <span class=o>-</span> <span class=n>pos</span> <span class=o>-</span> <span class=mi>1</span><span class=p>);</span> <span class=c1>//分离出代表虚部的字符串
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>c</span><span class=p>.</span><span class=n>imag</span> <span class=o>=</span> <span class=n>atof</span><span class=p>(</span><span class=n>sReal</span><span class=p>.</span><span class=n>c_str</span><span class=p>());</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>is</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=kt>int</span> <span class=nf>main</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>myComplex</span> <span class=n>c</span><span class=p>,</span> <span class=n>c1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>n</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;请输入两个复数([-]a±bi)和一个整数, 以空格分隔&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>cin</span> <span class=o>&gt;&gt;</span> <span class=n>c</span> <span class=o>&gt;&gt;</span> <span class=n>c1</span> <span class=o>&gt;&gt;</span> <span class=n>n</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>c</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;,&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>n</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;,&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>c1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>流插入运算符重载为成员函数</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl>  <span class=cp>#include</span> <span class=cpf>&lt;iostream&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>  <span class=cp>#include</span> <span class=cpf>&lt;cstdlib&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>  <span class=cp>#include</span> <span class=cpf>&lt;string&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>  <span class=k>using</span> <span class=k>namespace</span> <span class=n>std</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>class</span> <span class=nc>myComplex</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>private</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=kt>double</span> <span class=n>real</span><span class=p>,</span> <span class=n>imag</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=n>myComplex</span><span class=p>()</span> <span class=o>:</span> <span class=n>real</span><span class=p>(</span><span class=mi>0</span><span class=p>),</span> <span class=n>imag</span><span class=p>(</span><span class=mi>0</span><span class=p>)</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl>    <span class=n>myComplex</span><span class=p>(</span><span class=kt>double</span> <span class=n>r</span><span class=p>,</span> <span class=kt>double</span> <span class=n>i</span><span class=p>)</span> <span class=o>:</span> <span class=n>real</span><span class=p>(</span><span class=n>r</span><span class=p>),</span> <span class=n>imag</span><span class=p>(</span><span class=n>i</span><span class=p>)</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl>    <span class=n>ostream</span> <span class=o>&amp;</span><span class=k>operator</span><span class=o>&lt;&lt;</span><span class=p>(</span><span class=n>ostream</span> <span class=o>&amp;</span><span class=n>os</span><span class=p>);</span>                      <span class=c1>//成员函数 ,插入
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>friend</span> <span class=n>istream</span> <span class=o>&amp;</span><span class=k>operator</span><span class=o>&gt;&gt;</span><span class=p>(</span><span class=n>istream</span> <span class=o>&amp;</span><span class=n>is</span><span class=p>,</span> <span class=n>myComplex</span> <span class=o>&amp;</span><span class=n>c</span><span class=p>);</span> <span class=c1>//友元,提取
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>};</span>
</span></span><span class=line><span class=cl>  <span class=n>ostream</span> <span class=o>&amp;</span><span class=n>myComplex</span><span class=o>::</span><span class=k>operator</span><span class=o>&lt;&lt;</span><span class=p>(</span><span class=n>ostream</span> <span class=o>&amp;</span><span class=n>os</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=k>this</span><span class=o>-&gt;</span><span class=n>imag</span> <span class=o>&gt;=</span> <span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=n>os</span> <span class=o>&lt;&lt;</span> <span class=k>this</span><span class=o>-&gt;</span><span class=n>real</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;+&#34;</span> <span class=o>&lt;&lt;</span> <span class=k>this</span><span class=o>-&gt;</span><span class=n>imag</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;i&#34;</span><span class=p>;</span> <span class=c1>//以 a+bi 的形式输入
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>else</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=n>os</span> <span class=o>&lt;&lt;</span> <span class=k>this</span><span class=o>-&gt;</span><span class=n>real</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;-&#34;</span> <span class=o>&lt;&lt;</span> <span class=o>-</span><span class=k>this</span><span class=o>-&gt;</span><span class=n>imag</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;i&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>os</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=n>istream</span> <span class=o>&amp;</span><span class=k>operator</span><span class=o>&gt;&gt;</span><span class=p>(</span><span class=n>istream</span> <span class=o>&amp;</span><span class=n>is</span><span class=p>,</span> <span class=n>myComplex</span> <span class=o>&amp;</span><span class=n>c</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>string</span> <span class=n>s</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>is</span> <span class=o>&gt;&gt;</span> <span class=n>s</span><span class=p>;</span>                  <span class=c1>//将a+bi 作为字符串读入,a+bi中间不能有空格
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kt>int</span> <span class=n>pos</span> <span class=o>=</span> <span class=n>s</span><span class=p>.</span><span class=n>find</span><span class=p>(</span><span class=s>&#34;+&#34;</span><span class=p>,</span> <span class=mi>0</span><span class=p>);</span> <span class=c1>//查找虚部
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>if</span> <span class=p>(</span><span class=n>pos</span> <span class=o>==</span> <span class=o>-</span><span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl>      <span class=n>pos</span> <span class=o>=</span> <span class=n>s</span><span class=p>.</span><span class=n>find</span><span class=p>(</span><span class=s>&#34;-&#34;</span><span class=p>,</span> <span class=mi>1</span><span class=p>);</span>                      <span class=c1>//虚部为负数时
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>string</span> <span class=n>sReal</span> <span class=o>=</span> <span class=n>s</span><span class=p>.</span><span class=n>substr</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=n>pos</span><span class=p>);</span>             <span class=c1>//分离出代表实部的字符串
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>c</span><span class=p>.</span><span class=n>real</span> <span class=o>=</span> <span class=n>atof</span><span class=p>(</span><span class=n>sReal</span><span class=p>.</span><span class=n>c_str</span><span class=p>());</span>                <span class=c1>//atof() 能将参数内容转换成浮点数
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>sReal</span> <span class=o>=</span> <span class=n>s</span><span class=p>.</span><span class=n>substr</span><span class=p>(</span><span class=n>pos</span><span class=p>,</span> <span class=n>s</span><span class=p>.</span><span class=n>length</span><span class=p>()</span> <span class=o>-</span> <span class=n>pos</span> <span class=o>-</span> <span class=mi>1</span><span class=p>);</span> <span class=c1>//分离出代表虚部的字符串
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>c</span><span class=p>.</span><span class=n>imag</span> <span class=o>=</span> <span class=n>atof</span><span class=p>(</span><span class=n>sReal</span><span class=p>.</span><span class=n>c_str</span><span class=p>());</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>is</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kt>int</span> <span class=nf>main</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>myComplex</span> <span class=n>c</span><span class=p>,</span> <span class=n>c1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>n</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;请输入两个复数([-]a±bi)和一个整数, 以空格分隔&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>cin</span> <span class=o>&gt;&gt;</span> <span class=n>c</span> <span class=o>&gt;&gt;</span> <span class=n>c1</span> <span class=o>&gt;&gt;</span> <span class=n>n</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>c1</span> <span class=o>&lt;&lt;</span> <span class=p>(</span><span class=n>c</span> <span class=o>&lt;&lt;</span> <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;,&#34;</span><span class=p>)</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;,&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>n</span><span class=p>;</span> <span class=c1>//注意调用形式
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li></ul></li></ul><h2 id=第四节-重载强制类型转换运算符-重要>第四节 重载强制类型转换运算符 (重要)<a hidden class=anchor aria-hidden=true href=#第四节-重载强制类型转换运算符-重要>#</a></h2><ul><li><p>类的名字本身也是运算符, 强制类型转换运算符</p><ul><li><p>是<strong>单目运算符</strong>, 也可以重载, 但<strong>只能重载为成员函数</strong>, 不能重载为全局函数</p></li><li><p><code>类型名 对象</code> 重载后等价于 <code>对象.operator 类型名()</code></p></li><li><p>重载强制类型转换运算符 <code>double</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl>  <span class=cp>#include</span> <span class=cpf>&lt;iostream&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>  <span class=cp>#include</span> <span class=cpf>&lt;cstdlib&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>  <span class=cp>#include</span> <span class=cpf>&lt;string&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>  <span class=k>using</span> <span class=k>namespace</span> <span class=n>std</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>class</span> <span class=nc>myComplex</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>private</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=kt>double</span> <span class=n>real</span><span class=p>,</span> <span class=n>imag</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=n>myComplex</span><span class=p>(</span><span class=kt>double</span> <span class=n>r</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span> <span class=kt>double</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>)</span> <span class=o>:</span> <span class=n>real</span><span class=p>(</span><span class=n>r</span><span class=p>),</span> <span class=n>imag</span><span class=p>(</span><span class=n>i</span><span class=p>){};</span> <span class=c1>//成员函数
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>operator</span> <span class=nf>double</span><span class=p>()</span>                                           <span class=c1>//重载强制类型转换运算符 double
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>return</span> <span class=n>real</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kt>int</span> <span class=nf>main</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>myComplex</span> <span class=n>c</span><span class=p>(</span><span class=mf>1.2</span><span class=p>,</span> <span class=o>-</span><span class=mf>3.4</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=p>(</span><span class=kt>double</span><span class=p>)</span><span class=n>c</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span> <span class=c1>// c.operator double() 输出1.2
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kt>double</span> <span class=n>n</span> <span class=o>=</span> <span class=mi>12</span> <span class=o>+</span> <span class=n>c</span><span class=p>;</span> <span class=c1>//等价于 double n=12+c.operator double()
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>n</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li></ul></li></ul><h2 id=第五节-重载自增自减运算符>第五节 重载自增、自减运算符<a hidden class=anchor aria-hidden=true href=#第五节-重载自增自减运算符>#</a></h2><ul><li><p>有前置 后置之分</p><ul><li>允许写一个增加无用int 类型形参的版本, 处理前置时调用参数个数正常的重载函数</li><li>处理后置 表达式时, 调用多出一个参数的重载函数</li><li>前置 <code>++，--</code> 优先级高于赋值，后置自增自减运算优先级低于赋值</li></ul></li><li><p>自增作为成员函数 自减作为友元</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl>  <span class=cp>#include</span> <span class=cpf>&lt;iostream&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>  <span class=k>using</span> <span class=k>namespace</span> <span class=n>std</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>class</span> <span class=nc>Demo</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>private</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>n</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=n>Demo</span><span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>)</span> <span class=o>:</span> <span class=n>n</span><span class=p>(</span><span class=n>i</span><span class=p>)</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl>    <span class=n>Demo</span> <span class=o>&amp;</span><span class=k>operator</span><span class=o>++</span><span class=p>();</span>   <span class=c1>//用于前置
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>Demo</span> <span class=k>operator</span><span class=o>++</span><span class=p>(</span><span class=kt>int</span><span class=p>);</span> <span class=c1>//用于后置
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>operator</span> <span class=nf>int</span><span class=p>()</span> <span class=p>{</span> <span class=k>return</span> <span class=n>n</span><span class=p>;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>friend</span> <span class=n>Demo</span> <span class=o>&amp;</span><span class=k>operator</span><span class=o>--</span><span class=p>(</span><span class=n>Demo</span> <span class=o>&amp;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=k>friend</span> <span class=n>Demo</span> <span class=k>operator</span><span class=o>--</span><span class=p>(</span><span class=n>Demo</span> <span class=o>&amp;</span><span class=p>,</span> <span class=kt>int</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span>
</span></span><span class=line><span class=cl>  <span class=n>Demo</span> <span class=o>&amp;</span><span class=n>Demo</span><span class=o>::</span><span class=k>operator</span><span class=o>++</span><span class=p>()</span> <span class=c1>//前置++
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>n</span><span class=o>++</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=o>*</span><span class=k>this</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=n>Demo</span> <span class=n>Demo</span><span class=o>::</span><span class=k>operator</span><span class=o>++</span><span class=p>(</span><span class=kt>int</span> <span class=n>k</span><span class=p>)</span> <span class=c1>//后置++
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>Demo</span> <span class=nf>tmp</span><span class=p>(</span><span class=o>*</span><span class=k>this</span><span class=p>);</span> <span class=c1>//记录修改前的对象
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>n</span><span class=o>++</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>tmp</span><span class=p>;</span> <span class=c1>//返回修改前对象
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=n>Demo</span> <span class=o>&amp;</span><span class=k>operator</span><span class=o>--</span><span class=p>(</span><span class=n>Demo</span> <span class=o>&amp;</span><span class=n>d</span><span class=p>)</span> <span class=c1>//前置--
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>d</span><span class=p>.</span><span class=n>n</span><span class=o>--</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>d</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=n>Demo</span> <span class=k>operator</span><span class=o>--</span><span class=p>(</span><span class=n>Demo</span> <span class=o>&amp;</span><span class=n>d</span><span class=p>,</span> <span class=kt>int</span><span class=p>)</span> <span class=c1>//后置--
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>Demo</span> <span class=nf>tmp</span><span class=p>(</span><span class=n>d</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>d</span><span class=p>.</span><span class=n>n</span><span class=o>--</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>tmp</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=kt>int</span> <span class=nf>main</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>Demo</span> <span class=n>d</span><span class=p>(</span><span class=mi>10</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=p>(</span><span class=n>d</span><span class=o>++</span><span class=p>)</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;,&#34;</span><span class=p>;</span> <span class=c1>// d.operator++(0)
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>d</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;,&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=p>(</span><span class=o>++</span><span class=n>d</span><span class=p>)</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;,&#34;</span><span class=p>;</span> <span class=c1>// d.operator++()
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>d</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;,&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=p>(</span><span class=n>d</span><span class=o>--</span><span class=p>)</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;,&#34;</span><span class=p>;</span> <span class=c1>// d.operator--(d,0)
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>d</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;,&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=p>(</span><span class=o>--</span><span class=n>d</span><span class=p>)</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;,&#34;</span><span class=p>;</span> <span class=c1>// d.operator--(d)
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>d</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;,&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>都作为成员函数</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl>  <span class=cp>#include</span> <span class=cpf>&lt;iostream&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>  <span class=k>using</span> <span class=k>namespace</span> <span class=n>std</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>class</span> <span class=nc>Demo</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>private</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>n</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=n>Demo</span><span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>)</span> <span class=o>:</span> <span class=n>n</span><span class=p>(</span><span class=n>i</span><span class=p>)</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl>    <span class=n>Demo</span> <span class=o>&amp;</span><span class=k>operator</span><span class=o>++</span><span class=p>();</span>   <span class=c1>//用于前置
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>Demo</span> <span class=k>operator</span><span class=o>++</span><span class=p>(</span><span class=kt>int</span><span class=p>);</span> <span class=c1>//用于后置
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>operator</span> <span class=nf>int</span><span class=p>()</span> <span class=p>{</span> <span class=k>return</span> <span class=n>n</span><span class=p>;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=n>Demo</span> <span class=o>&amp;</span><span class=k>operator</span><span class=o>--</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=n>Demo</span> <span class=k>operator</span><span class=o>--</span><span class=p>(</span><span class=kt>int</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span>
</span></span><span class=line><span class=cl>  <span class=n>Demo</span> <span class=o>&amp;</span><span class=n>Demo</span><span class=o>::</span><span class=k>operator</span><span class=o>++</span><span class=p>()</span> <span class=c1>//前置++
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>n</span><span class=o>++</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=o>*</span><span class=k>this</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=n>Demo</span> <span class=n>Demo</span><span class=o>::</span><span class=k>operator</span><span class=o>++</span><span class=p>(</span><span class=kt>int</span> <span class=n>k</span><span class=p>)</span> <span class=c1>//后置++
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>Demo</span> <span class=nf>tmp</span><span class=p>(</span><span class=o>*</span><span class=k>this</span><span class=p>);</span> <span class=c1>//记录修改前的对象
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>n</span><span class=o>++</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>tmp</span><span class=p>;</span> <span class=c1>//返回修改前对象
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=n>Demo</span> <span class=o>&amp;</span><span class=n>Demo</span><span class=o>::</span><span class=k>operator</span><span class=o>--</span><span class=p>()</span> <span class=c1>//前置--
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>n</span><span class=o>--</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=o>*</span><span class=k>this</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=n>Demo</span> <span class=n>Demo</span><span class=o>::</span><span class=k>operator</span><span class=o>--</span><span class=p>(</span><span class=kt>int</span> <span class=n>k</span><span class=p>)</span> <span class=c1>//后置--
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>Demo</span> <span class=nf>tmp</span><span class=p>(</span><span class=o>*</span><span class=k>this</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>n</span><span class=o>--</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>tmp</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=kt>int</span> <span class=nf>main</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>Demo</span> <span class=n>d</span><span class=p>(</span><span class=mi>10</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=p>(</span><span class=n>d</span><span class=o>++</span><span class=p>)</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;,&#34;</span><span class=p>;</span> <span class=c1>// d.operator++(0)
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>d</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;,&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=p>(</span><span class=o>++</span><span class=n>d</span><span class=p>)</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;,&#34;</span><span class=p>;</span> <span class=c1>// d.operator++()
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>d</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;,&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=p>(</span><span class=n>d</span><span class=o>--</span><span class=p>)</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;,&#34;</span><span class=p>;</span> <span class=c1>// d.operator--(d,0)
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>d</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;,&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=p>(</span><span class=o>--</span><span class=n>d</span><span class=p>)</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;,&#34;</span><span class=p>;</span> <span class=c1>// d.operator--(d)
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>d</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;,&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li></ul><h1 id=第五章-类的继承与派生>第五章 类的继承与派生<a hidden class=anchor aria-hidden=true href=#第五章-类的继承与派生>#</a></h1><ul><li>类的继承与派生</li><li>继承关系中友元和静态成员变量的派生特点</li><li>单重继承与多重继承，派生层次</li><li>权限控制符，基类和派生类之间的访问形式</li><li>派生类的构造函数和析构函数</li><li>类之间的关系</li><li>类与派生类指针</li></ul><h2 id=第一节-类的继承与类的派生>第一节 类的继承与类的派生<a hidden class=anchor aria-hidden=true href=#第一节-类的继承与类的派生>#</a></h2><ol><li><p>继承的概念</p><ul><li><p>通过已有的类建立新类的过程, 叫做派生;</p><ul><li>原来的类叫基类, 也叫父类或一般类;</li><li>新类称为派生类/ 子类/ 特殊类</li></ul></li><li><p><strong>除构造函数和析构函数外</strong>, 基类所有成员派生为子类成员</p><ul><li>子类中可以增加/修改成员和权限</li></ul></li><li><p>覆盖</p><ul><li>派生类成员覆盖基类同名成员, 也称为重定义/ 重写/ 同名隐藏</li></ul></li></ul></li><li><p>派生类的定义与大小</p><ul><li><p>格式</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl>  <span class=k>class</span> <span class=err>派生类名:继承方式说明符 基类名</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>  	<span class=err>类名</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>继承方式说明符指明基类成员在派生类中的访问属性, 一般用 <code>public</code></li></ul></li><li><p>派生类的大小</p><ul><li>派生类大小 = 基类成员变量大小 + 派生类对象自身成员变量大小</li><li>对象的大小只与普通成员变量有关</li><li>字节补齐原则<ul><li><code>char</code> 变量占 1字节, 补齐为 4 字节</li><li>空类的大小是1</li><li>32位系统 指针 4 字节, 64 位系统指针 8 字节</li></ul></li></ul></li></ul></li><li><p>继承关系的特殊性</p><ul><li><p>基类的 友元类/友元函数, 派生类不继承 友元类/友元函数</p></li><li><p>基类/成员是 某类的友元函数, 派生类继承友元关系</p></li><li><p>如果基类中的成员是静态的，派生类中也是静态的，静态属性可继承(5-4)</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl>  <span class=cp>#include</span> <span class=cpf>&lt;iostream&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>  <span class=k>using</span> <span class=k>namespace</span> <span class=n>std</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>class</span> <span class=nc>Base</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>private</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=kt>float</span> <span class=n>x</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=k>static</span> <span class=kt>int</span> <span class=n>staV</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>Base</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=n>staV</span><span class=o>++</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span>
</span></span><span class=line><span class=cl>  <span class=kt>int</span> <span class=n>Base</span><span class=o>::</span><span class=n>staV</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>class</span> <span class=nc>Derived</span> <span class=o>:</span> <span class=k>public</span> <span class=n>Base</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>private</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=kt>float</span> <span class=n>y</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=n>Derived</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=n>staV</span><span class=o>++</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span>
</span></span><span class=line><span class=cl>  <span class=kt>int</span> <span class=nf>main</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>Base</span> <span class=n>a</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>a</span><span class=p>.</span><span class=n>staV</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>Derived</span> <span class=n>d</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>d</span><span class=p>.</span><span class=n>staV</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li></ul></li><li><p>有继承关系的类之间的访问</p><ul><li><p>如果派生类声明了与基类成员函数同名函数, 即使参数表不同, 继承的同名函数会被隐藏</p><ul><li>访问被隐藏的成员, 使用基类名和作用域分辨符来限定</li></ul></li><li><p>访问基类和派生类成员的方式(5-5)</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl>  <span class=cp>#include</span> <span class=cpf>&lt;iostream&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>  <span class=k>using</span> <span class=k>namespace</span> <span class=n>std</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>class</span> <span class=nc>CB</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>a</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>CB</span><span class=p>(</span><span class=kt>int</span> <span class=n>x</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=n>a</span> <span class=o>=</span> <span class=n>x</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=kt>void</span> <span class=nf>showa</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;Class Cb--a=&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>a</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span>
</span></span><span class=line><span class=cl>  <span class=k>class</span> <span class=nc>CD</span> <span class=o>:</span> <span class=k>public</span> <span class=n>CB</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>a</span><span class=p>;</span>                   <span class=c1>//与基类同名
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>CD</span><span class=p>(</span><span class=kt>int</span> <span class=n>x</span><span class=p>,</span> <span class=kt>int</span> <span class=n>y</span><span class=p>)</span> <span class=o>:</span> <span class=n>CB</span><span class=p>(</span><span class=n>x</span><span class=p>)</span> <span class=c1>//x 初始化基类的成员变量a
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=n>a</span> <span class=o>=</span> <span class=n>y</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=kt>void</span> <span class=nf>showa</span><span class=p>()</span> <span class=c1>//基类同名函数
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;Class CD--a&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>a</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=kt>void</span> <span class=nf>print2a</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;a=&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>a</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>         <span class=c1>//访问派生类a
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;CB::a=&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>CB</span><span class=o>::</span><span class=n>a</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span> <span class=c1>//访问基类a
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span>
</span></span><span class=line><span class=cl>  <span class=kt>int</span> <span class=nf>main</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>CB</span> <span class=n>CBobj</span><span class=p>(</span><span class=mi>12</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>CBobj</span><span class=p>.</span><span class=n>showa</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=n>CD</span> <span class=n>CDobj</span><span class=p>(</span><span class=mi>48</span><span class=p>,</span> <span class=mi>999</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>CDobj</span><span class=p>.</span><span class=n>showa</span><span class=p>();</span>     <span class=c1>//访问派生类的showa()
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>CDobj</span><span class=p>.</span><span class=n>CB</span><span class=o>::</span><span class=n>showa</span><span class=p>();</span> <span class=c1>//访问基类的showa()
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;CDobj.a&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>CDobj</span><span class=p>.</span><span class=n>a</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;CDobj.CB::a=&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>CDobj</span><span class=p>.</span><span class=n>CB</span><span class=o>::</span><span class=n>a</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>类之间的访问示例(5-6)</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>  1
</span><span class=lnt>  2
</span><span class=lnt>  3
</span><span class=lnt>  4
</span><span class=lnt>  5
</span><span class=lnt>  6
</span><span class=lnt>  7
</span><span class=lnt>  8
</span><span class=lnt>  9
</span><span class=lnt> 10
</span><span class=lnt> 11
</span><span class=lnt> 12
</span><span class=lnt> 13
</span><span class=lnt> 14
</span><span class=lnt> 15
</span><span class=lnt> 16
</span><span class=lnt> 17
</span><span class=lnt> 18
</span><span class=lnt> 19
</span><span class=lnt> 20
</span><span class=lnt> 21
</span><span class=lnt> 22
</span><span class=lnt> 23
</span><span class=lnt> 24
</span><span class=lnt> 25
</span><span class=lnt> 26
</span><span class=lnt> 27
</span><span class=lnt> 28
</span><span class=lnt> 29
</span><span class=lnt> 30
</span><span class=lnt> 31
</span><span class=lnt> 32
</span><span class=lnt> 33
</span><span class=lnt> 34
</span><span class=lnt> 35
</span><span class=lnt> 36
</span><span class=lnt> 37
</span><span class=lnt> 38
</span><span class=lnt> 39
</span><span class=lnt> 40
</span><span class=lnt> 41
</span><span class=lnt> 42
</span><span class=lnt> 43
</span><span class=lnt> 44
</span><span class=lnt> 45
</span><span class=lnt> 46
</span><span class=lnt> 47
</span><span class=lnt> 48
</span><span class=lnt> 49
</span><span class=lnt> 50
</span><span class=lnt> 51
</span><span class=lnt> 52
</span><span class=lnt> 53
</span><span class=lnt> 54
</span><span class=lnt> 55
</span><span class=lnt> 56
</span><span class=lnt> 57
</span><span class=lnt> 58
</span><span class=lnt> 59
</span><span class=lnt> 60
</span><span class=lnt> 61
</span><span class=lnt> 62
</span><span class=lnt> 63
</span><span class=lnt> 64
</span><span class=lnt> 65
</span><span class=lnt> 66
</span><span class=lnt> 67
</span><span class=lnt> 68
</span><span class=lnt> 69
</span><span class=lnt> 70
</span><span class=lnt> 71
</span><span class=lnt> 72
</span><span class=lnt> 73
</span><span class=lnt> 74
</span><span class=lnt> 75
</span><span class=lnt> 76
</span><span class=lnt> 77
</span><span class=lnt> 78
</span><span class=lnt> 79
</span><span class=lnt> 80
</span><span class=lnt> 81
</span><span class=lnt> 82
</span><span class=lnt> 83
</span><span class=lnt> 84
</span><span class=lnt> 85
</span><span class=lnt> 86
</span><span class=lnt> 87
</span><span class=lnt> 88
</span><span class=lnt> 89
</span><span class=lnt> 90
</span><span class=lnt> 91
</span><span class=lnt> 92
</span><span class=lnt> 93
</span><span class=lnt> 94
</span><span class=lnt> 95
</span><span class=lnt> 96
</span><span class=lnt> 97
</span><span class=lnt> 98
</span><span class=lnt> 99
</span><span class=lnt>100
</span><span class=lnt>101
</span><span class=lnt>102
</span><span class=lnt>103
</span><span class=lnt>104
</span><span class=lnt>105
</span><span class=lnt>106
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl>  <span class=cp>#include</span> <span class=cpf>&lt;iostream&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>  <span class=cp>#include</span> <span class=cpf>&lt;string&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>  <span class=k>using</span> <span class=k>namespace</span> <span class=n>std</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>class</span> <span class=nc>CStudent</span> <span class=c1>//基类
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>private</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=n>string</span> <span class=n>name</span><span class=p>;</span> <span class=c1>//姓名
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>string</span> <span class=n>id</span><span class=p>;</span>   <span class=c1>//学号
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kt>char</span> <span class=n>gender</span><span class=p>;</span> <span class=c1>//性别,&#39;F&#39;代表女生, &#39;M&#39;代表男生
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=kt>int</span> <span class=n>age</span><span class=p>;</span>     <span class=c1>//年龄
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=kt>void</span> <span class=n>PrintInfo</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=kt>void</span> <span class=nf>SetInfo</span><span class=p>(</span><span class=k>const</span> <span class=n>string</span> <span class=o>&amp;</span><span class=p>,</span> <span class=k>const</span> <span class=n>string</span> <span class=o>&amp;</span><span class=p>,</span> <span class=kt>int</span><span class=p>,</span> <span class=kt>char</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=kt>void</span> <span class=nf>SetName</span><span class=p>(</span><span class=n>string</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>string</span> <span class=nf>GetName</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=kt>void</span> <span class=nf>SetId</span><span class=p>(</span><span class=n>string</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>string</span> <span class=nf>GetId</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span>
</span></span><span class=line><span class=cl>  <span class=kt>void</span> <span class=n>CStudent</span><span class=o>::</span><span class=n>PrintInfo</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;姓名:</span><span class=se>\t</span><span class=s>&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>name</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;学号:</span><span class=se>\t</span><span class=s>&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>id</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;年龄:</span><span class=se>\t</span><span class=s>&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>age</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;性别:</span><span class=se>\t</span><span class=s>&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>gender</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=kt>void</span> <span class=n>CStudent</span><span class=o>::</span><span class=n>SetInfo</span><span class=p>(</span><span class=k>const</span> <span class=n>string</span> <span class=o>&amp;</span><span class=n>name_</span><span class=p>,</span> <span class=k>const</span> <span class=n>string</span> <span class=o>&amp;</span><span class=n>id_</span><span class=p>,</span> <span class=kt>int</span> <span class=n>age_</span><span class=p>,</span> <span class=kt>char</span> <span class=n>gender_</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>name</span> <span class=o>=</span> <span class=n>name_</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>id</span> <span class=o>=</span> <span class=n>id_</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>age</span> <span class=o>=</span> <span class=n>age_</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>gender</span> <span class=o>=</span> <span class=n>gender_</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=kt>void</span> <span class=n>CStudent</span><span class=o>::</span><span class=n>SetName</span><span class=p>(</span><span class=n>string</span> <span class=n>name</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=o>-&gt;</span><span class=n>name</span> <span class=o>=</span> <span class=n>name</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=n>string</span> <span class=n>CStudent</span><span class=o>::</span><span class=n>GetName</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>name</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=kt>void</span> <span class=n>CStudent</span><span class=o>::</span><span class=n>SetId</span><span class=p>(</span><span class=n>string</span> <span class=n>id</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>this</span><span class=o>-&gt;</span><span class=n>id</span> <span class=o>=</span> <span class=n>id</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=n>string</span> <span class=n>CStudent</span><span class=o>::</span><span class=n>GetId</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>id</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>class</span> <span class=nc>CUndergraduateStudent</span> <span class=o>:</span> <span class=k>public</span> <span class=n>CStudent</span> <span class=c1>//本科生类, 继承于类 CStudent
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>private</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=n>string</span> <span class=n>department</span><span class=p>;</span> <span class=c1>//学生所属的系名
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>  <span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=kt>void</span> <span class=n>PrintInfo</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=kt>void</span> <span class=nf>SetInfo</span><span class=p>(</span><span class=k>const</span> <span class=n>string</span> <span class=o>&amp;</span><span class=p>,</span> <span class=k>const</span> <span class=n>string</span> <span class=o>&amp;</span><span class=p>,</span> <span class=kt>int</span><span class=p>,</span> <span class=kt>char</span><span class=p>,</span> <span class=k>const</span> <span class=n>string</span> <span class=o>&amp;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span>
</span></span><span class=line><span class=cl>  <span class=kt>void</span> <span class=n>CUndergraduateStudent</span><span class=o>::</span><span class=n>PrintInfo</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>CStudent</span><span class=o>::</span><span class=n>PrintInfo</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;院系:</span><span class=se>\t</span><span class=s>&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>department</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span>
</span></span><span class=line><span class=cl>         <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=kt>void</span> <span class=n>CUndergraduateStudent</span><span class=o>::</span><span class=n>SetInfo</span><span class=p>(</span><span class=k>const</span> <span class=n>string</span> <span class=o>&amp;</span><span class=n>name_</span><span class=p>,</span> <span class=k>const</span> <span class=n>string</span> <span class=o>&amp;</span><span class=n>id_</span><span class=p>,</span> <span class=kt>int</span> <span class=n>age_</span><span class=p>,</span> <span class=kt>char</span> <span class=n>gender_</span><span class=p>,</span> <span class=k>const</span> <span class=n>string</span> <span class=o>&amp;</span><span class=n>department_</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>CStudent</span><span class=o>::</span><span class=n>SetInfo</span><span class=p>(</span><span class=n>name_</span><span class=p>,</span> <span class=n>id_</span><span class=p>,</span> <span class=n>age_</span><span class=p>,</span> <span class=n>gender_</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>department</span> <span class=o>=</span> <span class=n>department_</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>class</span> <span class=nc>CGraduatedStudent</span> <span class=o>:</span> <span class=k>public</span> <span class=n>CStudent</span> <span class=c1>//研究生类
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>private</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=n>string</span> <span class=n>department</span><span class=p>;</span> <span class=c1>//学生所属的系名
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>string</span> <span class=n>advisor</span><span class=p>;</span>    <span class=c1>//导师
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=kt>void</span> <span class=n>PrintInfo</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=kt>void</span> <span class=nf>SetInfo</span><span class=p>(</span><span class=k>const</span> <span class=n>string</span> <span class=o>&amp;</span><span class=n>name_</span><span class=p>,</span> <span class=k>const</span> <span class=n>string</span> <span class=o>&amp;</span><span class=n>id_</span><span class=p>,</span> <span class=kt>int</span> <span class=n>age_</span><span class=p>,</span> <span class=kt>char</span> <span class=n>gender_</span><span class=p>,</span> <span class=k>const</span> <span class=n>string</span> <span class=o>&amp;</span><span class=n>department_</span><span class=p>,</span> <span class=k>const</span> <span class=n>string</span> <span class=o>&amp;</span><span class=n>advisor_</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span>
</span></span><span class=line><span class=cl>  <span class=kt>void</span> <span class=n>CGraduatedStudent</span><span class=o>::</span><span class=n>PrintInfo</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>CStudent</span><span class=o>::</span><span class=n>PrintInfo</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;院系:</span><span class=se>\t</span><span class=s>&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>department</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;导师:</span><span class=se>\t</span><span class=s>&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>advisor</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=kt>void</span> <span class=n>CGraduatedStudent</span><span class=o>::</span><span class=n>SetInfo</span><span class=p>(</span><span class=k>const</span> <span class=n>string</span> <span class=o>&amp;</span><span class=n>name_</span><span class=p>,</span> <span class=k>const</span> <span class=n>string</span> <span class=o>&amp;</span><span class=n>id_</span><span class=p>,</span> <span class=kt>int</span> <span class=n>age_</span><span class=p>,</span> <span class=kt>char</span> <span class=n>gender_</span><span class=p>,</span> <span class=k>const</span> <span class=n>string</span> <span class=o>&amp;</span><span class=n>department_</span><span class=p>,</span> <span class=k>const</span> <span class=n>string</span> <span class=o>&amp;</span><span class=n>advisor_</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>CStudent</span><span class=o>::</span><span class=n>SetInfo</span><span class=p>(</span><span class=n>name_</span><span class=p>,</span> <span class=n>id_</span><span class=p>,</span> <span class=n>age_</span><span class=p>,</span> <span class=n>gender_</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>department</span> <span class=o>=</span> <span class=n>department_</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>advisor</span> <span class=o>=</span> <span class=n>advisor_</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=kt>int</span> <span class=nf>main</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>CStudent</span> <span class=n>s1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>CUndergraduateStudent</span> <span class=n>s2</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>CGraduatedStudent</span> <span class=n>s3</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>s2</span><span class=p>.</span><span class=n>SetInfo</span><span class=p>(</span><span class=s>&#34;张三&#34;</span><span class=p>,</span> <span class=s>&#34;2020-6-2-4&#34;</span><span class=p>,</span> <span class=mi>19</span><span class=p>,</span> <span class=sc>&#39;M&#39;</span><span class=p>,</span> <span class=s>&#34;数学系&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>s3</span><span class=p>.</span><span class=n>SetInfo</span><span class=p>(</span><span class=s>&#34;李四&#34;</span><span class=p>,</span> <span class=s>&#34;M2021-12&#34;</span><span class=p>,</span> <span class=mi>19</span><span class=p>,</span> <span class=sc>&#39;F&#39;</span><span class=p>,</span> <span class=s>&#34;计算机系&#34;</span><span class=p>,</span> <span class=s>&#34;罗教授&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>s2</span><span class=p>.</span><span class=n>PrintInfo</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=n>s3</span><span class=p>.</span><span class=n>PrintInfo</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>s2</span><span class=p>.</span><span class=n>GetName</span><span class=p>()</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>s2</span><span class=p>.</span><span class=n>SetName</span><span class=p>(</span><span class=s>&#34;王五&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>s2</span><span class=p>.</span><span class=n>PrintInfo</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>s2</span><span class=p>.</span><span class=n>GetName</span><span class=p>()</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;,&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>s2</span><span class=p>.</span><span class=n>GetId</span><span class=p>()</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>类之间的访问(5-7)</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span><span class=lnt>59
</span><span class=lnt>60
</span><span class=lnt>61
</span><span class=lnt>62
</span><span class=lnt>63
</span><span class=lnt>64
</span><span class=lnt>65
</span><span class=lnt>66
</span><span class=lnt>67
</span><span class=lnt>68
</span><span class=lnt>69
</span><span class=lnt>70
</span><span class=lnt>71
</span><span class=lnt>72
</span><span class=lnt>73
</span><span class=lnt>74
</span><span class=lnt>75
</span><span class=lnt>76
</span><span class=lnt>77
</span><span class=lnt>78
</span><span class=lnt>79
</span><span class=lnt>80
</span><span class=lnt>81
</span><span class=lnt>82
</span><span class=lnt>83
</span><span class=lnt>84
</span><span class=lnt>85
</span><span class=lnt>86
</span><span class=lnt>87
</span><span class=lnt>88
</span><span class=lnt>89
</span><span class=lnt>90
</span><span class=lnt>91
</span><span class=lnt>92
</span><span class=lnt>93
</span><span class=lnt>94
</span><span class=lnt>95
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl>  <span class=cp>#include</span> <span class=cpf>&lt;iostream&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>  <span class=cp>#include</span> <span class=cpf>&lt;string&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>  <span class=k>using</span> <span class=k>namespace</span> <span class=n>std</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>class</span> <span class=nc>employee</span> <span class=c1>//基类
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kt>short</span> <span class=n>age</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kt>float</span> <span class=n>salary</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>protected</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=n>string</span> <span class=n>name</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=n>employee</span><span class=p>(</span><span class=kt>short</span> <span class=n>ag</span><span class=p>,</span> <span class=kt>float</span> <span class=n>sa</span><span class=p>,</span> <span class=n>string</span> <span class=n>na</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=n>age</span> <span class=o>=</span> <span class=n>ag</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=n>salary</span> <span class=o>=</span> <span class=n>sa</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=n>name</span> <span class=o>=</span> <span class=n>na</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>};</span>
</span></span><span class=line><span class=cl>    <span class=kt>void</span> <span class=nf>print</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;</span><span class=se>\n</span><span class=s>&#34;</span>
</span></span><span class=line><span class=cl>           <span class=o>&lt;&lt;</span> <span class=n>name</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;:</span><span class=se>\t</span><span class=s>&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>age</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;:</span><span class=se>\t</span><span class=s>&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>salary</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>};</span>
</span></span><span class=line><span class=cl>    <span class=o>~</span><span class=n>employee</span><span class=p>()</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span>
</span></span><span class=line><span class=cl>  <span class=k>class</span> <span class=nc>manager</span> <span class=o>:</span> <span class=k>public</span> <span class=n>employee</span> <span class=c1>//派生类
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>level</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=n>manager</span><span class=p>(</span><span class=kt>short</span> <span class=n>ag</span><span class=p>,</span> <span class=kt>float</span> <span class=n>sa</span><span class=p>,</span> <span class=n>string</span> <span class=n>na</span><span class=p>,</span> <span class=kt>int</span> <span class=n>lev</span><span class=p>)</span> <span class=o>:</span> <span class=n>employee</span><span class=p>(</span><span class=n>ag</span><span class=p>,</span> <span class=n>sa</span><span class=p>,</span> <span class=n>na</span><span class=p>)</span> <span class=c1>//初始化基类
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=n>level</span> <span class=o>=</span> <span class=n>lev</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=kt>void</span> <span class=nf>print</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=n>employee</span><span class=o>::</span><span class=n>print</span><span class=p>();</span>
</span></span><span class=line><span class=cl>      <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;</span><span class=se>\t</span><span class=s>level:&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>level</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span>
</span></span><span class=line><span class=cl>  <span class=k>class</span> <span class=nc>engineer</span> <span class=o>:</span> <span class=k>public</span> <span class=n>employee</span> <span class=c1>//
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kt>char</span> <span class=n>speciality</span><span class=p>,</span> <span class=n>adegree</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=n>engineer</span><span class=p>(</span><span class=kt>short</span> <span class=n>ag</span><span class=p>,</span> <span class=kt>float</span> <span class=n>sa</span><span class=p>,</span> <span class=n>string</span> <span class=n>na</span><span class=p>,</span> <span class=kt>char</span> <span class=n>spe</span><span class=p>,</span> <span class=kt>char</span> <span class=n>ade</span><span class=p>)</span> <span class=o>:</span> <span class=n>employee</span><span class=p>(</span><span class=n>ag</span><span class=p>,</span> <span class=n>sa</span><span class=p>,</span> <span class=n>na</span><span class=p>)</span> <span class=c1>//初始化基类
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=n>speciality</span> <span class=o>=</span> <span class=n>spe</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=n>adegree</span> <span class=o>=</span> <span class=n>ade</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=kt>void</span> <span class=nf>print</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=n>employee</span><span class=o>::</span><span class=n>print</span><span class=p>();</span>
</span></span><span class=line><span class=cl>      <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;</span><span class=se>\t</span><span class=s>speciality:&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>speciality</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;</span><span class=se>\t</span><span class=s>adegree:&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>adegree</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span>
</span></span><span class=line><span class=cl>  <span class=k>enum</span> <span class=nc>ptitle</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>PS</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>GM</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>VPS</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=n>VGM</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span>
</span></span><span class=line><span class=cl>  <span class=k>class</span> <span class=nc>director</span> <span class=o>:</span> <span class=k>public</span> <span class=n>manager</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>ptitle</span> <span class=n>post</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=n>director</span><span class=p>(</span><span class=kt>short</span> <span class=n>ag</span><span class=p>,</span> <span class=kt>float</span> <span class=n>sa</span><span class=p>,</span> <span class=n>string</span> <span class=n>na</span><span class=p>,</span> <span class=kt>int</span> <span class=n>le</span><span class=p>,</span> <span class=n>ptitle</span> <span class=n>po</span><span class=p>)</span> <span class=o>:</span> <span class=n>manager</span><span class=p>(</span><span class=n>ag</span><span class=p>,</span> <span class=n>sa</span><span class=p>,</span> <span class=n>na</span><span class=p>,</span> <span class=n>le</span><span class=p>)</span> <span class=c1>//初始化基类
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=n>post</span> <span class=o>=</span> <span class=n>po</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=kt>void</span> <span class=nf>print</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=n>manager</span><span class=o>::</span><span class=n>print</span><span class=p>();</span>
</span></span><span class=line><span class=cl>      <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;</span><span class=se>\t</span><span class=s>post:&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>post</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span>
</span></span><span class=line><span class=cl>  <span class=kt>int</span> <span class=nf>main</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>employee</span> <span class=n>emp1</span><span class=p>(</span><span class=mi>23</span><span class=p>,</span> <span class=mf>610.5</span><span class=p>,</span> <span class=s>&#34;wang&#34;</span><span class=p>),</span> <span class=n>emp2</span><span class=p>(</span><span class=mi>27</span><span class=p>,</span> <span class=mf>824.75</span><span class=p>,</span> <span class=s>&#34;li&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>manager</span> <span class=n>man1</span><span class=p>(</span><span class=mi>32</span><span class=p>,</span> <span class=mf>812.45</span><span class=p>,</span> <span class=s>&#34;zhang&#34;</span><span class=p>,</span> <span class=mi>11</span><span class=p>),</span> <span class=n>man2</span><span class=p>(</span><span class=mi>34</span><span class=p>,</span> <span class=mf>1200.5</span><span class=p>,</span> <span class=s>&#34;chen&#34;</span><span class=p>,</span> <span class=mi>7</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>engineer</span> <span class=n>eng</span><span class=p>(</span><span class=mi>26</span><span class=p>,</span> <span class=mf>1420.10</span><span class=p>,</span> <span class=s>&#34;sun&#34;</span><span class=p>,</span> <span class=sc>&#39;E&#39;</span><span class=p>,</span> <span class=sc>&#39;M&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>director</span> <span class=n>dir</span><span class=p>(</span><span class=mi>38</span><span class=p>,</span> <span class=mf>1800.2</span><span class=p>,</span> <span class=s>&#34;liu&#34;</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=n>VPS</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>emp1</span><span class=p>.</span><span class=n>print</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=n>emp2</span><span class=p>.</span><span class=n>print</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=n>man1</span><span class=p>.</span><span class=n>print</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=n>man2</span><span class=p>.</span><span class=n>employee</span><span class=o>::</span><span class=n>print</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=n>eng</span><span class=p>.</span><span class=n>print</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=n>dir</span><span class=p>.</span><span class=n>print</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li></ul></li><li><p><code>protected</code> 访问范围说明符</p><ul><li>保护成员访问范围比私有成员大, 基类的保护成员可以被派生类成员函数访问</li><li>基类需要隐藏的成员一般设置为保护成员, 方便派生类成员访问</li></ul></li><li><p>多重继承</p><ul><li><p>一个类同时有多个基类</p></li><li><p>格式</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl>  <span class=k>class</span> <span class=err>派生类名:继承方式说明符 基类名1, 继承方式说明符 基类名2, ... ,继承方式说明符 基类名</span><span class=nc>n</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>  	<span class=err>类体</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>派生类继承了所有成员变量和成员函数, 和普通继承一样</li></ul></li><li><p>如果多个基类成员重名</p><ul><li>对派生类而言, 不加类名限定时默认访问的是派生类成员;</li><li>访问基类成员时, 加对应类名限定;</li><li>如果重名成员继承到派生类中, 不加限定访问会产生二义性问题</li></ul></li><li><p>多重继承(5-11)</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span><span class=lnt>59
</span><span class=lnt>60
</span><span class=lnt>61
</span><span class=lnt>62
</span><span class=lnt>63
</span><span class=lnt>64
</span><span class=lnt>65
</span><span class=lnt>66
</span><span class=lnt>67
</span><span class=lnt>68
</span><span class=lnt>69
</span><span class=lnt>70
</span><span class=lnt>71
</span><span class=lnt>72
</span><span class=lnt>73
</span><span class=lnt>74
</span><span class=lnt>75
</span><span class=lnt>76
</span><span class=lnt>77
</span><span class=lnt>78
</span><span class=lnt>79
</span><span class=lnt>80
</span><span class=lnt>81
</span><span class=lnt>82
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl>  <span class=cp>#include</span> <span class=cpf>&lt;iostream&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>  <span class=k>using</span> <span class=k>namespace</span> <span class=n>std</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>class</span> <span class=nc>BaseClass1</span> <span class=c1>//基类
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>v1</span><span class=p>,</span> <span class=n>v2</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>BaseClass1</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=n>BaseClass1</span><span class=p>(</span><span class=kt>int</span><span class=p>,</span> <span class=kt>int</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=o>~</span><span class=n>BaseClass1</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span>
</span></span><span class=line><span class=cl>  <span class=n>BaseClass1</span><span class=o>::</span><span class=n>BaseClass1</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;BaseClass1 No parameter&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=n>BaseClass1</span><span class=o>::</span><span class=n>BaseClass1</span><span class=p>(</span><span class=kt>int</span> <span class=n>m</span><span class=p>,</span> <span class=kt>int</span> <span class=n>n</span><span class=p>)</span> <span class=o>:</span> <span class=n>v1</span><span class=p>(</span><span class=n>m</span><span class=p>),</span> <span class=n>v2</span><span class=p>(</span><span class=n>n</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;BaseClass1 Two parameter&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=n>BaseClass1</span><span class=o>::~</span><span class=n>BaseClass1</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;BaseClass1 Destroy&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>class</span> <span class=nc>BaseClass2</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>v1</span><span class=p>,</span> <span class=n>v4</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>BaseClass2</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=n>BaseClass2</span><span class=p>(</span><span class=kt>int</span><span class=p>,</span> <span class=kt>int</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=o>~</span><span class=n>BaseClass2</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span>
</span></span><span class=line><span class=cl>  <span class=n>BaseClass2</span><span class=o>::</span><span class=n>BaseClass2</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;BaseClass2 No parameter&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=n>BaseClass2</span><span class=o>::</span><span class=n>BaseClass2</span><span class=p>(</span><span class=kt>int</span> <span class=n>m</span><span class=p>,</span> <span class=kt>int</span> <span class=n>n</span><span class=p>)</span> <span class=o>:</span> <span class=n>v1</span><span class=p>(</span><span class=n>m</span><span class=p>),</span> <span class=n>v4</span><span class=p>(</span><span class=n>n</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;BaseClass2 Two parameter&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=n>BaseClass2</span><span class=o>::~</span><span class=n>BaseClass2</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;BaseClass2 Destroy&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>class</span> <span class=nc>DerivedClasss</span> <span class=o>:</span> <span class=k>public</span> <span class=n>BaseClass1</span><span class=p>,</span> <span class=k>public</span> <span class=n>BaseClass2</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>v3</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=n>DerivedClasss</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=n>DerivedClasss</span><span class=p>(</span><span class=kt>int</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>DerivedClasss</span><span class=p>(</span><span class=kt>int</span><span class=p>,</span> <span class=kt>int</span><span class=p>,</span> <span class=kt>int</span><span class=p>,</span> <span class=kt>int</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=o>~</span><span class=n>DerivedClasss</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span>
</span></span><span class=line><span class=cl>  <span class=n>DerivedClasss</span><span class=o>::</span><span class=n>DerivedClasss</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;DerivedClasss No parameter&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=n>DerivedClasss</span><span class=o>::</span><span class=n>DerivedClasss</span><span class=p>(</span><span class=kt>int</span> <span class=n>k</span><span class=p>)</span> <span class=o>:</span> <span class=n>v3</span><span class=p>(</span><span class=n>k</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;DerivedClasss One parameter&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=n>DerivedClasss</span><span class=o>::</span><span class=n>DerivedClasss</span><span class=p>(</span><span class=kt>int</span> <span class=n>m</span><span class=p>,</span> <span class=kt>int</span> <span class=n>n</span><span class=p>,</span> <span class=kt>int</span> <span class=n>k</span><span class=p>,</span> <span class=kt>int</span> <span class=n>t</span><span class=p>)</span> <span class=o>:</span> <span class=n>BaseClass1</span><span class=p>(</span><span class=n>m</span><span class=p>,</span> <span class=n>n</span><span class=p>),</span> <span class=n>BaseClass2</span><span class=p>(</span><span class=n>m</span><span class=p>,</span> <span class=n>t</span><span class=p>),</span> <span class=n>v3</span><span class=p>(</span><span class=n>k</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;DerivedClasss Four parameter&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=n>DerivedClasss</span><span class=o>::~</span><span class=n>DerivedClasss</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;DerivedClasss Destroy&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=kt>int</span> <span class=nf>main</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34; create object with parameter&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>DerivedClasss</span> <span class=n>derivedCla1</span><span class=p>(</span><span class=mi>1000</span><span class=p>,</span> <span class=mi>2000</span><span class=p>,</span> <span class=mi>3000</span><span class=p>,</span> <span class=mi>4000</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;v1=&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>derivedCla1</span><span class=p>.</span><span class=n>BaseClass1</span><span class=o>::</span><span class=n>v1</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;v2=&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>derivedCla1</span><span class=p>.</span><span class=n>v2</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;v1=&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>derivedCla1</span><span class=p>.</span><span class=n>BaseClass2</span><span class=o>::</span><span class=n>v1</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;v4=&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>derivedCla1</span><span class=p>.</span><span class=n>v4</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;v3=&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>derivedCla1</span><span class=p>.</span><span class=n>v3</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li></ul></li></ol><h2 id=第二节-访问控制>第二节 访问控制<a hidden class=anchor aria-hidden=true href=#第二节-访问控制>#</a></h2><ol><li><p>公有控制</p><ul><li><p>基类的公有成员和保护成员的访问属性在派生类中不变, 而基类的私有成员在基类外不可直接访问, 派生类不能访问私有成员</p></li><li><p>公有继承访问控制</p><table><thead><tr><th style=text-align:center>各成员</th><th style=text-align:center>派生类中</th><th style=text-align:center>基类与派生类外</th></tr></thead><tbody><tr><td style=text-align:center>基类的公有成员</td><td style=text-align:center>直接访问</td><td style=text-align:center>直接访问</td></tr><tr><td style=text-align:center>基类的保护成员</td><td style=text-align:center>直接访问</td><td style=text-align:center>调用共有函数访问</td></tr><tr><td style=text-align:center>基类的私有成员</td><td style=text-align:center>调用共有函数访问</td><td style=text-align:center>调用共有函数访问</td></tr><tr><td style=text-align:center>从基类继承的公有成员</td><td style=text-align:center>直接访问</td><td style=text-align:center>直接访问</td></tr><tr><td style=text-align:center>从基类继承的保护成员</td><td style=text-align:center>直接访问</td><td style=text-align:center>调用共有函数访问</td></tr><tr><td style=text-align:center>从基类继承的私有成员</td><td style=text-align:center>调用共有函数访问</td><td style=text-align:center>调用共有函数访问</td></tr><tr><td style=text-align:center>派生类中定义的公有成员</td><td style=text-align:center>直接访问</td><td style=text-align:center>直接访问</td></tr><tr><td style=text-align:center>派生类中定义的保护成员</td><td style=text-align:center>直接访问</td><td style=text-align:center>调用共有函数访问</td></tr><tr><td style=text-align:center>派生类中定义的私有成员</td><td style=text-align:center>直接访问</td><td style=text-align:center>调用共有函数访问</td></tr></tbody></table></li><li><p>方便统一处理, 提高程序效率</p><ul><li>函数的形参为基类的对象/引用/指针时, 实参可以使派生类的对象/指针, 不用为每个类设计单独的模块</li></ul></li></ul></li><li><p>类型兼容规则</p><ul><li><p><strong>任何需要基类对象的地方, 都可以用公有派生类的对象来替代</strong>, 也称为 赋值兼容规则</p><ol><li><strong>派生类的对象可以赋值给基类对象</strong></li><li><strong>派生类对象可以用来初始化基类引用</strong></li><li><strong>派生类对象的地址可以赋值给基类指针</strong>, 即派生类的指针可以赋值给基类的指针</li></ol><p>此规则反过来不成立</p></li><li><p>验证类型兼容规则输出的结果(5-14)</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl>  <span class=cp>#include</span> <span class=cpf>&lt;iostream&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>  <span class=k>using</span> <span class=k>namespace</span> <span class=n>std</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>class</span> <span class=nc>A</span> <span class=c1>//基类
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>an</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=n>A</span><span class=p>()</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl>    <span class=n>A</span><span class=p>(</span><span class=kt>int</span> <span class=n>n</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=n>an</span> <span class=o>=</span> <span class=n>n</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=kt>void</span> <span class=nf>print</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;A 的对象:&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;an:&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>an</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=kt>void</span> <span class=nf>print</span><span class=p>(</span><span class=kt>int</span> <span class=n>k</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;an:&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>an</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span>
</span></span><span class=line><span class=cl>  <span class=k>class</span> <span class=nc>B</span> <span class=o>:</span> <span class=k>public</span> <span class=n>A</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>bn</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=n>B</span><span class=p>(</span><span class=kt>int</span> <span class=n>n</span><span class=p>)</span> <span class=o>:</span> <span class=n>A</span><span class=p>(</span><span class=mi>2</span> <span class=o>*</span> <span class=n>n</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=n>bn</span> <span class=o>=</span> <span class=n>n</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=kt>void</span> <span class=nf>print</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;</span><span class=se>\n</span><span class=s>B 的对象:&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=n>A</span><span class=o>::</span><span class=n>print</span><span class=p>(</span><span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;, bn=&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>bn</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kt>int</span> <span class=nf>main</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>A</span> <span class=n>a</span><span class=p>(</span><span class=mi>10</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>B</span> <span class=n>b</span><span class=p>(</span><span class=mi>20</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>a</span><span class=p>.</span><span class=n>print</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=n>b</span><span class=p>.</span><span class=n>print</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=n>a</span> <span class=o>=</span> <span class=n>b</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>a</span><span class=p>.</span><span class=n>print</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=n>b</span><span class=p>.</span><span class=n>print</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li></ul></li><li><p>私有继承</p><ul><li>基类中的公有成员和保护成员都以私有成员身份出现在派生类中, 基类的私有成员在派生类中不可直接访问<table><thead><tr><th style=text-align:center></th><th style=text-align:center>第一级派生中</th><th style=text-align:center>第二级派生中</th><th style=text-align:center>基类与派生类外</th></tr></thead><tbody><tr><td style=text-align:center>基类的公有成员</td><td style=text-align:center>直接访问</td><td style=text-align:center>不可访问</td><td style=text-align:center>不可访问</td></tr><tr><td style=text-align:center>基类的保护成员</td><td style=text-align:center>直接访问</td><td style=text-align:center>不可访问</td><td style=text-align:center>不可访问</td></tr><tr><td style=text-align:center>基类的私有成员</td><td style=text-align:center>调用公有函数访问</td><td style=text-align:center>不可访问</td><td style=text-align:center>不可访问</td></tr></tbody></table></li></ul></li><li><p>保护继承</p><ul><li>基类中公有成员和保护成员都以保护成员继承到派生类中, 私有成员不可直接访问</li></ul></li></ol><h2 id=第三节-派生类的构造函数和析构函数>第三节 派生类的构造函数和析构函数<a hidden class=anchor aria-hidden=true href=#第三节-派生类的构造函数和析构函数>#</a></h2><ol><li><p>构造函数与析构函数</p><ul><li><p>派生类不继承构造函数, 需要在派生类的构造函数中调用基类的构造函数, 已完成继承成员的初始化</p><ul><li>执行派生类构造函数前, 总是<strong>先执行基类的构造函数</strong>, 调用顺序为派生继承时的基类声明顺序</li><li>派生对象销毁时, 析构函数反之, <strong>先执行派生类的析构函数</strong>, 在执行基类析构函数</li></ul></li><li><p>派生类在构造函数中添加初始化列表, 说明基类成员变量如何初始化</p><ul><li><p>只要基类不是默认构造函数, 都要显式给出基类名和参数表</p></li><li><p><strong>基类定义了带有形参的构造函数, 派生类就应当定义构造函数</strong></p></li><li><p>格式</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl>  <span class=err>派生类名</span><span class=o>::</span><span class=err>派生类名</span><span class=p>(</span><span class=err>参数表</span><span class=p>)</span><span class=o>:</span><span class=err>基类名</span><span class=mi>1</span><span class=p>(</span><span class=err>基类</span><span class=mi>1</span> <span class=err>初始化参数表</span><span class=p>),</span> <span class=p>...</span> <span class=p>,</span><span class=err>基类名</span><span class=n>m</span> <span class=p>(</span><span class=err>基类</span><span class=n>m</span> <span class=err>初始化参数表</span><span class=p>),</span> <span class=err>成员对象名</span><span class=mi>1</span><span class=p>(</span><span class=err>成员对象</span><span class=mi>1</span> <span class=err>初始化参数表</span><span class=p>),</span> <span class=p>...</span> <span class=p>,</span><span class=err>成员对象名</span><span class=n>n</span> <span class=p>(</span><span class=err>成员对象</span><span class=n>n</span> <span class=err>初始化参数表</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>  	<span class=err>派生类构造函数函数体</span>   <span class=c1>//其它初始化操作
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li></ul></li><li><p>基类和派生类的构造/解析函数(5-15)</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span><span class=lnt>59
</span><span class=lnt>60
</span><span class=lnt>61
</span><span class=lnt>62
</span><span class=lnt>63
</span><span class=lnt>64
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl>  <span class=cp>#include</span> <span class=cpf>&lt;iostream&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>  <span class=k>using</span> <span class=k>namespace</span> <span class=n>std</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>class</span> <span class=nc>BaseClass</span> 
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>protected</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>v1</span><span class=p>,</span> <span class=n>v2</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=n>BaseClass</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=n>BaseClass</span><span class=p>(</span><span class=kt>int</span><span class=p>,</span> <span class=kt>int</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=o>~</span><span class=n>BaseClass</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span>
</span></span><span class=line><span class=cl>  <span class=n>BaseClass</span><span class=o>::</span><span class=n>BaseClass</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;BaseClass No parameter&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=n>BaseClass</span><span class=o>::</span><span class=n>BaseClass</span><span class=p>(</span><span class=kt>int</span> <span class=n>m</span><span class=p>,</span> <span class=kt>int</span> <span class=n>n</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>v1</span> <span class=o>=</span> <span class=n>m</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>v2</span> <span class=o>=</span> <span class=n>n</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;BaseClass Two parameter&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=n>BaseClass</span><span class=o>::~</span><span class=n>BaseClass</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;BaseClass Destroy&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>class</span> <span class=nc>DerivedClass</span> <span class=o>:</span> <span class=k>public</span> <span class=n>BaseClass</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>v3</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=n>DerivedClass</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=n>DerivedClass</span><span class=p>(</span><span class=kt>int</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>DerivedClass</span><span class=p>(</span><span class=kt>int</span><span class=p>,</span> <span class=kt>int</span><span class=p>,</span> <span class=kt>int</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=o>~</span><span class=n>DerivedClass</span><span class=p>();</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span>
</span></span><span class=line><span class=cl>  <span class=n>DerivedClass</span><span class=o>::</span><span class=n>DerivedClass</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;DerivedClass No parameter&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=n>DerivedClass</span><span class=o>::</span><span class=n>DerivedClass</span><span class=p>(</span><span class=kt>int</span> <span class=n>k</span><span class=p>)</span> <span class=o>:</span> <span class=n>v3</span><span class=p>(</span><span class=n>k</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;DerivedClass One parameter&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=n>DerivedClass</span><span class=o>::</span><span class=n>DerivedClass</span><span class=p>(</span><span class=kt>int</span> <span class=n>m</span><span class=p>,</span> <span class=kt>int</span> <span class=n>n</span><span class=p>,</span> <span class=kt>int</span> <span class=n>k</span><span class=p>)</span> <span class=o>:</span> <span class=n>BaseClass</span><span class=p>(</span><span class=n>m</span><span class=p>,</span> <span class=n>n</span><span class=p>),</span> <span class=n>v3</span><span class=p>(</span><span class=n>k</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;DerivedClass Three parameter&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=n>DerivedClass</span><span class=o>::~</span><span class=n>DerivedClass</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;DerivedClass Destroy&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kt>int</span> <span class=nf>main</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;create no parameter object&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>BaseClass</span> <span class=n>baseCla</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>DerivedClass</span> <span class=n>derivedCla</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;create with parameter object&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>BaseClass</span> <span class=n>baseCla1</span><span class=p>(</span><span class=mi>10</span><span class=p>,</span> <span class=mi>20</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>DerivedClass</span> <span class=n>derivedCla1</span><span class=p>(</span><span class=mi>30</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>派生类函数执行的一般次序</p><ol><li>调用基类构造函数, 调用顺序按照被继承时声明的顺序(从左至右)</li><li>对派生类新增成员变量的初始化, 调用顺序按照类中的声明顺序</li><li>执行派生类的构造函数体中的内容</li></ol></li><li><p>调用基类和派生类的构造函数/析构函数和成员函数(5-16)</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl>  <span class=cp>#include</span> <span class=cpf>&lt;iostream&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>  <span class=k>using</span> <span class=k>namespace</span> <span class=n>std</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>class</span> <span class=nc>Base</span> <span class=c1>//基类
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>private</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>Y</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=n>Base</span><span class=p>(</span><span class=kt>int</span> <span class=n>y</span> <span class=o>=</span> <span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=n>Y</span> <span class=o>=</span> <span class=n>y</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;Base(&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>y</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;)&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=o>~</span><span class=n>Base</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;~Base()&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=kt>void</span> <span class=nf>print</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>Y</span> <span class=o>&lt;&lt;</span> <span class=s>&#34; &#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span>
</span></span><span class=line><span class=cl>  <span class=k>class</span> <span class=nc>Derived</span> <span class=o>:</span> <span class=k>public</span> <span class=n>Base</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>private</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>Z</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=n>Derived</span><span class=p>(</span><span class=kt>int</span> <span class=n>y</span><span class=p>,</span> <span class=kt>int</span> <span class=n>z</span><span class=p>)</span> <span class=o>:</span> <span class=n>Base</span><span class=p>(</span><span class=n>y</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=n>Z</span> <span class=o>=</span> <span class=n>z</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;Derived(&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>y</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;,&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>z</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;)&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=o>~</span><span class=n>Derived</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;~Derived()&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=kt>void</span> <span class=nf>print</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=n>Base</span><span class=o>::</span><span class=n>print</span><span class=p>();</span>
</span></span><span class=line><span class=cl>      <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>Z</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kt>int</span> <span class=nf>main</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>Derived</span> <span class=n>d</span><span class=p>(</span><span class=mi>10</span><span class=p>,</span> <span class=mi>20</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>d</span><span class=p>.</span><span class=n>print</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li></ul></li><li><p>复制构造函数</p><ul><li><p>一个类, 自动生成复制构造函数或自定义</p><ul><li>默认的复制构造函数自动调用基类的复制构造函数, 对派生类新增的成员对象复制</li></ul></li><li><p>派生类中的复制构造函数(5-17)</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span><span class=lnt>59
</span><span class=lnt>60
</span><span class=lnt>61
</span><span class=lnt>62
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl>  <span class=cp>#include</span> <span class=cpf>&lt;iostream&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>  <span class=k>using</span> <span class=k>namespace</span> <span class=n>std</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>class</span> <span class=nc>A</span> <span class=c1>//基类
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=n>A</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=n>i</span> <span class=o>=</span> <span class=mi>100</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;class A default construct function&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=n>A</span><span class=p>(</span><span class=k>const</span> <span class=n>A</span> <span class=o>&amp;</span><span class=n>s</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=n>i</span> <span class=o>=</span> <span class=n>s</span><span class=p>.</span><span class=n>i</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;calss A copy construct funciton&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=nf>getValue</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=kt>void</span> <span class=nf>setValue</span><span class=p>(</span><span class=kt>int</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>private</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>i</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span>
</span></span><span class=line><span class=cl>  <span class=kt>int</span> <span class=n>A</span><span class=o>::</span><span class=n>getValue</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>i</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=kt>void</span> <span class=n>A</span><span class=o>::</span><span class=n>setValue</span><span class=p>(</span><span class=kt>int</span> <span class=n>k</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>i</span> <span class=o>=</span> <span class=n>k</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=k>class</span> <span class=nc>B</span> <span class=o>:</span> <span class=k>public</span> <span class=n>A</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>private</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=kt>float</span> <span class=n>f</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=n>B</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=n>f</span> <span class=o>=</span> <span class=mf>20.1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;class B default construct function&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=n>B</span><span class=p>(</span><span class=k>const</span> <span class=n>B</span> <span class=o>&amp;</span><span class=n>v</span><span class=p>)</span> <span class=o>:</span> <span class=n>A</span><span class=o>::</span><span class=n>A</span><span class=p>(</span><span class=n>v</span><span class=p>),</span> <span class=n>f</span><span class=p>(</span><span class=n>v</span><span class=p>.</span><span class=n>f</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;class B copy construct function&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=kt>float</span> <span class=nf>getValue</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=nf>getValue1</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>return</span> <span class=n>A</span><span class=o>::</span><span class=n>getValue</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span>
</span></span><span class=line><span class=cl>  <span class=kt>float</span> <span class=n>B</span><span class=o>::</span><span class=n>getValue</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>f</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kt>int</span> <span class=nf>main</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>A</span> <span class=n>a</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>B</span> <span class=n>b</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>B</span> <span class=n>bb</span><span class=p>(</span><span class=n>b</span><span class=p>);</span> <span class=c1>//调用类A 复制构造函数、类B 赋值构造函数
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>赋值运算符的重载及使用(5-18)</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl>  <span class=cp>#include</span> <span class=cpf>&lt;iostream&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>  <span class=k>using</span> <span class=k>namespace</span> <span class=n>std</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>class</span> <span class=nc>Base</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=n>Base</span><span class=p>()</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl>    <span class=n>Base</span><span class=p>(</span><span class=n>Base</span> <span class=o>&amp;</span><span class=n>c</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;Base 复制构造函数&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=n>Base</span> <span class=k>operator</span><span class=o>=</span><span class=p>(</span><span class=k>const</span> <span class=n>Base</span> <span class=o>&amp;</span><span class=n>b</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;Base::operator=&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=k>return</span> <span class=o>*</span><span class=k>this</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span>
</span></span><span class=line><span class=cl>  <span class=k>class</span> <span class=nc>Derived</span> <span class=o>:</span> <span class=k>public</span> <span class=n>Base</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=n>Derived</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;Derived::构造函数&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kt>int</span> <span class=nf>main</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>Derived</span> <span class=n>d1</span><span class=p>,</span> <span class=n>d2</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>Derived</span> <span class=n>d3</span><span class=p>(</span><span class=n>d1</span><span class=p>);</span> <span class=c1>// d3 初始化过程中会调用类 Base 的复制构造函数
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>d2</span> <span class=o>=</span> <span class=n>d1</span><span class=p>;</span>        <span class=c1>// 会调用类 Base 的重载运算符“=”运算符
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li></ul></li><li><p>多重继承的构造函数与析构函数</p><ul><li><code>Derived::Derived() : Base(0, 0), Base2(0,0), v3(0)</code> //派生类构造函数参数表的默认参数决定基类调用的构造函数参数，不应该为空</li></ul></li></ol><ul><li><p><code>class Derived : public Base, public Base2</code> <strong>多重继承类定义时间接类的声明顺序就是初始化顺序</strong></p><ul><li>多重继承(5-19)</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>  1
</span><span class=lnt>  2
</span><span class=lnt>  3
</span><span class=lnt>  4
</span><span class=lnt>  5
</span><span class=lnt>  6
</span><span class=lnt>  7
</span><span class=lnt>  8
</span><span class=lnt>  9
</span><span class=lnt> 10
</span><span class=lnt> 11
</span><span class=lnt> 12
</span><span class=lnt> 13
</span><span class=lnt> 14
</span><span class=lnt> 15
</span><span class=lnt> 16
</span><span class=lnt> 17
</span><span class=lnt> 18
</span><span class=lnt> 19
</span><span class=lnt> 20
</span><span class=lnt> 21
</span><span class=lnt> 22
</span><span class=lnt> 23
</span><span class=lnt> 24
</span><span class=lnt> 25
</span><span class=lnt> 26
</span><span class=lnt> 27
</span><span class=lnt> 28
</span><span class=lnt> 29
</span><span class=lnt> 30
</span><span class=lnt> 31
</span><span class=lnt> 32
</span><span class=lnt> 33
</span><span class=lnt> 34
</span><span class=lnt> 35
</span><span class=lnt> 36
</span><span class=lnt> 37
</span><span class=lnt> 38
</span><span class=lnt> 39
</span><span class=lnt> 40
</span><span class=lnt> 41
</span><span class=lnt> 42
</span><span class=lnt> 43
</span><span class=lnt> 44
</span><span class=lnt> 45
</span><span class=lnt> 46
</span><span class=lnt> 47
</span><span class=lnt> 48
</span><span class=lnt> 49
</span><span class=lnt> 50
</span><span class=lnt> 51
</span><span class=lnt> 52
</span><span class=lnt> 53
</span><span class=lnt> 54
</span><span class=lnt> 55
</span><span class=lnt> 56
</span><span class=lnt> 57
</span><span class=lnt> 58
</span><span class=lnt> 59
</span><span class=lnt> 60
</span><span class=lnt> 61
</span><span class=lnt> 62
</span><span class=lnt> 63
</span><span class=lnt> 64
</span><span class=lnt> 65
</span><span class=lnt> 66
</span><span class=lnt> 67
</span><span class=lnt> 68
</span><span class=lnt> 69
</span><span class=lnt> 70
</span><span class=lnt> 71
</span><span class=lnt> 72
</span><span class=lnt> 73
</span><span class=lnt> 74
</span><span class=lnt> 75
</span><span class=lnt> 76
</span><span class=lnt> 77
</span><span class=lnt> 78
</span><span class=lnt> 79
</span><span class=lnt> 80
</span><span class=lnt> 81
</span><span class=lnt> 82
</span><span class=lnt> 83
</span><span class=lnt> 84
</span><span class=lnt> 85
</span><span class=lnt> 86
</span><span class=lnt> 87
</span><span class=lnt> 88
</span><span class=lnt> 89
</span><span class=lnt> 90
</span><span class=lnt> 91
</span><span class=lnt> 92
</span><span class=lnt> 93
</span><span class=lnt> 94
</span><span class=lnt> 95
</span><span class=lnt> 96
</span><span class=lnt> 97
</span><span class=lnt> 98
</span><span class=lnt> 99
</span><span class=lnt>100
</span><span class=lnt>101
</span><span class=lnt>102
</span><span class=lnt>103
</span><span class=lnt>104
</span><span class=lnt>105
</span><span class=lnt>106
</span><span class=lnt>107
</span><span class=lnt>108
</span><span class=lnt>109
</span><span class=lnt>110
</span><span class=lnt>111
</span><span class=lnt>112
</span><span class=lnt>113
</span><span class=lnt>114
</span><span class=lnt>115
</span><span class=lnt>116
</span><span class=lnt>117
</span><span class=lnt>118
</span><span class=lnt>119
</span><span class=lnt>120
</span><span class=lnt>121
</span><span class=lnt>122
</span><span class=lnt>123
</span><span class=lnt>124
</span><span class=lnt>125
</span><span class=lnt>126
</span><span class=lnt>127
</span><span class=lnt>128
</span><span class=lnt>129
</span><span class=lnt>130
</span><span class=lnt>131
</span><span class=lnt>132
</span><span class=lnt>133
</span><span class=lnt>134
</span><span class=lnt>135
</span><span class=lnt>136
</span><span class=lnt>137
</span><span class=lnt>138
</span><span class=lnt>139
</span><span class=lnt>140
</span><span class=lnt>141
</span><span class=lnt>142
</span><span class=lnt>143
</span><span class=lnt>144
</span><span class=lnt>145
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl>     <span class=cp>#include</span> <span class=cpf>&lt;iostream&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>     <span class=k>using</span> <span class=k>namespace</span> <span class=n>std</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=k>class</span> <span class=nc>Base</span> <span class=c1>//基类
</span></span></span><span class=line><span class=cl><span class=c1></span>     <span class=p>{</span>
</span></span><span class=line><span class=cl>     <span class=k>protected</span><span class=o>:</span>
</span></span><span class=line><span class=cl>       <span class=kt>int</span> <span class=n>v1</span><span class=p>,</span> <span class=n>v2</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>     <span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>       <span class=n>Base</span><span class=p>();</span>
</span></span><span class=line><span class=cl>       <span class=n>Base</span><span class=p>(</span><span class=kt>int</span><span class=p>,</span> <span class=kt>int</span><span class=p>);</span>
</span></span><span class=line><span class=cl>       <span class=o>~</span><span class=n>Base</span><span class=p>();</span>
</span></span><span class=line><span class=cl>       <span class=kt>void</span> <span class=nf>SetValue</span><span class=p>(</span><span class=kt>int</span><span class=p>,</span> <span class=kt>int</span><span class=p>);</span>
</span></span><span class=line><span class=cl>       <span class=kt>void</span> <span class=nf>PrintValue</span><span class=p>();</span>
</span></span><span class=line><span class=cl>     <span class=p>};</span>
</span></span><span class=line><span class=cl>     <span class=n>Base</span><span class=o>::</span><span class=n>Base</span><span class=p>()</span> <span class=o>:</span> <span class=n>v1</span><span class=p>(</span><span class=mi>0</span><span class=p>),</span> <span class=n>v2</span><span class=p>(</span><span class=mi>0</span><span class=p>)</span> <span class=c1>//无参数时初始化成员变量
</span></span></span><span class=line><span class=cl><span class=c1></span>     <span class=p>{</span>
</span></span><span class=line><span class=cl>       <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;Base 无参构造函数&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>     <span class=p>}</span>
</span></span><span class=line><span class=cl>     <span class=n>Base</span><span class=o>::</span><span class=n>Base</span><span class=p>(</span><span class=kt>int</span> <span class=n>m</span><span class=p>,</span> <span class=kt>int</span> <span class=n>n</span><span class=p>)</span> <span class=o>:</span> <span class=n>v1</span><span class=p>(</span><span class=n>m</span><span class=p>),</span> <span class=n>v2</span><span class=p>(</span><span class=n>n</span><span class=p>)</span>
</span></span><span class=line><span class=cl>     <span class=p>{</span>
</span></span><span class=line><span class=cl>       <span class=n>v1</span> <span class=o>=</span> <span class=n>m</span><span class=p>;</span>
</span></span><span class=line><span class=cl>       <span class=n>v2</span> <span class=o>=</span> <span class=n>n</span><span class=p>;</span>
</span></span><span class=line><span class=cl>       <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;Base 带2个参数构造函数, &#34;</span> <span class=o>&lt;&lt;</span> <span class=n>v1</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;, &#34;</span> <span class=o>&lt;&lt;</span> <span class=n>v2</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>     <span class=p>}</span>
</span></span><span class=line><span class=cl>     <span class=n>Base</span><span class=o>::~</span><span class=n>Base</span><span class=p>()</span>
</span></span><span class=line><span class=cl>     <span class=p>{</span>
</span></span><span class=line><span class=cl>       <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;Base 析构函数&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>     <span class=p>}</span>
</span></span><span class=line><span class=cl>     <span class=kt>void</span> <span class=n>Base</span><span class=o>::</span><span class=n>SetValue</span><span class=p>(</span><span class=kt>int</span> <span class=n>m</span><span class=p>,</span> <span class=kt>int</span> <span class=n>n</span><span class=p>)</span>
</span></span><span class=line><span class=cl>     <span class=p>{</span>
</span></span><span class=line><span class=cl>       <span class=n>v1</span> <span class=o>=</span> <span class=n>m</span><span class=p>;</span>
</span></span><span class=line><span class=cl>       <span class=n>v2</span> <span class=o>=</span> <span class=n>n</span><span class=p>;</span>
</span></span><span class=line><span class=cl>     <span class=p>}</span>
</span></span><span class=line><span class=cl>     <span class=kt>void</span> <span class=n>Base</span><span class=o>::</span><span class=n>PrintValue</span><span class=p>()</span>
</span></span><span class=line><span class=cl>     <span class=p>{</span>
</span></span><span class=line><span class=cl>       <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;v1=&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>v1</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;</span><span class=se>\t</span><span class=s>v2=&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>v2</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>     <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>     <span class=k>class</span> <span class=nc>Base2</span> <span class=c1>//基类
</span></span></span><span class=line><span class=cl><span class=c1></span>     <span class=p>{</span>
</span></span><span class=line><span class=cl>     <span class=k>protected</span><span class=o>:</span>
</span></span><span class=line><span class=cl>       <span class=kt>int</span> <span class=n>v1</span><span class=p>,</span> <span class=n>v4</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>     <span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>       <span class=n>Base2</span><span class=p>();</span>
</span></span><span class=line><span class=cl>       <span class=n>Base2</span><span class=p>(</span><span class=kt>int</span><span class=p>,</span> <span class=kt>int</span><span class=p>);</span>
</span></span><span class=line><span class=cl>       <span class=o>~</span><span class=n>Base2</span><span class=p>();</span>
</span></span><span class=line><span class=cl>       <span class=kt>void</span> <span class=nf>SetValue</span><span class=p>(</span><span class=kt>int</span><span class=p>,</span> <span class=kt>int</span><span class=p>);</span>
</span></span><span class=line><span class=cl>       <span class=kt>void</span> <span class=nf>PrintValue</span><span class=p>();</span>
</span></span><span class=line><span class=cl>     <span class=p>};</span>
</span></span><span class=line><span class=cl>     <span class=n>Base2</span><span class=o>::</span><span class=n>Base2</span><span class=p>()</span> <span class=o>:</span> <span class=n>v1</span><span class=p>(</span><span class=mi>0</span><span class=p>),</span> <span class=n>v4</span><span class=p>(</span><span class=mi>0</span><span class=p>)</span> <span class=c1>//无参数时初始化成员变量
</span></span></span><span class=line><span class=cl><span class=c1></span>     <span class=p>{</span>
</span></span><span class=line><span class=cl>       <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;Base2 无参构造函数&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>     <span class=p>}</span>
</span></span><span class=line><span class=cl>     <span class=n>Base2</span><span class=o>::</span><span class=n>Base2</span><span class=p>(</span><span class=kt>int</span> <span class=n>m</span><span class=p>,</span> <span class=kt>int</span> <span class=n>n</span><span class=p>)</span> <span class=o>:</span> <span class=n>v1</span><span class=p>(</span><span class=n>m</span><span class=p>),</span> <span class=n>v4</span><span class=p>(</span><span class=n>n</span><span class=p>)</span>
</span></span><span class=line><span class=cl>     <span class=p>{</span>
</span></span><span class=line><span class=cl>       <span class=n>v1</span> <span class=o>=</span> <span class=n>m</span><span class=p>;</span>
</span></span><span class=line><span class=cl>       <span class=n>v4</span> <span class=o>=</span> <span class=n>n</span><span class=p>;</span>
</span></span><span class=line><span class=cl>       <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;Base2 带2个参数构造函数, &#34;</span> <span class=o>&lt;&lt;</span> <span class=n>v1</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;, &#34;</span> <span class=o>&lt;&lt;</span> <span class=n>v4</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>     <span class=p>}</span>
</span></span><span class=line><span class=cl>     <span class=n>Base2</span><span class=o>::~</span><span class=n>Base2</span><span class=p>()</span>
</span></span><span class=line><span class=cl>     <span class=p>{</span>
</span></span><span class=line><span class=cl>       <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;Base2 析构函数&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>     <span class=p>}</span>
</span></span><span class=line><span class=cl>     <span class=kt>void</span> <span class=n>Base2</span><span class=o>::</span><span class=n>SetValue</span><span class=p>(</span><span class=kt>int</span> <span class=n>m</span><span class=p>,</span> <span class=kt>int</span> <span class=n>n</span><span class=p>)</span>
</span></span><span class=line><span class=cl>     <span class=p>{</span>
</span></span><span class=line><span class=cl>       <span class=n>v1</span> <span class=o>=</span> <span class=n>m</span><span class=p>;</span>
</span></span><span class=line><span class=cl>       <span class=n>v4</span> <span class=o>=</span> <span class=n>n</span><span class=p>;</span>
</span></span><span class=line><span class=cl>     <span class=p>}</span>
</span></span><span class=line><span class=cl>     <span class=kt>void</span> <span class=n>Base2</span><span class=o>::</span><span class=n>PrintValue</span><span class=p>()</span>
</span></span><span class=line><span class=cl>     <span class=p>{</span>
</span></span><span class=line><span class=cl>       <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;v1=&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>v1</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;</span><span class=se>\t</span><span class=s>v4=&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>v4</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>     <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>     <span class=k>class</span> <span class=nc>Derived</span> <span class=o>:</span> <span class=k>public</span> <span class=n>Base</span><span class=p>,</span> <span class=k>public</span> <span class=n>Base2</span>
</span></span><span class=line><span class=cl>     <span class=p>{</span>
</span></span><span class=line><span class=cl>     <span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>       <span class=kt>int</span> <span class=n>v3</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>     <span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>       <span class=n>Derived</span><span class=p>();</span>
</span></span><span class=line><span class=cl>       <span class=n>Derived</span><span class=p>(</span><span class=kt>int</span><span class=p>);</span>
</span></span><span class=line><span class=cl>       <span class=n>Derived</span><span class=p>(</span><span class=kt>int</span><span class=p>,</span> <span class=kt>int</span><span class=p>,</span> <span class=kt>int</span><span class=p>,</span> <span class=kt>int</span><span class=p>);</span>
</span></span><span class=line><span class=cl>       <span class=o>~</span><span class=n>Derived</span><span class=p>();</span>
</span></span><span class=line><span class=cl>       <span class=kt>void</span> <span class=nf>SetValue</span><span class=p>(</span><span class=kt>int</span> <span class=n>m</span><span class=p>,</span> <span class=kt>int</span> <span class=n>n</span><span class=p>,</span> <span class=kt>int</span> <span class=n>k</span><span class=p>,</span> <span class=kt>int</span> <span class=n>h</span><span class=p>)</span>
</span></span><span class=line><span class=cl>       <span class=p>{</span>
</span></span><span class=line><span class=cl>         <span class=n>Base</span><span class=o>::</span><span class=n>SetValue</span><span class=p>(</span><span class=n>m</span><span class=p>,</span> <span class=n>n</span><span class=p>);</span>
</span></span><span class=line><span class=cl>         <span class=n>Base2</span><span class=o>::</span><span class=n>SetValue</span><span class=p>(</span><span class=mi>2</span> <span class=o>*</span> <span class=n>m</span><span class=p>,</span> <span class=n>h</span><span class=p>);</span>
</span></span><span class=line><span class=cl>         <span class=n>v3</span> <span class=o>=</span> <span class=n>k</span><span class=p>;</span>
</span></span><span class=line><span class=cl>       <span class=p>}</span>
</span></span><span class=line><span class=cl>       <span class=kt>void</span> <span class=nf>SetValue</span><span class=p>(</span><span class=kt>int</span> <span class=n>m</span><span class=p>,</span> <span class=kt>int</span> <span class=n>n</span><span class=p>,</span> <span class=kt>int</span> <span class=n>k</span><span class=p>)</span>
</span></span><span class=line><span class=cl>       <span class=p>{</span>
</span></span><span class=line><span class=cl>         <span class=n>Base</span><span class=o>::</span><span class=n>SetValue</span><span class=p>(</span><span class=n>m</span><span class=p>,</span> <span class=n>n</span><span class=p>);</span>
</span></span><span class=line><span class=cl>         <span class=n>Base2</span><span class=o>::</span><span class=n>SetValue</span><span class=p>(</span><span class=mi>2</span> <span class=o>*</span> <span class=n>m</span><span class=p>,</span> <span class=mi>2</span> <span class=o>*</span> <span class=n>n</span><span class=p>);</span>
</span></span><span class=line><span class=cl>         <span class=n>v3</span> <span class=o>=</span> <span class=n>k</span><span class=p>;</span>
</span></span><span class=line><span class=cl>       <span class=p>}</span>
</span></span><span class=line><span class=cl>       <span class=kt>void</span> <span class=nf>SetValue</span><span class=p>(</span><span class=kt>int</span> <span class=n>m</span><span class=p>,</span> <span class=kt>int</span> <span class=n>n</span><span class=p>)</span>
</span></span><span class=line><span class=cl>       <span class=p>{</span>
</span></span><span class=line><span class=cl>         <span class=n>Base</span><span class=o>::</span><span class=n>SetValue</span><span class=p>(</span><span class=n>m</span><span class=p>,</span> <span class=n>n</span><span class=p>);</span>
</span></span><span class=line><span class=cl>         <span class=n>Base2</span><span class=o>::</span><span class=n>SetValue</span><span class=p>(</span><span class=o>-</span><span class=mi>1</span><span class=p>,</span> <span class=o>-</span><span class=mi>1</span><span class=p>);</span>
</span></span><span class=line><span class=cl>         <span class=n>v3</span> <span class=o>=</span> <span class=o>-</span><span class=mi>1</span><span class=p>;</span>
</span></span><span class=line><span class=cl>       <span class=p>}</span>
</span></span><span class=line><span class=cl>       <span class=kt>void</span> <span class=nf>PrintValue</span><span class=p>();</span>
</span></span><span class=line><span class=cl>     <span class=p>};</span>
</span></span><span class=line><span class=cl>     <span class=n>Derived</span><span class=o>::</span><span class=n>Derived</span><span class=p>()</span> <span class=o>:</span> <span class=n>Base</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>),</span> <span class=n>Base2</span><span class=p>(),</span> <span class=n>v3</span><span class=p>(</span><span class=mi>0</span><span class=p>)</span> <span class=c1>//此处默认参数决定基类调用的构造函数参数
</span></span></span><span class=line><span class=cl><span class=c1></span>     <span class=p>{</span>
</span></span><span class=line><span class=cl>       <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;Derived 无参构造函数&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>     <span class=p>}</span>
</span></span><span class=line><span class=cl>     <span class=n>Derived</span><span class=o>::</span><span class=n>Derived</span><span class=p>(</span><span class=kt>int</span> <span class=n>k</span><span class=p>)</span>
</span></span><span class=line><span class=cl>     <span class=p>{</span>
</span></span><span class=line><span class=cl>       <span class=n>v3</span> <span class=o>=</span> <span class=n>k</span><span class=p>;</span>
</span></span><span class=line><span class=cl>       <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;带1个参数构造函数&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>     <span class=p>}</span>
</span></span><span class=line><span class=cl>     <span class=n>Derived</span><span class=o>::</span><span class=n>Derived</span><span class=p>(</span><span class=kt>int</span> <span class=n>m</span><span class=p>,</span> <span class=kt>int</span> <span class=n>n</span><span class=p>,</span> <span class=kt>int</span> <span class=n>k</span><span class=p>,</span> <span class=kt>int</span> <span class=n>t</span><span class=p>)</span> <span class=o>:</span> <span class=n>Base</span><span class=p>(</span><span class=n>m</span><span class=p>,</span> <span class=n>n</span><span class=p>),</span> <span class=n>Base2</span><span class=p>(</span><span class=n>m</span><span class=p>,</span> <span class=n>t</span><span class=p>),</span> <span class=n>v3</span><span class=p>(</span><span class=n>k</span><span class=p>)</span>
</span></span><span class=line><span class=cl>     <span class=p>{</span>
</span></span><span class=line><span class=cl>       <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;带4个参数构造函数&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>     <span class=p>}</span>
</span></span><span class=line><span class=cl>     <span class=n>Derived</span><span class=o>::~</span><span class=n>Derived</span><span class=p>()</span>
</span></span><span class=line><span class=cl>     <span class=p>{</span>
</span></span><span class=line><span class=cl>       <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;Derived 析构函数&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>     <span class=p>}</span>
</span></span><span class=line><span class=cl>     <span class=kt>void</span> <span class=n>Derived</span><span class=o>::</span><span class=n>PrintValue</span><span class=p>()</span>
</span></span><span class=line><span class=cl>     <span class=p>{</span>
</span></span><span class=line><span class=cl>       <span class=n>Base</span><span class=o>::</span><span class=n>PrintValue</span><span class=p>();</span>
</span></span><span class=line><span class=cl>       <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;</span><span class=se>\t</span><span class=s>v3=&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>v3</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>       <span class=n>Base2</span><span class=o>::</span><span class=n>PrintValue</span><span class=p>();</span>
</span></span><span class=line><span class=cl>       <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>     <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>     <span class=kt>int</span> <span class=nf>main</span><span class=p>()</span>
</span></span><span class=line><span class=cl>     <span class=p>{</span>
</span></span><span class=line><span class=cl>       <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;带4个参数对象的创建&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>       <span class=n>Derived</span> <span class=n>derived</span><span class=p>(</span><span class=mi>1000</span><span class=p>,</span> <span class=mi>2000</span><span class=p>,</span> <span class=mi>3000</span><span class=p>,</span> <span class=mi>4000</span><span class=p>);</span>
</span></span><span class=line><span class=cl>       <span class=n>derived</span><span class=p>.</span><span class=n>PrintValue</span><span class=p>();</span>
</span></span><span class=line><span class=cl>       <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span>
</span></span><span class=line><span class=cl>            <span class=o>&lt;&lt;</span> <span class=s>&#34;不带参数对象的创建&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>       <span class=n>Derived</span> <span class=n>derived2</span><span class=p>;</span>
</span></span><span class=line><span class=cl>       <span class=n>derived2</span><span class=p>.</span><span class=n>PrintValue</span><span class=p>();</span>
</span></span><span class=line><span class=cl>       <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span>
</span></span><span class=line><span class=cl>            <span class=o>&lt;&lt;</span> <span class=s>&#34;带1个参数对象的创建&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>       <span class=n>Derived</span> <span class=n>derived3</span><span class=p>(</span><span class=mi>111</span><span class=p>);</span>
</span></span><span class=line><span class=cl>       <span class=n>derived3</span><span class=p>.</span><span class=n>PrintValue</span><span class=p>();</span>
</span></span><span class=line><span class=cl>       <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>     <span class=p>}</span>
</span></span><span class=line><span class=cl>     <span class=err>```</span>
</span></span></code></pre></td></tr></table></div></div></li></ul><h2 id=第四节-类之间的关系>第四节 类之间的关系<a hidden class=anchor aria-hidden=true href=#第四节-类之间的关系>#</a></h2><ol><li><p>类与类之间的关系</p><ul><li>使用已有类编写新类的两种方式<ul><li>继承 “is a” 和组合 “has a”</li><li>继承关系和组合关系(包含关系)</li></ul></li></ul></li><li><p>封闭类的派生</p><ul><li><p><strong>一个类的成员变量是另一个类的对象</strong>, 称为封闭类</p></li><li><p>定义封闭类构造函数的一般形式:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl>  <span class=err>类名</span><span class=o>::</span><span class=err>类名</span><span class=p>(</span><span class=err>形参表</span><span class=p>)</span><span class=o>:</span> <span class=err>内嵌对象</span><span class=mi>1</span><span class=p>(</span><span class=err>形参表</span><span class=p>),</span><span class=err>内前对象</span><span class=mi>2</span><span class=p>(</span><span class=err>形参表</span><span class=p>),</span> <span class=p>...</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>  	<span class=err>类体</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><ul><li><code>内嵌对象1(形参表),内前对象2(形参表), ...</code> 是初始化列表, 对内嵌对象进行初始化</li></ul></li><li><p>封闭类的构造函数(5-20)</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++></code></pre></td></tr></table></div></div></li></ul></li><li><p><strong>互包含关系的类</strong></p><ul><li><p>两个类相互引用, 称为循环依赖的类</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl>  <span class=k>class</span> <span class=nc>A</span> <span class=c1>//类 A 的定义
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>  	<span class=kt>void</span> <span class=n>f</span><span class=p>(</span><span class=n>B</span> <span class=n>b</span><span class=p>);</span> <span class=c1>//以类B对象为参数的成员函数
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>};</span>
</span></span><span class=line><span class=cl>  <span class=k>class</span> <span class=nc>B</span> <span class=c1>//定义类 B
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>  	<span class=kt>void</span> <span class=n>g</span><span class=p>(</span><span class=n>A</span> <span class=n>a</span><span class=p>);</span> <span class=c1>//以类A对象为参数的成员函数
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><ul><li>会编译错误</li></ul></li><li><p>向前引用声明</p><ul><li>引用未定义的类之前, 将该类的名字告诉编译器, 完整类的定义可以写在其他地方</li><li>在提供一个完整的类定义之前, <strong>不能定义该类的对象</strong>, 也不能内联成员函数中使用该类的对象</li></ul></li><li><p>相互包含的类(5-21)</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++></code></pre></td></tr></table></div></div></li></ul></li></ol><h2 id=第五节-多层次的派生>第五节 多层次的派生<a hidden class=anchor aria-hidden=true href=#第五节-多层次的派生>#</a></h2><ul><li><p>类之间的继承关系具有传递性</p></li><li><p>派生类成员包括</p><ul><li>派生类自己定义的成员</li><li>直接基类中定义的成员</li><li>间接基类中定义的全部成员</li></ul></li><li><p>生成派生类对象时, 会依次执行所有基类的构造函数, 最后执行派生类的构造函数; 析构反之</p><ul><li>初始化列表中，从右往左执行构造函数</li></ul></li><li><p>一个类可以是多个类的直接基类, 只能说明一次</p><ul><li>一个类可以多次成为某个派生类的间接基类</li></ul></li><li><p>多级派生时构造函数的调用(5-22)</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++></code></pre></td></tr></table></div></div></li></ul><h2 id=第六节-基类与派生类指针的相互转换>第六节 基类与派生类指针的相互转换<a hidden class=anchor aria-hidden=true href=#第六节-基类与派生类指针的相互转换>#</a></h2><ul><li><p>公有派生时, 派生类对象也是基类对象, 所以派生类对象可以赋值给基类对象</p><ul><li>使用指针指向派生类对象, 或派生类指针赋值给基类指针<ul><li>不能通过基类指针访问基类没有而派生类有的成员函数</li></ul></li><li>派生类指针赋值给基类指针<ul><li>即使基类指针指向派生类对象, 不能通过基类指针访问派生类中定义的函数</li><li>当派生类指针指向基类对象时, 必须要将基类对象强制类型转换, 才能赋值给派生类指针</li></ul></li><li><strong>基类指针不能直接赋值给派生类指针</strong><ul><li>通过强制类型转换,可以将基类指针强制转换成派生类指针后再赋值给派生类指针</li></ul></li></ul></li><li><p><strong>下面的代码演示了基类和派生类指针的互相转换：</strong>(5-23)</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl>  <span class=cp>#include</span> <span class=cpf>&lt;iostream&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>  <span class=k>using</span> <span class=k>namespace</span> <span class=n>std</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>class</span> <span class=nc>CBase</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>protected</span><span class=o>:</span>
</span></span><span class=line><span class=cl>      <span class=kt>int</span> <span class=n>n</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>      <span class=n>CBase</span><span class=p>(</span><span class=kt>int</span> <span class=n>i</span><span class=p>)</span> <span class=o>:</span><span class=n>n</span><span class=p>(</span><span class=n>i</span><span class=p>)</span> <span class=p>{</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=kt>void</span> <span class=nf>Print</span><span class=p>()</span> <span class=p>{</span> <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;CBase:n=&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>n</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span>
</span></span><span class=line><span class=cl>  <span class=k>class</span> <span class=nc>CDerived</span> <span class=o>:</span><span class=k>public</span> <span class=n>CBase</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>      <span class=kt>int</span> <span class=n>v</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=n>CDerived</span><span class=p>(</span><span class=kt>int</span> <span class=n>i</span><span class=p>)</span> <span class=o>:</span><span class=n>CBase</span><span class=p>(</span><span class=n>i</span><span class=p>),</span> <span class=n>v</span><span class=p>(</span><span class=mi>2</span> <span class=o>*</span> <span class=n>i</span><span class=p>)</span> <span class=p>{</span> <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=kt>void</span> <span class=nf>Func</span><span class=p>()</span> <span class=p>{</span> <span class=p>};</span>
</span></span><span class=line><span class=cl>      <span class=kt>void</span> <span class=nf>Print</span><span class=p>()</span>
</span></span><span class=line><span class=cl>      <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;CDerived:n=&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>n</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>          <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;CDerived:v=&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>v</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span>
</span></span><span class=line><span class=cl>  <span class=kt>int</span> <span class=nf>main</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=n>CDerived</span> <span class=n>objDerived</span><span class=p>(</span><span class=mi>3</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=n>CBase</span> <span class=n>objBase</span><span class=p>(</span><span class=mi>5</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=n>CBase</span> <span class=o>*</span> <span class=n>pBase</span> <span class=o>=</span> <span class=o>&amp;</span><span class=n>objDerived</span><span class=p>;</span> <span class=c1>// 使得基类指针指向派生类对象
</span></span></span><span class=line><span class=cl><span class=c1></span>                                   <span class=c1>//pBase-&gt;Func(); //错, CBase类没有Func()成员函数
</span></span></span><span class=line><span class=cl><span class=c1></span>                                   <span class=c1>//pBase-&gt;v = 5;  //错 CBase类没有v成员变量
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=n>pBase</span><span class=o>-&gt;</span><span class=n>Print</span><span class=p>();</span>
</span></span><span class=line><span class=cl>      <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;1)------------&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=c1>//CDerived * pDerived = &amp; objBase; //错，不能将基类指针赋值给派生类指针
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=n>CDerived</span> <span class=o>*</span> <span class=n>pDerived</span> <span class=o>=</span> <span class=p>(</span><span class=n>CDerived</span> <span class=o>*</span><span class=p>)(</span><span class=o>&amp;</span><span class=n>objBase</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=c1>//等同于 CDerived *pDerived = static_cast&lt;CDerived *&gt;(&amp;objBase);
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=n>pDerived</span><span class=o>-&gt;</span><span class=n>Print</span><span class=p>();</span>  <span class=c1>//慎用，可能出现不可预期的错误
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;2)------------&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=n>objDerived</span><span class=p>.</span><span class=n>Print</span><span class=p>();</span>
</span></span><span class=line><span class=cl>      <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;3)------------&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=n>pDerived</span><span class=o>-&gt;</span><span class=n>v</span> <span class=o>=</span> <span class=mi>128</span><span class=p>;</span>  <span class=c1>//往别人的空间里写入数据，会有问题
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=n>objDerived</span><span class=p>.</span><span class=n>Print</span><span class=p>();</span>
</span></span><span class=line><span class=cl>      <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>基类引用也可以强制类型转换为派生类引用</p></li><li><p>强制转换都存在安全隐患</p><ul><li><code>dynamic_cast</code> 强制类型转换运算符, 判断转换是否安全 (指针或引用是否真的指向派生类对象)</li></ul></li><li><p>各种类型转换示例</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span><span class=lnt>52
</span><span class=lnt>53
</span><span class=lnt>54
</span><span class=lnt>55
</span><span class=lnt>56
</span><span class=lnt>57
</span><span class=lnt>58
</span><span class=lnt>59
</span><span class=lnt>60
</span><span class=lnt>61
</span><span class=lnt>62
</span><span class=lnt>63
</span><span class=lnt>64
</span><span class=lnt>65
</span><span class=lnt>66
</span><span class=lnt>67
</span><span class=lnt>68
</span><span class=lnt>69
</span><span class=lnt>70
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl>  <span class=cp>#include</span> <span class=cpf>&lt;iostream&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>  <span class=k>using</span> <span class=k>namespace</span> <span class=n>std</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>class</span> <span class=nc>Base</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>n</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=n>Base</span><span class=p>()</span> <span class=c1>//没有方法内容会报错
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;基类&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=kt>void</span> <span class=nf>Print</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;基类打印&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=k>class</span> <span class=nc>Derived</span> <span class=o>:</span> <span class=k>public</span> <span class=n>Base</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=n>Derived</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;派生类&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=kt>void</span> <span class=nf>Print</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;派生类打印&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kt>int</span> <span class=nf>main</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>Base</span> <span class=n>b</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>Derived</span> <span class=n>der</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;-----基类指针指向派生类对象-------&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>Base</span> <span class=o>*</span><span class=n>pBase</span> <span class=o>=</span> <span class=o>&amp;</span><span class=n>der</span><span class=p>;</span> <span class=c1>//基类指针指向派生类对象
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>pBase</span><span class=o>-&gt;</span><span class=n>Print</span><span class=p>();</span>     <span class=c1>//基类 Print 函数
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;-------基类指针指向基类对象-----&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>pBase</span> <span class=o>=</span> <span class=o>&amp;</span><span class=n>b</span><span class=p>;</span>     <span class=c1>//基类指针指向基类对象
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>pBase</span><span class=o>-&gt;</span><span class=n>Print</span><span class=p>();</span> <span class=c1>//基类 Print 函数
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;-------派生类对象转换为基类对象-----&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>((</span><span class=n>Base</span><span class=p>)</span><span class=n>der</span><span class=p>).</span><span class=n>Print</span><span class=p>();</span> <span class=c1>//指针或对象是什么类型就调用什么类型的函数
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=c1>// ((Derived)b).Print(); //基类对象无法转换为派生类对象
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;------派生类指针指向派生类对象------&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>Derived</span> <span class=o>*</span><span class=n>pDer</span> <span class=o>=</span> <span class=o>&amp;</span><span class=n>der</span><span class=p>;</span> <span class=c1>//派生类指针指向派生类对象
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>pDer</span><span class=o>-&gt;</span><span class=n>Print</span><span class=p>();</span>        <span class=c1>//派生类 Print 函数
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;-----派生类指针指向基类指针转换成派生类指针-------&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>pDer</span> <span class=o>=</span> <span class=p>(</span><span class=n>Derived</span> <span class=o>*</span><span class=p>)(</span><span class=n>pBase</span><span class=p>);</span> <span class=c1>//基类指针转换成派生类指针赋值给派生类指针
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>pDer</span><span class=o>-&gt;</span><span class=n>Print</span><span class=p>();</span>             <span class=c1>//派生类 Print 函数
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;-----派生类指针指向转换成派生类型的基类对象-------&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>pDer</span> <span class=o>=</span> <span class=p>(</span><span class=n>Derived</span> <span class=o>*</span><span class=p>)(</span><span class=o>&amp;</span><span class=n>b</span><span class=p>);</span> <span class=c1>//派生类指针指向转换成派生类型的基类对象
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>pDer</span><span class=o>-&gt;</span><span class=n>Print</span><span class=p>();</span>          <span class=c1>//派生类 Print 函数
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;-----派生类指针转换成基类指针-------&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>pBase</span> <span class=o>=</span> <span class=p>((</span><span class=n>Base</span> <span class=o>*</span><span class=p>)(</span><span class=n>pDer</span><span class=p>));</span> <span class=c1>//派生类指针转换成基类指针
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>pBase</span><span class=o>-&gt;</span><span class=n>Print</span><span class=p>();</span>           <span class=c1>//基类 Print 函数
</span></span></span><span class=line><span class=cl><span class=c1></span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;-----函数调用-------&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>pDer</span><span class=o>-&gt;</span><span class=n>Base</span><span class=o>::</span><span class=n>Print</span><span class=p>();</span>           <span class=c1>//派生类指针调用基类函数
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>pBase</span><span class=o>-&gt;</span><span class=n>Base</span><span class=o>::</span><span class=n>Print</span><span class=p>();</span>          <span class=c1>//基类指针调用基类函数
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>((</span><span class=n>Derived</span> <span class=o>*</span><span class=p>)(</span><span class=n>pBase</span><span class=p>))</span><span class=o>-&gt;</span><span class=n>Print</span><span class=p>();</span> <span class=c1>//基类指针转换派生指针调用派生类函数
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>pBase</span><span class=o>-&gt;</span><span class=n>Print</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=n>pDer</span><span class=o>-&gt;</span><span class=n>Print</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li></ul><h1 id=第六章-多态与虚函数>第六章 多态与虚函数<a hidden class=anchor aria-hidden=true href=#第六章-多态与虚函数>#</a></h1><ul><li>多态原理</li><li>虚析构函数</li><li>纯虚函数</li></ul><h2 id=第一节-多态的基本概念>第一节 多态的基本概念<a hidden class=anchor aria-hidden=true href=#第一节-多态的基本概念>#</a></h2><p>面对对象程序设计语言有封装/继承/多态三种机制</p><ol><li><p>多态</p><ul><li><p>编译时多态</p><ul><li>根据实参确定调用哪个函数</li></ul></li><li><p>运行时多态</p><ul><li>继承/虚函数</li><li>函数调用与代码入口地址的绑定需要在运行时刻再能确定, 称为动态联编/ 动态绑定</li></ul></li><li><p>类之间满足赋值兼容的前提下, 实现动态绑定必须满足两个条件</p><ol><li>必须声明虚函数</li><li>通过基类类型的引用或者指针调用虚函数</li></ol></li></ul></li><li><p>虚函数</p><ul><li><code>virtual</code> 关键字只在类定义中的成员函数声明处使用, 不能在类外部成员写函数体时使用<ul><li>静态成员函数不能是虚函数</li><li>包含虚函数的类称为“多态类”</li><li><code>virtual 函数返回值类型 函数名(形参表);</code></li></ul></li><li>注意<ol><li>虽然虚函数声明为内联不会引起错误, 但因为内联函数是在编译阶段进行动态处理的, 而对虚函数的调用是动态绑定的, 所以虚函数一般不声明为内联函数</li><li><strong>派生类重写基类的虚函数实现多态</strong>, 要求函数名/参数列表及返回值类型要完全相同</li><li>基类中定义了虚函数, 在派生类中该函数始终个<strong>保持虚函数</strong>的特性</li><li>只有类的非静态成员函数才能定义为虚函数, 静态成员函数和友元函数不能定义为虚函数</li><li>如果虚函数的定义是在类体外, 则只需在声明函数时添加 <code>virtual</code> 关键字, 定义时不加 <code>virtual</code> 关键字</li><li>构造函数不能定义为虚函数, <code>operator=</code> 容易混淆, 也不要定义为虚函数</li><li><strong>不要在构造函数和析构函数中调用虚函数</strong>, 构造/析构函数中, 对象不完整</li><li><strong>最好将基类的析构函数声明为虚函数</strong></li><li>全局函数不属于类, 没有继承关系, 无法覆盖, 不能使用多态</li></ol></li></ul></li><li><p>通过基类指针实现多态</p><ul><li><p>声明虚函数后, 派生类对象的地址可以赋值给基类指针, 基类指针可以指向派生类对象</p></li><li><p>调用基类指针时, 指针指向基类对象则执行基类的虚函数, 指向派生类对象则执行派生类的虚函数</p></li><li><p>通过基类指针实现多态示例(6-1)</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++></code></pre></td></tr></table></div></div></li><li><p>用基类指针访问基类对象及派生类对象</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++></code></pre></td></tr></table></div></div></li></ul></li><li><p>通过基类引用实现多态</p><ul><li><p>引用等同于指针</p></li><li><p>基类引用实现多态(6-3)</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++></code></pre></td></tr></table></div></div></li></ul></li><li><p><strong>多态的实现原理</strong></p><ul><li><p>多态的关键在于通过指针/引用调用一个虚函数时, 编译阶段不能确定到底调用的是基类还是派生类的函数, 运行时才能确定</p></li><li><p>多态机制下对象储存空间的大小(6-4)</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++></code></pre></td></tr></table></div></div></li><li><p>类A中每个对象都保存自己的虚函数表的地址, 这是实现多态的关键</p><ul><li>每个虚函数的类都有一个虚函数表, 编译器生成, 程序运行时载入</li></ul></li></ul></li></ol><h2 id=第二节-多态实例>第二节 多态实例<a hidden class=anchor aria-hidden=true href=#第二节-多态实例>#</a></h2><ul><li><p>使用多态处理图形示例</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++></code></pre></td></tr></table></div></div></li></ul><h2 id=第三节-多态的使用>第三节 多态的使用<a hidden class=anchor aria-hidden=true href=#第三节-多态的使用>#</a></h2><ul><li><p>在成员函数中调用虚函数(6-6)</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++></code></pre></td></tr></table></div></div></li><li><p>在构造函数和析构函数中调用虚函数(6-7)</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++></code></pre></td></tr></table></div></div></li><li><p>多态与非多态的对比(6-8)</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++></code></pre></td></tr></table></div></div></li></ul><h2 id=第四节-虚析构函数>第四节 虚析构函数<a hidden class=anchor aria-hidden=true href=#第四节-虚析构函数>#</a></h2><ul><li><p>只调用基类的析构函数, 只会完成该析构函数内的空间释放, 不会涉及派生类析构函数内的空间, 造成内存泄漏</p><ul><li><p>虚析构函数</p><ul><li><code>virtual ~类名();</code></li><li>没有返回值类型, 没有参数</li></ul></li><li><p>如果一个类的析构函数是虚函数, 则它的派生函数的析构函数都是虚函数</p></li><li><p>不使用虚析构函数的情况(6-9)</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++></code></pre></td></tr></table></div></div><ul><li>构造函数不能是虚函数</li></ul></li></ul></li></ul><h2 id=第五节-纯虚函数和抽象类>第五节 纯虚函数和抽象类<a hidden class=anchor aria-hidden=true href=#第五节-纯虚函数和抽象类>#</a></h2><ol><li><p>纯虚函数</p><ul><li>基类中某个虚函数不用给出确切的定义, 可以将它声明为纯虚函数<ul><li>相当于一个统一的接口形式</li></ul></li><li>基类中声明<ul><li>只有函数名, 不具备函数功能, 不能在基类中调用</li></ul></li><li>格式<ul><li><code>virtual 函数类型 函数名(参数表)=0;</code></li><li>参数表要写 <code>=0</code> 表示函数体, 派生类中必须重写这个函数</li></ul></li></ul></li><li><p>抽象类</p><ul><li><p>包含纯虚函数的类称为抽象类</p><ul><li>抽象类中有未完成的函数定义, 不能实例化对象</li><li>抽象类的派生类中, 如果没有给出全部纯虚函数的定义, 派生类继续是抽象类, 直到派生类中给出纯虚函数定义后, 才不是抽象类</li><li>可以定义抽象类的指针和引用, 指针访问派生类的成员, 具有多态性</li></ul></li><li><p>抽象类实例(6-10)</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++></code></pre></td></tr></table></div></div></li></ul></li><li><p>虚基类</p><ul><li><p>为了避免二义性, C++ 提供虚基类机制, 派生类中继承同一个间接基类的成员仅保留一个版本</p></li><li><p>定义虚基类的格式</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl>  <span class=k>class</span> <span class=err>派生类名 : </span><span class=nc>virtual</span> <span class=err>派生方式</span> <span class=err>基类名</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=err>派生类体</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>虚基类(6-11)</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++></code></pre></td></tr></table></div></div></li></ul></li></ol><h1 id=第七章-输入输出流>第七章 输入/输出流<a hidden class=anchor aria-hidden=true href=#第七章-输入输出流>#</a></h1><ul><li><code>cin cout</code> 重定向</li><li>格式控制</li><li>常见成员函数</li></ul><h2 id=第一节-流类简介>第一节 流类简介<a hidden class=anchor aria-hidden=true href=#第一节-流类简介>#</a></h2><ul><li><p>C++ 没有输入输出语句</p><ul><li>C++ 标准库中面向对象的 I/O 流类库，输入输出均通过流完成。流是 I/O 流类的核心概念。</li></ul></li><li><p>数据传输称为流</p><ul><li>读操作称为提取</li><li>写操作称为插入</li><li>输入输出的相关类称为流类</li></ul></li><li><p>常用 I/O 流类列表</p><table><thead><tr><th style=text-align:center>类名</th><th style=text-align:center>关键字</th><th style=text-align:center>说明</th><th style=text-align:center>包含文件</th></tr></thead><tbody><tr><td style=text-align:center>抽象流基类</td><td style=text-align:center><code>ios</code></td><td style=text-align:center>流基类</td><td style=text-align:center><code>ios</code></td></tr><tr><td style=text-align:center>输入流类</td><td style=text-align:center><code>istream</code></td><td style=text-align:center>通用输入流基类和其它输入流基类，<code>cin</code> 是该类对象</td><td style=text-align:center><code>istream</code></td></tr><tr><td style=text-align:center>输入流类</td><td style=text-align:center><code>ifstream</code></td><td style=text-align:center>文件输入流类，用于从文件读取数据</td><td style=text-align:center><code>ifstream</code></td></tr><tr><td style=text-align:center>输出流类</td><td style=text-align:center><code>ostream</code></td><td style=text-align:center>通用输出流基类和其它输出流基类，<code>cout</code> 是该类对象</td><td style=text-align:center><code>ostream</code></td></tr><tr><td style=text-align:center>输出流类</td><td style=text-align:center><code>ofstream</code></td><td style=text-align:center>文件输出流类，用于向其他文件写数据</td><td style=text-align:center><code>fstream</code></td></tr><tr><td style=text-align:center>输入输出流类</td><td style=text-align:center><code>iostream</code></td><td style=text-align:center>通用输入输出流基类和其它输入输出流类基类</td><td style=text-align:center><code>iostream</code></td></tr><tr><td style=text-align:center>输入输出流类</td><td style=text-align:center><code>fstream</code></td><td style=text-align:center>文件输入输出流类，读取和写入文件</td><td style=text-align:center><code>fstream</code></td></tr></tbody></table></li></ul><h2 id=第二节-标准流对象>第二节 标准流对象<a hidden class=anchor aria-hidden=true href=#第二节-标准流对象>#</a></h2><ul><li><p>标准流对象（也称为标准流），为用户提供外设与内存之间的通信通道，对数据进行解释和传输，和必要的数据缓冲等</p><ul><li><p>四个标准流对象</p><ul><li><code>cin</code> ：标准输入流<ul><li>关联输入设备（键盘），可以重定向为从文件读取数据</li></ul></li><li><code>cout</code>：标准输出流<ul><li>关联输出设备（显示器），可以重定向为向文件写入数据</li></ul></li><li><code>cerr</code>：非缓冲错误输出流<ul><li>关联标准错误信息输出设备（显示器），非缓冲，不能重定向</li></ul></li><li><code>clog</code>：缓冲错误输出流<ul><li>关联标准错误信息输出设备（显示器），缓冲，不能重定向</li></ul></li></ul></li><li><p>重定向函数 <code>freopen</code> 的原型如下</p><ul><li><code>FILE *freopen(const char *path, const char *mode, FILE *stream);</code></li><li><code>freopen()</code> 将 <code>stream</code> 按 <code>mode</code> 指定的模式重定向到路径 <code>path</code> 指向的文件，如果错误则关闭 stream 返回 NULL</li></ul></li><li><p>将标准输出 <code>cout</code> 重定向到文件(7-1)</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl>  <span class=cp>#include</span> <span class=cpf>&lt;iostream&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>  <span class=k>using</span> <span class=k>namespace</span> <span class=n>std</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=kt>int</span> <span class=nf>main</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kt>int</span> <span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>cin</span> <span class=o>&gt;&gt;</span> <span class=n>x</span> <span class=o>&gt;&gt;</span> <span class=n>y</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>freopen</span><span class=p>(</span><span class=s>&#34;test.txt&#34;</span><span class=p>,</span> <span class=s>&#34;w&#34;</span><span class=p>,</span> <span class=n>stdout</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=n>y</span> <span class=o>==</span> <span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=n>cerr</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;error.&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>else</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>x</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;/&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>y</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;=&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>x</span> <span class=o>/</span> <span class=n>y</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>标准输入重定向为文件(7-2)</p></li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl>    <span class=cp>#include</span> <span class=cpf>&lt;iostream&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>  <span class=k>using</span> <span class=k>namespace</span> <span class=n>std</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=nf>main</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=kt>int</span> <span class=n>x</span><span class=p>,</span> <span class=n>count</span><span class=p>,</span> <span class=n>sum</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=n>freopen</span><span class=p>(</span><span class=s>&#34;input.dat&#34;</span><span class=p>,</span> <span class=s>&#34;r&#34;</span><span class=p>,</span> <span class=n>stdin</span><span class=p>);</span> <span class=c1>//标准输入定向到文件
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=k>for</span> <span class=p>(</span><span class=n>count</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>count</span> <span class=o>&lt;</span> <span class=mi>10</span><span class=p>;</span> <span class=n>count</span><span class=o>++</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>cin</span> <span class=o>&gt;&gt;</span> <span class=n>x</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=n>sum</span> <span class=o>+=</span> <span class=n>x</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;前&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>count</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;个整数的平均值 = &#34;</span> <span class=o>&lt;&lt;</span> <span class=mf>1.0</span> <span class=o>*</span> <span class=n>sum</span> <span class=o>/</span> <span class=n>count</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><ul><li><code>ios</code> 中错误状态字</li></ul><table><thead><tr><th style=text-align:center>标识常量</th><th style=text-align:center>值</th><th style=text-align:center>含义</th></tr></thead><tbody><tr><td style=text-align:center><code>goodbit</code></td><td style=text-align:center>0X00</td><td style=text-align:center>流状态正常</td></tr><tr><td style=text-align:center><code>eofbit</code></td><td style=text-align:center>0X01</td><td style=text-align:center>文件结束符</td></tr><tr><td style=text-align:center><code>failbit</code></td><td style=text-align:center>0X02</td><td style=text-align:center>I/O 操作失败,数据未丢失,可恢复</td></tr><tr><td style=text-align:center><code>badbit</code></td><td style=text-align:center>0X04</td><td style=text-align:center>非法操作,数据丢失,不可恢复</td></tr></tbody></table><ul><li><code>ios</code> 中流相关的成员函数, 可直接使用</li></ul><ol><li><p>返回流是否结束</p><ul><li><code>int eof() const;</code><ul><li>是否遇到文件尾, 是则返回1, 否则返回0</li></ul></li><li>Ctrl+Z 表示输入流结束</li></ul></li><li><p>返回流是否处于正常状态</p><ul><li><code>int fail() const;</code></li></ul></li><li><p>判断流是否正常</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl>    <span class=kt>int</span> <span class=nf>good</span><span class=p>()</span> <span class=k>const</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=k>operator</span> <span class=kt>void</span> <span class=o>*</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=err>```</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=o>-</span> <span class=err>`</span><span class=n>eofbit</span> <span class=n>failbit</span> <span class=n>badbit</span><span class=err>`</span> <span class=err>是否为</span><span class=mi>0</span><span class=err>，否则返回</span><span class=mi>1</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>返回流是否处于失败状态</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl><span class=kt>int</span> <span class=nf>bad</span><span class=p>()</span> <span class=k>const</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=kt>int</span> <span class=k>operator</span> <span class=kt>void</span> <span class=o>!</span><span class=p>();</span>
</span></span></code></pre></td></tr></table></div></div><ul><li><code>eofbit failbit badbit</code> 是否为1，否则返回0</li></ul></li><li><p>返回状态字</p><ul><li><code>int rdstate() const;</code></li></ul></li><li><p>恢复状态字</p><ul><li><code>void clear(int nStata = 0 );</code></li></ul></li></ol><ul><li><p>标准输入重定向为文件并判断文件状态(7-3)</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl>  <span class=cp>#include</span> <span class=cpf>&lt;iostream&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>  <span class=k>using</span> <span class=k>namespace</span> <span class=n>std</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=kt>int</span> <span class=nf>main</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>x</span><span class=p>,</span> <span class=n>count</span><span class=p>,</span> <span class=n>sum</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>freopen</span><span class=p>(</span><span class=s>&#34;input.dat&#34;</span><span class=p>,</span> <span class=s>&#34;r&#34;</span><span class=p>,</span> <span class=n>stdin</span><span class=p>);</span> <span class=c1>//标准输入定向到文件
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>for</span> <span class=p>(</span><span class=n>count</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>count</span> <span class=o>&lt;</span> <span class=mi>10</span><span class=p>;</span> <span class=n>count</span><span class=o>++</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=n>cin</span> <span class=o>&gt;&gt;</span> <span class=n>x</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=k>if</span> <span class=p>(</span><span class=n>cin</span><span class=p>.</span><span class=n>eof</span><span class=p>())</span>
</span></span><span class=line><span class=cl>      <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>cin</span><span class=p>.</span><span class=n>eof</span><span class=p>()</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;结束&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>break</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=k>else</span>
</span></span><span class=line><span class=cl>      <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>x</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;,&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>sum</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=n>sum</span> <span class=o>+=</span> <span class=n>x</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=c1>// 遇到输出中文失败，程序不输出结果，代码编码问题，GB2312改为 UTF-8即可。
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;前&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>count</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;个整数的平均值 = &#34;</span> <span class=o>&lt;&lt;</span> <span class=mf>1.0</span> <span class=o>*</span> <span class=n>sum</span> <span class=o>/</span> <span class=n>count</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>将键盘输入的数据累加(7-4)</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl>  <span class=cp>#include</span> <span class=cpf>&lt;iostream&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>  <span class=k>using</span> <span class=k>namespace</span> <span class=n>std</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=kt>int</span> <span class=nf>main</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kt>char</span> <span class=n>ch</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>x</span><span class=p>,</span> <span class=n>count</span> <span class=o>=</span> <span class=mi>0</span><span class=p>,</span> <span class=n>sum</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;请输入整数 Ctrl+Z 退出&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>do</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>while</span> <span class=p>(</span><span class=n>cin</span> <span class=o>&gt;&gt;</span> <span class=n>x</span><span class=p>)</span>
</span></span><span class=line><span class=cl>      <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>sum</span> <span class=o>+=</span> <span class=n>x</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=n>count</span><span class=o>++</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;确认退出请输入 Q&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=n>cin</span><span class=p>.</span><span class=n>clear</span><span class=p>();</span>
</span></span><span class=line><span class=cl>      <span class=n>cin</span> <span class=o>&gt;&gt;</span> <span class=n>ch</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span> <span class=k>while</span> <span class=p>(</span><span class=n>toupper</span><span class=p>(</span><span class=n>ch</span><span class=p>)</span> <span class=o>!=</span> <span class=sc>&#39;Q&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;sum=&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>sum</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;,count=&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>count</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li></ul></li></ul><h2 id=第三节-控制-io-格式>第三节 控制 IO 格式<a hidden class=anchor aria-hidden=true href=#第三节-控制-io-格式>#</a></h2><ol><li><p>流操纵符</p><ul><li><p>C++ 中常见数据类型的默认 I/O 格式</p><table><thead><tr><th>I/O 的数据类型</th><th>默认的输入格式</th><th>默认的输出格式</th></tr></thead><tbody><tr><td><code>short/int/long(signed / unsigned)</code></td><td>与整数型常数相同</td><td>一般整数形式，复数前面有负号</td></tr><tr><td><code>float/double/long/double</code></td><td>与浮点数相同</td><td>浮点或指数格式，取决于哪个更短</td></tr><tr><td><code>char *(signed/unsigned)</code></td><td>从第一个空白字符（空格、\t、\n)开始到下个空白字符</td><td>字符序列（无引号）</td></tr><tr><td><code>char *(signed/unsigned)</code></td><td>第一个非空白字符</td><td>字符序列（无引号）</td></tr><tr><td><code>void*</code></td><td>无前缀的十六进制数</td><td>无前缀的十六进制数</td></tr><tr><td><code>Bool</code></td><td><code>将true</code>或 <code>1</code> 识别为<code>true</code>，或反过来</td><td><code>1或0</code></td></tr></tbody></table></li><li><p><code>iostream</code> 中常用流操纵符</p><table><thead><tr><th>流操纵符</th><th>作用</th><th>输入/输出</th></tr></thead><tbody><tr><td><code>endl</code></td><td>输出一个新行符，并清空流</td><td><code>O</code></td></tr><tr><td><code>ends</code></td><td>输出字符串结束，并清空流</td><td><code>O</code></td></tr><tr><td><code>flush</code></td><td>清空流缓冲区</td><td><code>O</code></td></tr><tr><td><code>dec*</code></td><td>以十进制形式输入输出整数</td><td><code>I/O</code></td></tr><tr><td><code>hex</code></td><td>以十六进制形式输入输出整数</td><td><code>I/O</code></td></tr><tr><td><code>oct</code></td><td>以八进制形式输入输出整数</td><td><code>I/O</code></td></tr><tr><td><code>ws</code></td><td>提取空白字符</td><td><code>O</code></td></tr></tbody></table><ul><li><code>*</code> 表示默认设置，不属于操纵符的一部分</li></ul></li><li><p>常用的用于格式控制的流操纵符</p><table><thead><tr><th>流操纵符</th><th>作用</th></tr></thead><tbody><tr><td><code>fixed</code></td><td>普通小数形式输出浮点数</td></tr><tr><td><code>scientific</code></td><td>科学计数法形式输出浮点数</td></tr><tr><td><code>left</code></td><td>左对齐，宽度不足时填充字符到右边</td></tr><tr><td><code>right *</code></td><td>右对齐，宽度不足时填充字符到左边</td></tr><tr><td><code>setbase(int b)</code></td><td>设置输出整数时的进制，<code>b</code>为8、10、16</td></tr><tr><td><code>setw(int w)</code></td><td>指定输出宽度为 w 个字符，或输入字符串时读入w个字符。一次有效</td></tr><tr><td><code>setfill(int c)</code></td><td>指定输出宽度，宽度不足时用ASCII码为c的字符填充（默认空格）</td></tr><tr><td><code>setpercision(int n)</code></td><td><strong>设置浮点数精度 n, 默认 n 为有效数字位数</strong>，<code>fixed/scientific</code>后n是小数点后保留位数</td></tr><tr><td><code>setiosflags(fmtfalgs f)</code></td><td>通用操作符。将格式标志f对应的格式标志位置为1</td></tr><tr><td><code>resetiosflags(fmtfalgs f)</code></td><td>通用操作符。将格式标志f对应的格式标志位置为0（清除）</td></tr><tr><td><code>boolapha</code></td><td>把<code>true</code> 和 <code>false</code> 输出为字符串</td></tr><tr><td><code>noboolalpha *</code></td><td>把<code>true</code> 和 <code>false</code> 输出为1和0</td></tr><tr><td><code>showbase</code></td><td>输出表示数值进制的前缀</td></tr><tr><td><code>noshowbase *</code></td><td>不输出表示数值进制的前缀</td></tr><tr><td><code>showpoint</code></td><td>总是输出小数点</td></tr><tr><td><code>noshowpoint *</code></td><td>只有当小数部分存在时输出小数点</td></tr><tr><td><code>showpos</code></td><td>非负数值中显示+</td></tr><tr><td><code>noshowpos *</code></td><td>非负数值中不显示+</td></tr><tr><td><code>skipws *</code></td><td>输入时跳过空白字符</td></tr><tr><td><code>noskipws</code></td><td>输入时不跳过空白字符</td></tr><tr><td><code>uppercase</code></td><td>十六进制数中使用 A-E。若输出前缀，为0X，科学计数法输出 E</td></tr><tr><td><code>no uppercase*</code></td><td>十六进制数中使用 a-e。若输出前缀，为0x，科学计数法输出 e</td></tr><tr><td><code>internal</code></td><td>数值的符号（正负号）指定宽度内左对齐，数值右对齐，中间填充字符</td></tr></tbody></table></li><li><p>使用流操纵符控制整数输出(7-5)</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl>  <span class=cp>#include</span> <span class=cpf>&lt;iostream&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>  <span class=cp>#include</span> <span class=cpf>&lt;iomanip&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>  <span class=k>using</span> <span class=k>namespace</span> <span class=n>std</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=kt>int</span> <span class=nf>main</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>n</span> <span class=o>=</span> <span class=mi>65535</span><span class=p>,</span> <span class=n>m</span> <span class=o>=</span> <span class=mi>20</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=c1>//分别输出一个整数的十进制 十六进制 八进制
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;十进制：&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>n</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;=&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>hex</span> <span class=o>&lt;&lt;</span> <span class=n>n</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;=&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>oct</span> <span class=o>&lt;&lt;</span> <span class=n>n</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=c1>//使用 setbase 分别输出一个整数的十进制、十六进制和八进制
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>setbase</span><span class=p>(</span><span class=mi>10</span><span class=p>)</span> <span class=o>&lt;&lt;</span> <span class=n>m</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;=&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>setbase</span><span class=p>(</span><span class=mi>16</span><span class=p>)</span> <span class=o>&lt;&lt;</span> <span class=n>m</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;=&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>setbase</span><span class=p>(</span><span class=mi>8</span><span class=p>)</span> <span class=o>&lt;&lt;</span> <span class=n>m</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=c1>//使用 showbase 和 setbase 分别输出一个整数 十进制、十六进制、八进制
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>showbase</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>setbase</span><span class=p>(</span><span class=mi>10</span><span class=p>)</span> <span class=o>&lt;&lt;</span> <span class=n>m</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;=&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>setbase</span><span class=p>(</span><span class=mi>16</span><span class=p>)</span> <span class=o>&lt;&lt;</span> <span class=n>m</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;=&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>setbase</span><span class=p>(</span><span class=mi>8</span><span class=p>)</span> <span class=o>&lt;&lt;</span> <span class=n>m</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>使用流操纵符控制浮点数输出(7-6)</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl>  <span class=cp>#include</span> <span class=cpf>&lt;iostream&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>  <span class=cp>#include</span> <span class=cpf>&lt;iomanip&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>  <span class=k>using</span> <span class=k>namespace</span> <span class=n>std</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=kt>int</span> <span class=nf>main</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kt>double</span> <span class=n>x</span> <span class=o>=</span> <span class=mf>1234567.89</span><span class=p>,</span> <span class=n>y</span> <span class=o>=</span> <span class=mf>1.23456789</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=c1>//无格式控制
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;无格式控制：</span><span class=se>\t\t</span><span class=s> x=(&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>x</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;),y=(&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>y</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;)</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>//保留5位有效数字
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;保留5位有效数字：</span><span class=se>\t\t</span><span class=s> x=(&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>setprecision</span><span class=p>(</span><span class=mi>5</span><span class=p>)</span> <span class=o>&lt;&lt;</span> <span class=n>x</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;),y=(&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>y</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;)</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>//保留小数点后5位
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;保留小数点后5位：</span><span class=se>\t\t</span><span class=s> x=(&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>fixed</span> <span class=o>&lt;&lt;</span> <span class=n>setprecision</span><span class=p>(</span><span class=mi>5</span><span class=p>)</span> <span class=o>&lt;&lt;</span> <span class=n>x</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;),y=(&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>y</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;)</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>//科学计数法，保留小数点后5位
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;科学计数法，保留小数点后5位：</span><span class=se>\t\t</span><span class=s> x=(&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>scientific</span> <span class=o>&lt;&lt;</span> <span class=n>setprecision</span><span class=p>(</span><span class=mi>5</span><span class=p>)</span> <span class=o>&lt;&lt;</span> <span class=n>x</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;),y=(&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>y</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;)</span><span class=se>\n</span><span class=s>&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>//非负数显示正号，输出宽度为12字符，宽度不足时用‘*’填补
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;非负数显示正号：</span><span class=se>\t\t</span><span class=s> &#34;</span> <span class=o>&lt;&lt;</span> <span class=n>showpos</span> <span class=o>&lt;&lt;</span> <span class=n>fixed</span> <span class=o>&lt;&lt;</span> <span class=n>setw</span><span class=p>(</span><span class=mi>12</span><span class=p>)</span> <span class=o>&lt;&lt;</span> <span class=n>setfill</span><span class=p>(</span><span class=sc>&#39;*&#39;</span><span class=p>)</span> <span class=o>&lt;&lt;</span> <span class=n>y</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>//非负数不显示正号，输出宽度为12字符，宽度不足时右边用填充字符填充
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;不显示正号，右边用填充字符填充：</span><span class=se>\t\t</span><span class=s> &#34;</span> <span class=o>&lt;&lt;</span> <span class=n>noshowpos</span> <span class=o>&lt;&lt;</span> <span class=n>left</span> <span class=o>&lt;&lt;</span> <span class=n>setw</span><span class=p>(</span><span class=mi>12</span><span class=p>)</span> <span class=o>&lt;&lt;</span> <span class=n>y</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>//输出宽度为12字符，宽度不足时左边用填充字符填充
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;左边用填充字符填充：</span><span class=se>\t\t</span><span class=s> &#34;</span> <span class=o>&lt;&lt;</span> <span class=n>showpos</span> <span class=o>&lt;&lt;</span> <span class=n>right</span> <span class=o>&lt;&lt;</span> <span class=n>setw</span><span class=p>(</span><span class=mi>12</span><span class=p>)</span> <span class=o>&lt;&lt;</span> <span class=n>y</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=c1>//宽度不足时，负号和数值分列左右，中间用填充字符填充
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;中间用填充字符填充：</span><span class=se>\t\t</span><span class=s> &#34;</span> <span class=o>&lt;&lt;</span> <span class=n>showpos</span> <span class=o>&lt;&lt;</span> <span class=n>internal</span> <span class=o>&lt;&lt;</span> <span class=n>setw</span><span class=p>(</span><span class=mi>12</span><span class=p>)</span> <span class=o>&lt;&lt;</span> <span class=o>-</span><span class=n>y</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>通过 <code>setw()</code> 控制输入格式(7-7)</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl>  <span class=cp>#include</span> <span class=cpf>&lt;iostream&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>  <span class=cp>#include</span> <span class=cpf>&lt;iomanip&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>  <span class=k>using</span> <span class=k>namespace</span> <span class=n>std</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=kt>int</span> <span class=nf>main</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>string</span> <span class=n>s1</span><span class=p>,</span> <span class=n>s2</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>cin</span> <span class=o>&gt;&gt;</span> <span class=n>setw</span><span class=p>(</span><span class=mi>5</span><span class=p>)</span> <span class=o>&gt;&gt;</span> <span class=n>s1</span> <span class=o>&gt;&gt;</span> <span class=n>setw</span><span class=p>(</span><span class=mi>3</span><span class=p>)</span> <span class=o>&gt;&gt;</span> <span class=n>s2</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;s1=&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>s1</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;,s2=&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>s2</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li></ul></li><li><p>标志字</p><ul><li><p>常见格式标志常量及含义</p><table><thead><tr><th>标志常量名</th><th>值</th><th>含义</th><th>输入/输出</th></tr></thead><tbody><tr><td><code>ios::skipws</code></td><td>0X0001</td><td>跳过输入中的空白</td><td><code>I</code></td></tr><tr><td><code>ios::left</code></td><td>0X0002</td><td>按输出左对齐，填充字符右边</td><td><code>O</code></td></tr><tr><td><code>ios::right</code></td><td>0X0004</td><td>按输出右对齐，填充字符左边</td><td><code>O</code></td></tr><tr><td><code>ios::internal</code></td><td>0X0008</td><td>在符号位或基数指示符后填入字符</td><td><code>O</code></td></tr><tr><td><code>ios::dec *</code></td><td>0X0010</td><td>转换为十进制基数形式</td><td><code>I/O</code></td></tr><tr><td><code>ios::oct</code></td><td>0X0020</td><td>转换为八进制基数形式</td><td><code>I/O</code></td></tr><tr><td><code>ios::hex</code></td><td>0X0040</td><td>转换为十六进制基数形式</td><td><code>I/O</code></td></tr><tr><td><code>ios::showbase</code></td><td>0X0080</td><td>在输出中显示基数指示符</td><td><code>O</code></td></tr><tr><td><code>ios::showpoint</code></td><td>0X0100</td><td>在输出浮点数时必须带小数点和尾部的 0</td><td><code>O</code></td></tr><tr><td><code>ios::uppercase</code></td><td>0X0200</td><td>以大写字母表示十六进制数，科学计数法使用大写字母 E</td><td><code>O</code></td></tr><tr><td><code>ios::showpos</code></td><td>0X0400</td><td>正数前加 + 号</td><td><code>O</code></td></tr><tr><td><code>ios::scentific</code></td><td>0X0800</td><td>科学计数法显示浮点数</td><td><code>O</code></td></tr><tr><td><code>ios::fixed</code></td><td>0X1000</td><td>定点法表示浮点数</td><td><code>O</code></td></tr><tr><td><code>ios::unitbuf</code></td><td>0X2000</td><td>插入操作后立即刷新流</td><td><code>O</code></td></tr></tbody></table><ul><li>标志常量实际是在一个整数中仅将某一个二进制位设为 1，其它清零。</li><li>设置多个标志，用位或 <code>|</code> 运算符连接</li><li>流格式标志每一位表示一种格式，会有相互制约；矛盾时清除原来的标志</li></ul></li><li><p>清除同类互斥位</p><ul><li><p><code>ios::basefield</code> <code>值为 dec | oct | hex</code></p></li><li><p><code>ios::adjustifield</code> <code>值为 left | right | internal</code></p></li><li><p><code>ios::floatfield</code> <code>值为 scientific | fixed</code></p></li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl>  <span class=n>cout</span> <span class=nf>setf</span><span class=p>(</span><span class=n>ios</span><span class=o>::</span><span class=n>oct</span><span class=p>,</span><span class=n>ios</span><span class=o>::</span><span class=n>basefield</span><span class=p>);</span><span class=c1>//示例，标准流为八进制基数形式插入
</span></span></span></code></pre></td></tr></table></div></div></li><li><p>通过 <code>setiosflags()</code> 设置标志字进行格式控制(7-8)</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl>  <span class=cp>#include</span> <span class=cpf>&lt;iostream&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>  <span class=cp>#include</span> <span class=cpf>&lt;iomanip&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>  <span class=k>using</span> <span class=k>namespace</span> <span class=n>std</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=kt>int</span> <span class=nf>main</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kt>double</span> <span class=n>x</span> <span class=o>=</span> <span class=mf>12.34</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;1)&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>setiosflags</span><span class=p>(</span><span class=n>ios</span><span class=o>::</span><span class=n>scientific</span> <span class=o>|</span> <span class=n>ios</span><span class=o>::</span><span class=n>showpos</span><span class=p>)</span> <span class=o>&lt;&lt;</span> <span class=n>x</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;2)&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>resetiosflags</span><span class=p>(</span><span class=n>ios</span><span class=o>::</span><span class=n>scientific</span> <span class=o>|</span> <span class=n>ios</span><span class=o>::</span><span class=n>showpos</span><span class=p>)</span> <span class=o>&lt;&lt;</span> <span class=n>setiosflags</span><span class=p>(</span><span class=n>ios</span><span class=o>::</span><span class=n>showbase</span><span class=p>)</span> <span class=o>&lt;&lt;</span> <span class=n>x</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;3)&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>resetiosflags</span><span class=p>(</span><span class=n>ios</span><span class=o>::</span><span class=n>fixed</span><span class=p>)</span>
</span></span><span class=line><span class=cl>         <span class=o>&lt;&lt;</span> <span class=n>setiosflags</span><span class=p>(</span><span class=n>ios</span><span class=o>::</span><span class=n>scientific</span> <span class=o>|</span> <span class=n>ios</span><span class=o>::</span><span class=n>showpos</span><span class=p>)</span> <span class=o>&lt;&lt;</span> <span class=n>x</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;4)&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>resetiosflags</span><span class=p>(</span><span class=n>ios</span><span class=o>::</span><span class=n>showpos</span><span class=p>)</span> <span class=o>&lt;&lt;</span> <span class=n>x</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;5)&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>resetiosflags</span><span class=p>(</span><span class=n>ios</span><span class=o>::</span><span class=n>scientific</span><span class=p>)</span> <span class=o>&lt;&lt;</span> <span class=n>setiosflags</span><span class=p>(</span><span class=n>ios</span><span class=o>::</span><span class=n>fixed</span><span class=p>)</span> <span class=o>&lt;&lt;</span> <span class=n>x</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li></ul></li></ol><h2 id=第四节-调用-cout-的成员函数>第四节 调用 cout 的成员函数<a hidden class=anchor aria-hidden=true href=#第四节-调用-cout-的成员函数>#</a></h2><ul><li><p>常见用于控制格式的成员函数原型如下</p><ol><li>设置和返回标志字<ul><li><code>long flag(long 1Flags);</code><ul><li>使用参数 1Flags 设置（替换）标志字，返回设置前标志字</li></ul></li><li><code>long flag() const;</code></li><li>返回当前标志字</li></ul></li><li>设置标志位<ul><li><code>long setf(long 1Flags);</code><ul><li>使用参数 1Flags 置位标志字，返回置位前标志字</li></ul></li><li><code>long setf(long 1Flags, long 1Mask);</code><ul><li>1Mask 指定标志位清零，设置 1Flags 标志位，返回更新前标志字</li></ul></li></ul></li><li>清除标志位<ul><li><code>long unsetf(long 1Flags);</code><ul><li>清除参数 1Flags 指定的标志位，返回清除前的标志字</li><li>标志位与 <code>setiosflags()</code> 用到的参数相同</li></ul></li></ul></li><li>设置和返回输出宽度<ul><li><code>int width(int nw);</code><ul><li>将下一个输出项的显示宽度设置为 nw。如果nw 大于数据所需宽度，则右对齐。如果nw 小于数据所需宽度，则 nw 无效。一次性有效。</li></ul></li><li><code>int width() const;</code><ul><li>返回值为当前的输出宽度值</li></ul></li></ul></li><li>设置填充字符<ul><li><code>char fill(char cFill);</code><ul><li>设置宽度大于数据所需宽度时，参数 cFill 填充空白。</li></ul></li><li><code>char fill() const;</code><ul><li>返回当前使用的填充符</li></ul></li></ul></li><li>设置数据显示精度<ul><li><code>int percision(int np);</code><ul><li>用参数np 设置数据显示精度。浮点数 np 表示小数点后的数字位数。科学计数法np 表示尾数精度位数（包括小数点）。</li></ul></li><li><code>int precision() const;</code><ul><li>返回当前数据显示精度。</li></ul></li></ul></li></ol></li><li><p><code>ostream</code> 类的成员函数及作用相同的流操作符</p><table><thead><tr><th>成员函数</th><th>作用相同的流操作符</th></tr></thead><tbody><tr><td><code>precision(int p)</code></td><td><code>setprecision(np)</code></td></tr><tr><td><code>width(int nw)</code></td><td><code>setw(nw)</code></td></tr><tr><td><code>fill(char cFill)</code></td><td><code>setfill(cFill)</code></td></tr><tr><td><code>setf(long IFlags)</code></td><td><code>setiosflags(IFlags)</code></td></tr><tr><td><code>unsetf(long IFlags)</code></td><td><code>resetioslags(IFlags)</code></td></tr></tbody></table></li><li><p>使用 cout 中的函数控制输出格式(7-9)</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl>  <span class=cp>#include</span> <span class=cpf>&lt;iostream&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>  <span class=cp>#include</span> <span class=cpf>&lt;iomanip&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>  <span class=k>using</span> <span class=k>namespace</span> <span class=n>std</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=kt>int</span> <span class=nf>main</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kt>double</span> <span class=n>values</span><span class=p>[]</span> <span class=o>=</span> <span class=p>{</span><span class=mf>1.23</span><span class=p>,</span> <span class=mf>20.3456</span><span class=p>,</span> <span class=mf>300.4567</span><span class=p>,</span> <span class=mf>4000.56789</span><span class=p>,</span> <span class=mf>50000.1234567</span><span class=p>};</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span><span class=p>.</span><span class=n>fill</span><span class=p>(</span><span class=sc>&#39;*&#39;</span><span class=p>);</span> <span class=c1>//填充*
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=k>sizeof</span><span class=p>(</span><span class=n>values</span><span class=p>)</span> <span class=o>/</span> <span class=k>sizeof</span><span class=p>(</span><span class=kt>double</span><span class=p>);</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;values[&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>i</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;]=(&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=n>cout</span><span class=p>.</span><span class=n>width</span><span class=p>(</span><span class=mi>10</span><span class=p>);</span> <span class=c1>//设置宽度
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>values</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;)&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span><span class=p>.</span><span class=n>fill</span><span class=p>(</span><span class=sc>&#39; &#39;</span><span class=p>);</span> <span class=c1>//填充空格
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>for</span> <span class=p>(</span><span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>i</span> <span class=o>&lt;</span> <span class=k>sizeof</span><span class=p>(</span><span class=n>values</span><span class=p>)</span> <span class=o>/</span> <span class=k>sizeof</span><span class=p>(</span><span class=kt>double</span><span class=p>);</span> <span class=n>i</span><span class=o>++</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;values[&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>i</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;]=(&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=n>cout</span><span class=p>.</span><span class=n>width</span><span class=p>(</span><span class=mi>10</span><span class=p>);</span>        <span class=c1>//设置宽度
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=n>cout</span><span class=p>.</span><span class=n>precision</span><span class=p>(</span><span class=n>i</span> <span class=o>+</span> <span class=mi>3</span><span class=p>);</span> <span class=c1>//设置保留有效数字
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>values</span><span class=p>[</span><span class=n>i</span><span class=p>]</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;)&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>使用 cout() 函数(7-10)</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl>  <span class=cp>#include</span> <span class=cpf>&lt;iostream&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>  <span class=cp>#include</span> <span class=cpf>&lt;iomanip&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>  <span class=k>using</span> <span class=k>namespace</span> <span class=n>std</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=kt>int</span> <span class=nf>main</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kt>char</span> <span class=n>c</span> <span class=o>=</span> <span class=sc>&#39;a&#39;</span><span class=p>,</span> <span class=n>str</span><span class=p>[</span><span class=mi>80</span><span class=p>]</span> <span class=o>=</span> <span class=s>&#34;1234567890abcdefghijklmn&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>x</span> <span class=o>=</span> <span class=mi>65</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;cout.put(&#39;a&#39;):&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span><span class=p>.</span><span class=n>put</span><span class=p>(</span><span class=sc>&#39;a&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;</span><span class=se>\n</span><span class=s>cout.put(c+25):&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span><span class=p>.</span><span class=n>put</span><span class=p>(</span><span class=n>c</span> <span class=o>+</span> <span class=mi>25</span><span class=p>);</span> <span class=c1>//字母转换成整数再相加
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;</span><span class=se>\n</span><span class=s>cout.put(x):&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span><span class=p>.</span><span class=n>put</span><span class=p>(</span><span class=n>x</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;</span><span class=se>\n</span><span class=s>cout.put(str,20):&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span><span class=p>.</span><span class=n>write</span><span class=p>(</span><span class=n>str</span><span class=p>,</span> <span class=mi>20</span><span class=p>);</span> <span class=c1>//将str的前20个字节输入到流中
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li></ul><h2 id=第五节-调用-cin-的成员函数>第五节 调用 cin 的成员函数<a hidden class=anchor aria-hidden=true href=#第五节-调用-cin-的成员函数>#</a></h2><ol><li><p><code>get()</code> 函数，只介绍常用的</p><ul><li><p><code>int get()</code></p></li><li><p>从输入流中读入一个字符（包括空白），返回值就是该字符的ASII 码。如果碰到输入结束符，则返回值为系统常量 EOF（End Of File，文件结束标记）。</p></li><li><p>采用 EOF 判断输入是否结束(7-11)</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl>  <span class=cp>#include</span> <span class=cpf>&lt;iostream&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>  <span class=cp>#include</span> <span class=cpf>&lt;iomanip&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>  <span class=k>using</span> <span class=k>namespace</span> <span class=n>std</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=kt>int</span> <span class=nf>main</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>n</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kt>char</span> <span class=n>ch</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>while</span> <span class=p>(</span><span class=n>ch</span> <span class=o>=</span> <span class=n>cin</span><span class=p>.</span><span class=n>get</span><span class=p>()</span> <span class=o>!=</span> <span class=n>EOF</span><span class=p>)</span> <span class=c1>//遇到结束符才推出
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=n>cout</span><span class=p>.</span><span class=n>put</span><span class=p>(</span><span class=n>ch</span><span class=p>);</span>
</span></span><span class=line><span class=cl>      <span class=n>n</span><span class=o>++</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;输入字符统计：&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>n</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><ul><li><code>Ctrl + Z</code> 和 <code>Enter</code> 键代表文件结束</li></ul></li></ul></li><li><p><code>getline()</code> 函数</p><ul><li><p><code>istream & getline(char * buf, int bufSize);</code></p><ul><li>从输入流中的当前字符开始读取 <code>bufSize-1</code> 个字符到缓冲区 <code>buf</code> ，或读到 <code>\n</code> 为止。函数会在 <code>buf</code> 中读入数据的结尾自动添加串结束标记 <code>\0</code>。</li></ul></li><li><p><code>istream & getline(char * buf, int bufSize, char delim);</code></p><ul><li>从输入流中的当前字符开始读取 <code>bufSize-1</code> 个字符到缓冲区 <code>buf</code> ，或读到字符 <code>delim</code> 为止。函数会在 <code>buf</code> 中读入数据的结尾自动添加串结束标记 <code>\0</code>。</li></ul></li><li><p><code>getline()</code> 函数功能演示(7-12)</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl>  <span class=cp>#include</span> <span class=cpf>&lt;iostream&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>  <span class=cp>#include</span> <span class=cpf>&lt;iomanip&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>  <span class=k>using</span> <span class=k>namespace</span> <span class=n>std</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=kt>int</span> <span class=nf>main</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kt>char</span> <span class=n>buf</span><span class=p>[</span><span class=mi>10</span><span class=p>];</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>while</span> <span class=p>(</span><span class=n>cin</span><span class=p>.</span><span class=n>getline</span><span class=p>(</span><span class=n>buf</span><span class=p>,</span> <span class=mi>10</span><span class=p>))</span> <span class=c1>//输入超过九个就会出错
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=o>++</span><span class=n>i</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;:&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>buf</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;last:&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>buf</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li></ul></li><li><p><code>eof()</code> 函数</p><ul><li><p><code>bool eof();</code></p><ul><li>用于判断输入流是否已经结束，返回 ture 表示结束</li></ul></li></ul></li><li><p><code>ignore()</code> 函数</p><ul><li><p><code>istream & ignore(int n=1, int delim = EOF);</code></p><ul><li>跳过输入流中的 <code>n</code> 个字符，或跳过 delim 之前的所有字符。默认跳过一个字符</li></ul></li><li><p>从输入的字符串中提取电话号码(7-13)</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl>  <span class=cp>#include</span> <span class=cpf>&lt;iostream&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>  <span class=cp>#include</span> <span class=cpf>&lt;iomanip&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>  <span class=k>using</span> <span class=k>namespace</span> <span class=n>std</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=kt>int</span> <span class=nf>main</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kt>char</span> <span class=n>str</span><span class=p>[</span><span class=mi>30</span><span class=p>];</span>
</span></span><span class=line><span class=cl>    <span class=k>while</span> <span class=p>(</span><span class=o>!+</span><span class=n>cin</span><span class=p>.</span><span class=n>eof</span><span class=p>())</span> <span class=c1>//当输入流没有结束时继续循环
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=n>cin</span><span class=p>.</span><span class=n>ignore</span><span class=p>(</span><span class=mi>10</span><span class=p>,</span> <span class=sc>&#39;:&#39;</span><span class=p>);</span> <span class=c1>//在cin流中跳过&#39;:&#39;之前的全部字符
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=k>if</span> <span class=p>(</span><span class=o>!</span><span class=n>cin</span><span class=p>.</span><span class=n>eof</span><span class=p>())</span>      <span class=c1>//输入流没有结束
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>cin</span> <span class=o>&gt;&gt;</span> <span class=n>str</span><span class=p>;</span> <span class=c1>//输入电话号码
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>str</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li></ul></li><li><p><code>peek()</code> 函数</p><ul><li><p><code>int peek();</code></p><ul><li>返回输入流中的当前字符，只读不操作</li></ul></li><li><p>日期格式转换(7-14)</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl>  <span class=cp>#include</span> <span class=cpf>&lt;iostream&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>  <span class=cp>#include</span> <span class=cpf>&lt;iomanip&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>  <span class=k>using</span> <span class=k>namespace</span> <span class=n>std</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>string</span> <span class=n>Months</span><span class=p>[</span><span class=mi>13</span><span class=p>]</span> <span class=o>=</span> <span class=p>{</span><span class=s>&#34;&#34;</span><span class=p>,</span> <span class=s>&#34;Jan&#34;</span><span class=p>,</span> <span class=s>&#34;Feb&#34;</span><span class=p>,</span> <span class=s>&#34;Mar&#34;</span><span class=p>,</span> <span class=s>&#34;Apr&#34;</span><span class=p>,</span> <span class=s>&#34;May&#34;</span><span class=p>,</span> <span class=s>&#34;Jun&#34;</span><span class=p>,</span> <span class=s>&#34;Jul&#34;</span><span class=p>,</span> <span class=s>&#34;Aug&#34;</span><span class=p>,</span> <span class=s>&#34;Sep&#34;</span><span class=p>,</span> <span class=s>&#34;Oct&#34;</span><span class=p>,</span> <span class=s>&#34;Nov&#34;</span><span class=p>,</span> <span class=s>&#34;Dec&#34;</span><span class=p>};</span> <span class=c1>//西文格式的月份
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=kt>int</span> <span class=nf>main</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kt>char</span> <span class=n>ch</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>year</span><span class=p>,</span> <span class=n>month</span><span class=p>,</span> <span class=n>day</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>while</span> <span class=p>((</span><span class=n>ch</span> <span class=o>=</span> <span class=n>cin</span><span class=p>.</span><span class=n>peek</span><span class=p>())</span> <span class=o>!=</span> <span class=n>EOF</span><span class=p>)</span> <span class=c1>//取输入流的第一个字符查看
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>if</span> <span class=p>(</span><span class=n>ch</span> <span class=o>&gt;</span> <span class=o>+</span><span class=sc>&#39;A&#39;</span> <span class=o>&amp;&amp;</span> <span class=n>ch</span> <span class=o>&lt;</span> <span class=sc>&#39;Z&#39;</span><span class=p>)</span> <span class=c1>//处理西文格式
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>string</span> <span class=n>sMonth</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=n>cin</span> <span class=o>&gt;&gt;</span> <span class=n>sMonth</span> <span class=o>&gt;&gt;</span> <span class=n>day</span> <span class=o>&gt;&gt;</span> <span class=n>year</span><span class=p>;</span> <span class=c1>//接收：月、日、年
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=c1>// 查找月份完成转换
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=k>for</span> <span class=p>(</span><span class=n>month</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=n>month</span> <span class=o>&lt;</span> <span class=mi>12</span> <span class=o>&amp;&amp;</span> <span class=n>sMonth</span> <span class=o>!=</span> <span class=n>Months</span><span class=p>[</span><span class=n>month</span><span class=p>];</span> <span class=o>++</span><span class=n>month</span><span class=p>)</span>
</span></span><span class=line><span class=cl>          <span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=k>else</span>
</span></span><span class=line><span class=cl>      <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>cin</span> <span class=o>&gt;&gt;</span> <span class=n>year</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=n>cin</span><span class=p>.</span><span class=n>ignore</span><span class=p>()</span> <span class=o>&gt;&gt;</span> <span class=n>month</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=n>cin</span><span class=p>.</span><span class=n>ignore</span><span class=p>()</span> <span class=o>&gt;&gt;</span> <span class=n>day</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=c1>// 以上三条语句等价于 cin&gt;&gt;year&gt;&gt;ch&gt;&gt;month&gt;&gt;ch&gt;&gt;day;
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=n>cin</span><span class=p>.</span><span class=n>ignore</span><span class=p>();</span>
</span></span><span class=line><span class=cl>      <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>setfill</span><span class=p>(</span><span class=sc>&#39;0&#39;</span><span class=p>)</span> <span class=o>&lt;&lt;</span> <span class=n>setw</span><span class=p>(</span><span class=mi>2</span><span class=p>)</span> <span class=o>&lt;&lt;</span> <span class=n>month</span><span class=p>;</span>
</span></span><span class=line><span class=cl>      <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;-&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>setw</span><span class=p>(</span><span class=mi>2</span><span class=p>)</span> <span class=o>&lt;&lt;</span> <span class=n>day</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;-&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>setw</span><span class=p>(</span><span class=mi>4</span><span class=p>)</span> <span class=o>&lt;&lt;</span> <span class=n>year</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li></ul></li></ol><h1 id=第八章-文件操作>第八章 文件操作<a hidden class=anchor aria-hidden=true href=#第八章-文件操作>#</a></h1><ul><li>文件</li><li>ifstream、ofstream、fstream</li><li>顺序访问和随机访问，文件读写指针和移动文件指针</li></ul><h2 id=第一节-文件基本概念和文件流类>第一节 文件基本概念和文件流类<a hidden class=anchor aria-hidden=true href=#第一节-文件基本概念和文件流类>#</a></h2><ol><li><p>文件的概念</p><ul><li>编码方式<ul><li>文本文件</li><li>二进制文件</li></ul></li><li>存储方式<ul><li>顺序存储文件</li><li>随机存储文件</li></ul></li><li>基本操作<ul><li>读文件（输入）</li><li>写文件（输出）</li></ul></li><li>本质都是二进制文件</li></ul></li><li><p>C++ 文件流类</p><ul><li>文件是物理概念，流是逻辑概念</li><li>标准库内三个流类可用于文件操作，统称为文件流类<ol><li><code>ifstream</code>：用于文件中读取数据</li><li><code>ofstream</code>：用于向文件中写入数据</li><li><code>fstream</code>：既可用于读取，也可写入</li></ol></li></ul></li></ol><h2 id=第二节-打开和关闭文件>第二节 打开和关闭文件<a hidden class=anchor aria-hidden=true href=#第二节-打开和关闭文件>#</a></h2><ol><li><p>打开文件</p><ul><li><p>打开方式</p><ol><li><p>建立流对象，调用 <code>open()</code> 函数连接外部文件</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl>  <span class=err>流类名</span> <span class=err>对象名</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=err>对象名</span><span class=p>.</span><span class=n>open</span><span class=p>(</span><span class=err>文件名</span><span class=p>,</span> <span class=err>模式</span><span class=p>);</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>调用流类带参数的构造函数，在建立流对象的同时连接外部文件</p><ul><li><code>流类名 对象名(文件名, 模式)</code></li></ul></li></ol><p>流类：文件流类</p><p>文件名：外部文件名</p><p>模式：类 <code>ios</code> 定义的打开模式的标记常量，表示打开方式</p></li><li><p>文件打开模式标记</p><table><thead><tr><th>模式标记</th><th>适用对象</th><th>作用</th></tr></thead><tbody><tr><td><code>ios::in</code></td><td><code>ifstream; fstream</code></td><td>读方式打开文件，如果不存在则报错</td></tr><tr><td><code>ios::out</code></td><td><code>ofstream; fstream</code></td><td>写方式打开，不存在则新建；已存在则清空原内容</td></tr><tr><td><code>ios::app</code></td><td><code>ofstream</code></td><td>追加方式打开，不存在则新建</td></tr><tr><td><code>ios::ate</code></td><td><code>ofstream</code></td><td>打开已有文件，将指针指向文件末尾；不存在则报错</td></tr><tr><td><code>ios::trunc</code></td><td><code>ofstream</code></td><td>删除文件现有内容，单独使用时同 <code>ios::out</code></td></tr><tr><td><code>ios::binary</code></td><td><code>ifstream;ofstream; fstream</code></td><td>以二级制打开文件；不指定则默认文本方式打开</td></tr><tr><td>`ios::in</td><td>ios::out`</td><td><code>fstream</code></td></tr><tr><td>`ios::in</td><td>ios::out`</td><td><code>ofstream</code></td></tr><tr><td>`ios::in</td><td>ios::out</td><td>ios::trunc`</td></tr></tbody></table></li><li><p>打开文件示例</p><ul><li><p>读取当前文件夹中 data.txt 的文件</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl><span class=n>istream</span> <span class=n>inFile</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>inFile</span><span class=p>.</span><span class=n>open</span><span class=p>(</span><span class=s>&#34;data.txt&#34;</span><span class=p>,</span><span class=n>ios</span><span class=o>::</span><span class=n>in</span><span class=p>);</span> <span class=c1>//ios::in 是默认参数可省略
</span></span></span></code></pre></td></tr></table></div></div><p>或者</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl><span class=n>ifstream</span> <span class=nf>inFile</span><span class=p>(</span><span class=s>&#34;data.txt&#34;</span><span class=p>,</span><span class=n>ios</span><span class=o>::</span><span class=n>in</span><span class=p>);</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p><code>2019</code>文件夹中创建文件 newfile 的二进制文件</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl><span class=n>ifstream</span> <span class=n>outFile</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=n>outFile</span><span class=p>.</span><span class=n>open</span><span class=p>(</span><span class=s>&#34;c:</span><span class=se>\\</span><span class=s>2019</span><span class=se>\\</span><span class=s>newfile&#34;</span><span class=p>,</span><span class=n>ios</span><span class=o>::</span><span class=n>out</span><span class=o>|</span><span class=n>ios</span><span class=o>::</span><span class=n>binary</span><span class=p>);</span>
</span></span></code></pre></td></tr></table></div></div><p>或者</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl><span class=n>ifstream</span> <span class=nf>outFile</span><span class=p>(</span><span class=s>&#34;c:</span><span class=se>\\</span><span class=s>2019</span><span class=se>\\</span><span class=s>newfile&#34;</span><span class=p>,</span><span class=n>ios</span><span class=o>::</span><span class=n>out</span><span class=o>|</span><span class=n>ios</span><span class=o>::</span><span class=n>binary</span><span class=p>);</span>
</span></span></code></pre></td></tr></table></div></div></li></ul></li></ul></li><li><p>关闭文件</p><ul><li><p>发出关闭文件指令后，系统会将缓冲区中的数据完整地写入文件，同时添加文件结束标记，切断流对象与外部文件的连接</p></li><li><p>格式示例</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl>  <span class=n>ifstream</span> <span class=n>inFile</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=n>inFile</span><span class=p>.</span><span class=n>open</span><span class=p>(</span><span class=s>&#34;file.txt&#34;</span><span class=p>,</span><span class=n>ios</span><span class=o>::</span><span class=n>in</span><span class=p>);</span>
</span></span><span class=line><span class=cl>   <span class=c1>// 打开成功则进行读文件，省略
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=n>inFile</span><span class=p>.</span><span class=n>close</span><span class=p>();</span><span class=c1>//关闭文件
</span></span></span><span class=line><span class=cl><span class=c1></span>   <span class=c1>//inFile 与 file.txt 断开连接，可用于其他文件
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=n>inFile</span><span class=p>.</span><span class=n>open</span><span class=p>(</span><span class=s>&#34;file.data&#34;</span><span class=p>,</span><span class=n>ios</span><span class=o>::</span><span class=n>in</span><span class=p>);</span><span class=c1>//连接另一个文件
</span></span></span></code></pre></td></tr></table></div></div></li><li><p>建立流对象，调用 <code>open()</code> 函数连接外部文件(8-1)</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++></code></pre></td></tr></table></div></div></li><li><p>调用流类带参数的构造函数打开文件(8-2)</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++></code></pre></td></tr></table></div></div></li></ul></li></ol><h2 id=第三节-文件读写操作>第三节 文件读写操作<a hidden class=anchor aria-hidden=true href=#第三节-文件读写操作>#</a></h2><ol><li><p>读写文本文件</p><ul><li><p>C++ 将文件看成顺序排列的无结构的字节流。</p><ul><li>对于长度 n 的文件来说，字节号从 <code>0 ~ n-1</code> ，最后一位是文件结束标识符EOF <code>0x1A</code></li></ul></li><li><p>对文本文件 <code>score.txt</code> 进行输入/输出(8-3)</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++></code></pre></td></tr></table></div></div></li><li><p>读入学生成绩文件 <code>score.txt</code> 并显示内容(8-4)</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++></code></pre></td></tr></table></div></div></li><li><p>读入文本文件，加上行号后显示内容(8-5)</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++></code></pre></td></tr></table></div></div></li><li><p>对文本文件的内容进行排序，将结果输出到另一个文件(8-6)</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++></code></pre></td></tr></table></div></div></li></ul></li><li><p>读写二进制文件</p><ol><li><p>用 <code>ostream::write()</code> 成员函数写文件</p><ul><li><p><code>ostream & write(char *buffer, int nCount);</code></p></li><li><p>用二进制保存学生信息(8-7)</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++></code></pre></td></tr></table></div></div></li><li><p>向二进制文件中追加数据(8-8)</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++></code></pre></td></tr></table></div></div></li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;iostream&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;fstream&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=k>using</span> <span class=k>namespace</span> <span class=n>std</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>CStudent</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl><span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=kt>char</span> <span class=n>szName</span><span class=p>[</span><span class=mi>20</span><span class=p>];</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>age</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=nf>main</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>CStudent</span> <span class=n>s</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>ofstream</span> <span class=n>outFile</span><span class=p>(</span><span class=s>&#34;students.dat&#34;</span><span class=p>,</span> <span class=n>ios</span><span class=o>::</span><span class=n>out</span> <span class=o>|</span> <span class=n>ios</span><span class=o>::</span><span class=n>binary</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=k>while</span> <span class=p>(</span><span class=n>cin</span> <span class=o>&gt;&gt;</span> <span class=n>s</span><span class=p>.</span><span class=n>szName</span> <span class=o>&gt;&gt;</span> <span class=n>s</span><span class=p>.</span><span class=n>age</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=n>outFile</span><span class=p>.</span><span class=n>write</span><span class=p>((</span><span class=kt>char</span><span class=o>*</span><span class=p>)</span><span class=o>&amp;</span><span class=n>s</span><span class=p>,</span> <span class=k>sizeof</span><span class=p>(</span><span class=n>s</span><span class=p>));</span>
</span></span><span class=line><span class=cl>    <span class=n>outFile</span><span class=p>.</span><span class=n>close</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>Tom</span> <span class=mi>60</span><span class=err>↙</span>
</span></span><span class=line><span class=cl><span class=n>Jack</span> <span class=mi>80</span><span class=err>↙</span>
</span></span><span class=line><span class=cl><span class=n>Jane</span> <span class=mi>40</span><span class=err>↙</span>
</span></span><span class=line><span class=cl><span class=o>^</span><span class=n>Z</span><span class=err>↙</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>用 <code>istream::read()</code> 成员函数读文件</p><ul><li><code>istream &read(char * buffer, int nCount);</code></li><li>从文件读取 nCount 个字节的内容，存放到 buffer 指向的内存缓冲区，返回作用对象的引用</li><li>非格式化操作，读取内容不处理，直接存入缓冲，由程序的类型定义解释</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;iostream&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp>#include</span> <span class=cpf>&lt;fstream&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=k>using</span> <span class=k>namespace</span> <span class=n>std</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=k>class</span> <span class=nc>CStudent</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl><span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=kt>char</span> <span class=n>szName</span><span class=p>[</span><span class=mi>20</span><span class=p>];</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>age</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>};</span>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=nf>main</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>CStudent</span> <span class=n>s</span><span class=p>;</span>       
</span></span><span class=line><span class=cl>    <span class=n>ifstream</span> <span class=n>inFile</span><span class=p>(</span><span class=s>&#34;students.dat&#34;</span><span class=p>,</span><span class=n>ios</span><span class=o>::</span><span class=n>in</span><span class=o>|</span><span class=n>ios</span><span class=o>::</span><span class=n>binary</span><span class=p>);</span> <span class=c1>//二进制读方式打开
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>if</span><span class=p>(</span><span class=o>!</span><span class=n>inFile</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;error&#34;</span> <span class=o>&lt;&lt;</span><span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>while</span><span class=p>(</span><span class=n>inFile</span><span class=p>.</span><span class=n>read</span><span class=p>((</span><span class=kt>char</span> <span class=o>*</span><span class=p>)</span><span class=o>&amp;</span><span class=n>s</span><span class=p>,</span> <span class=k>sizeof</span><span class=p>(</span><span class=n>s</span><span class=p>)))</span> <span class=p>{</span> <span class=c1>//一直读到文件结束
</span></span></span><span class=line><span class=cl><span class=c1></span>        <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>s</span><span class=p>.</span><span class=n>szName</span> <span class=o>&lt;&lt;</span> <span class=s>&#34; &#34;</span> <span class=o>&lt;&lt;</span> <span class=n>s</span><span class=p>.</span><span class=n>age</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>   
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=n>inFile</span><span class=p>.</span><span class=n>close</span><span class=p>();</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>Tom</span> <span class=mi>60</span>
</span></span><span class=line><span class=cl><span class=n>Jack</span> <span class=mi>80</span>
</span></span><span class=line><span class=cl><span class=n>Jane</span> <span class=mi>40</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>用 <code>ostream::gcount()</code> 成员函数得到读取字节数</p><ul><li><p><code>int gcount();</code></p></li><li><p>从二进制文件中读取数据(8-9)</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++></code></pre></td></tr></table></div></div></li></ul></li></ol></li><li><p>用成员函数 <code>put()</code> 和 <code>get()</code> 读写文件</p><ol><li><p><code>get()</code> 的三种主要形式</p><ol><li><p><code>int get();</code></p><ul><li>不带参数，从指定输入流中提取一个字符（包含空白），返回该字符。遇到文件尾则返回文件尾</li></ul></li><li><p><code>istream & get(char &rch);</code></p><ul><li>从指定输入流中提取一个字符（包含空白），将该字符作为 rch 引用的对象。遇到文件尾返回0；否则返回对 istream 对象的引用</li></ul></li><li><p><code>istream & get(char *pch, int nCount, char delim='\n');</code></p><ul><li>从流的当前字符开始，读取 nCount-1 个字符，或遇到指定分隔符 delim 结束。</li><li>把读取的字符（不包含分隔符）写入数组 pch ，并增加结束符 ‘\0’</li></ul></li></ol></li><li><p><code>put()</code> 函数</p><ul><li><code>ostream& put(char ch);</code></li><li>向输出流中插入一个字节</li></ul></li><li><p>文件复制(8-10)</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++></code></pre></td></tr></table></div></div></li></ol></li><li><p>文本文件与二进制文件的异同</p><ul><li>Windows 中，以文本方式打开文件，系统会对文本文件中字符 <code>\r\n</code>（俗称回车换行）进行专门处理<ul><li>读文件，<code>\r\n</code> 转化成 <code>\n</code> ；</li><li>写文件， <code>\n</code> 转化成 <code>\r\n</code> 再写入</li></ul></li></ul></li></ol><h2 id=第四节-随机访问文件>第四节 随机访问文件<a hidden class=anchor aria-hidden=true href=#第四节-随机访问文件>#</a></h2><ul><li><p>顺序文件，只能顺序存取</p><ul><li>键盘、显示器</li></ul></li><li><p>随机文件，任意存取</p><ul><li>磁盘</li></ul></li><li><p>流指针，文件操作的位置指针</p></li><li><p><code>istream</code> 中与位置指针相关的函数</p><ol><li>移动读指针函数</li><li>返回读指针当前位置值的函数</li></ol></li><li><p><code>ostream</code> 中与位置指针相关的函数</p><ol><li>移动指针函数</li><li>返回写指针当前位置值的函数</li></ol></li><li><p>修改程序 8-7 ，观察文件读操作中位置指针的变化(8-11)</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++></code></pre></td></tr></table></div></div></li><li><p>读取程序 8-7 中 student.dat ，在文件中查找最高分和最低分并显示学生信息。若同时获得最高分只显示第一个</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++></code></pre></td></tr></table></div></div></li></ul><h1 id=第九章-函数模板与类模板>第九章 函数模板与类模板<a hidden class=anchor aria-hidden=true href=#第九章-函数模板与类模板>#</a></h1><ul><li>函数模板</li><li>类模板</li><li>模板与继承</li></ul><h2 id=第一节-函数模板>第一节 函数模板<a hidden class=anchor aria-hidden=true href=#第一节-函数模板>#</a></h2><ol><li><p>函数模板概念</p><ul><li><p>使用虚拟的类型参数。</p><ul><li>实际的类型来实例化函数时，将函数模板与某个具体的数据类型连用。编译器将以此产生模板函数。</li><li>这个过程叫函数模板实例化。</li></ul></li><li><p>定义函数模板格式</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl>  <span class=k>template</span> <span class=o>&lt;</span><span class=err>模板参数列表</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=err>返回值类型名</span> <span class=err>函数模板名</span><span class=p>(</span><span class=err>参数表</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>  	<span class=err>函数具体定义</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>类型 参数名可以是</p><ol><li>class 标识符</li><li>类型说明符 标识符</li></ol></li></ul></li><li><p>函数模板示例</p><ul><li><p>定义求绝对值的函数模板,并进行不同的调用(9-1)</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl>  <span class=cp>#include</span> <span class=cpf>&lt;iostream&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>  <span class=k>using</span> <span class=k>namespace</span> <span class=n>std</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>template</span> <span class=o>&lt;</span><span class=k>typename</span> <span class=n>T</span><span class=o>&gt;</span> <span class=c1>//T 是占位符
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=n>T</span> <span class=n>abs</span><span class=p>(</span><span class=n>T</span> <span class=n>x</span><span class=p>)</span>  <span class=c1>//调用函数时自动判断类型 int abs(int n);
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>x</span> <span class=o>&lt;</span> <span class=mi>0</span> <span class=o>?</span> <span class=o>-</span><span class=nl>x</span> <span class=p>:</span> <span class=n>x</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=kt>int</span> <span class=nf>main</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>n</span> <span class=o>=</span> <span class=o>-</span><span class=mi>5</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>m</span> <span class=o>=</span> <span class=mi>10</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kt>double</span> <span class=n>d</span> <span class=o>=</span> <span class=o>-</span><span class=mi>5</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kt>float</span> <span class=n>f</span> <span class=o>=</span> <span class=mf>3.2</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>n</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;的绝对值：&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>abs</span><span class=p>(</span><span class=n>n</span><span class=p>)</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>m</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;的绝对值：&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>abs</span><span class=p>(</span><span class=n>m</span><span class=p>)</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>d</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;的绝对值：&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>abs</span><span class=p>(</span><span class=n>d</span><span class=p>)</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>f</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;的绝对值：&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>abs</span><span class=p>(</span><span class=n>f</span><span class=p>)</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>定义对象交换的函数模板(9-2)</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++></code></pre></td></tr></table></div></div></li><li><p>对象排序程序(9-3)</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++></code></pre></td></tr></table></div></div></li></ul></li><li><p>函数或函数模板调用语句的匹配顺序</p><ul><li><p>函数模板可以重载，只要形参不同</p></li><li><p>重载函数模板(9-4)</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++></code></pre></td></tr></table></div></div></li><li><p>函数与函数模板名相同，一条函数调用语句该匹配哪个函数或模板？</p><ol><li>先找参数完全匹配的普通函数（不是由模板实例化得到的模板函数）</li><li>再找参数完全匹配的模板函数</li><li>找实参经过自动类型转换后能够匹配的普通函数</li><li>报错</li></ol></li><li><p>函数调用匹配顺序(9-5)</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++></code></pre></td></tr></table></div></div></li></ul></li></ol><h2 id=第二节-类模板>第二节 类模板<a hidden class=anchor aria-hidden=true href=#第二节-类模板>#</a></h2><ol><li><p>类模板概念</p><ul><li><p>编译器通过类模板可以自动生成多个面向不同数据类型的类</p></li><li><p>泛型数据替代实际的数据类型来说明变量，从而定义一个泛型类。</p></li><li><p>声明类模板</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl>  <span class=k>template</span> <span class=o>&lt;</span><span class=err>模板参数表</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=k>class</span> <span class=err>类模板名</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>  	<span class=err>类体定义</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><ul><li><p>类模板以外定义函数成员</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl><span class=k>template</span> <span class=o>&lt;</span><span class=err>模板参数表</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl><span class=err>返回类型名</span> <span class=err>类模板名</span> <span class=o>&lt;</span><span class=err>模板参数标识符列表</span><span class=o>&gt;::</span><span class=err>成员函数名</span><span class=p>(</span><span class=err>参数表</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>	<span class=err>类体定义</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li></ul></li><li><p>使用类模板创建对象, 给出 类型形参/普通形参/实参</p><ul><li><code>类模板名 &lt;模板参数表> 对象名1, ... ,对象名n;</code></li><li><code>类模板名 &lt;模板参数表> 对象名1(构造函数实参), ... ,对象名n(构造函数实参)；</code></li><li>由类模板实例化的类叫模板类</li></ul></li></ul></li><li><p>类模板示例</p><ul><li><p>二元数组类模板(9-6)</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl>  <span class=cp>#include</span> <span class=cpf>&lt;iostream&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span>  <span class=k>using</span> <span class=k>namespace</span> <span class=n>std</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>template</span> <span class=o>&lt;</span><span class=k>class</span> <span class=nc>T1</span><span class=p>,</span> <span class=k>class</span> <span class=nc>T2</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=k>class</span> <span class=nc>Pair</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>public</span><span class=o>:</span>
</span></span><span class=line><span class=cl>    <span class=n>T1</span> <span class=n>first</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>T2</span> <span class=n>second</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>Pair</span><span class=p>(</span><span class=n>T1</span> <span class=n>k</span><span class=p>,</span> <span class=n>T2</span> <span class=n>v</span><span class=p>)</span> <span class=o>:</span> <span class=n>first</span><span class=p>(</span><span class=n>k</span><span class=p>),</span> <span class=n>second</span><span class=p>(</span><span class=n>v</span><span class=p>)</span> <span class=p>{}</span>
</span></span><span class=line><span class=cl>    <span class=kt>bool</span> <span class=k>operator</span><span class=o>&lt;</span><span class=p>(</span><span class=k>const</span> <span class=n>Pair</span><span class=o>&lt;</span><span class=n>T1</span><span class=p>,</span> <span class=n>T2</span><span class=o>&gt;</span> <span class=o>&amp;</span><span class=n>p</span><span class=p>)</span> <span class=k>const</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span>
</span></span><span class=line><span class=cl>  <span class=k>template</span> <span class=o>&lt;</span><span class=k>class</span> <span class=nc>T1</span><span class=p>,</span> <span class=k>class</span> <span class=nc>T2</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=kt>bool</span> <span class=n>Pair</span><span class=o>&lt;</span><span class=n>T1</span><span class=p>,</span> <span class=n>T2</span><span class=o>&gt;::</span><span class=k>operator</span><span class=o>&lt;</span><span class=p>(</span><span class=k>const</span> <span class=n>Pair</span><span class=o>&lt;</span><span class=n>T1</span><span class=p>,</span> <span class=n>T2</span><span class=o>&gt;</span> <span class=o>&amp;</span><span class=n>p</span><span class=p>)</span> <span class=k>const</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=n>first</span> <span class=o>&lt;</span> <span class=n>p</span><span class=p>.</span><span class=n>first</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=kt>int</span> <span class=nf>main</span><span class=p>()</span>
</span></span><span class=line><span class=cl>  <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=n>Pair</span><span class=o>&lt;</span><span class=n>string</span><span class=p>,</span> <span class=kt>int</span><span class=o>&gt;</span> <span class=n>student1</span><span class=p>(</span><span class=s>&#34;Tom&#34;</span><span class=p>,</span> <span class=mi>19</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=c1>//
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>Pair</span><span class=o>&lt;</span><span class=n>string</span><span class=p>,</span> <span class=kt>int</span><span class=o>&gt;</span> <span class=n>student2</span><span class=p>(</span><span class=s>&#34;Jim&#34;</span><span class=p>,</span> <span class=mi>21</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=c1>//
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=n>Pair</span><span class=o>&lt;</span><span class=n>string</span><span class=p>,</span> <span class=n>string</span><span class=o>&gt;</span> <span class=n>dic</span><span class=p>(</span><span class=s>&#34;word&#34;</span><span class=p>,</span> <span class=s>&#34;danci&#34;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>Pair</span><span class=o>&lt;</span><span class=kt>int</span><span class=p>,</span> <span class=kt>int</span><span class=o>&gt;</span> <span class=n>coordinate</span><span class=p>(</span><span class=mi>10</span><span class=p>,</span> <span class=mi>20</span><span class=p>);</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;学生：&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>student1</span><span class=p>.</span><span class=n>first</span> <span class=o>&lt;&lt;</span> <span class=s>&#34; &#34;</span> <span class=o>&lt;&lt;</span> <span class=n>student1</span><span class=p>.</span><span class=n>second</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;学生：&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>student2</span><span class=p>.</span><span class=n>first</span> <span class=o>&lt;&lt;</span> <span class=s>&#34; &#34;</span> <span class=o>&lt;&lt;</span> <span class=n>student2</span><span class=p>.</span><span class=n>second</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;坐标：&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>coordinate</span><span class=p>.</span><span class=n>first</span> <span class=o>&lt;&lt;</span> <span class=s>&#34; &#34;</span> <span class=o>&lt;&lt;</span> <span class=n>coordinate</span><span class=p>.</span><span class=n>second</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;学生：&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>dic</span><span class=p>.</span><span class=n>first</span> <span class=o>&lt;&lt;</span> <span class=s>&#34; &#34;</span> <span class=o>&lt;&lt;</span> <span class=n>dic</span><span class=p>.</span><span class=n>second</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=kt>bool</span> <span class=n>a</span> <span class=o>=</span> <span class=n>student1</span> <span class=o>&lt;</span> <span class=n>student2</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=n>a</span> <span class=o>==</span> <span class=mi>0</span><span class=p>)</span>
</span></span><span class=line><span class=cl>      <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>student1</span><span class=p>.</span><span class=n>first</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;位于&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>student2</span><span class=p>.</span><span class=n>first</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;之后&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>else</span>
</span></span><span class=line><span class=cl>      <span class=n>cout</span> <span class=o>&lt;&lt;</span> <span class=n>student1</span><span class=p>.</span><span class=n>first</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;位于&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>student2</span><span class=p>.</span><span class=n>first</span> <span class=o>&lt;&lt;</span> <span class=s>&#34;之前&#34;</span> <span class=o>&lt;&lt;</span> <span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>类模板(9-7)</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++></code></pre></td></tr></table></div></div></li><li><p>在类模板中使用模板函数</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++></code></pre></td></tr></table></div></div></li><li><p>类模板中使用静态成员</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++></code></pre></td></tr></table></div></div></li><li><p>使用普通函数的类模板</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++></code></pre></td></tr></table></div></div></li></ul></li><li><p>类模板与继承</p><ul><li><p>类模板和类模板之间、类模板和类之间可以相互继承，派生关系的四种情况</p><ol><li><p>普通类继承模板类</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++></code></pre></td></tr></table></div></div></li><li><p>类模板继承普通类</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++></code></pre></td></tr></table></div></div></li><li><p>类模板继承类模板</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++></code></pre></td></tr></table></div></div></li><li><p>类模板继承模板类</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++></code></pre></td></tr></table></div></div></li></ol><p>根据类模板实例化的类即是模板类。</p></li></ul></li></ol><h1 id=附录-vscode-配置文件>附录 VScode 配置文件<a hidden class=anchor aria-hidden=true href=#附录-vscode-配置文件>#</a></h1><h2 id=编译环境-tdm-gcc>编译环境 TDM-GCC<a hidden class=anchor aria-hidden=true href=#编译环境-tdm-gcc>#</a></h2><ol><li><p><code>c_cpp_properties.json</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;configurations&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;name&#34;</span><span class=p>:</span> <span class=s2>&#34;Win32&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;includePath&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;${workspaceFolder}/**&#34;</span>
</span></span><span class=line><span class=cl>            <span class=p>],</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;defines&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;_DEBUG&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;UNICODE&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;_UNICODE&#34;</span>
</span></span><span class=line><span class=cl>            <span class=p>],</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;intelliSenseMode&#34;</span><span class=p>:</span> <span class=s2>&#34;msvc-x64&#34;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>],</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;version&#34;</span><span class=p>:</span> <span class=mi>4</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p><code>launch.json</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=s>&#34;version&#34;</span><span class=o>:</span> <span class=s>&#34;0.2.0&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s>&#34;configurations&#34;</span><span class=o>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=s>&#34;name&#34;</span><span class=o>:</span> <span class=s>&#34;(gdb) Launch&#34;</span><span class=p>,</span> <span class=c1>// 配置名称，将会在启动配置的下拉菜单中显示
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=s>&#34;type&#34;</span><span class=o>:</span> <span class=s>&#34;cppdbg&#34;</span><span class=p>,</span> <span class=c1>// 配置类型，这里只能为cppdbg
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=s>&#34;request&#34;</span><span class=o>:</span> <span class=s>&#34;launch&#34;</span><span class=p>,</span> <span class=c1>// 请求配置类型，可以为launch（启动）或attach（附加）
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=s>&#34;program&#34;</span><span class=o>:</span> <span class=s>&#34;${workspaceRoot}/${fileBasenameNoExtension}.exe&#34;</span><span class=p>,</span> <span class=c1>// 将要进行调试的程序的路径
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=s>&#34;args&#34;</span><span class=o>:</span> <span class=p>[],</span> <span class=c1>// 程序调试时传递给程序的命令行参数，一般设为空即可
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=s>&#34;stopAtEntry&#34;</span><span class=o>:</span> <span class=nb>false</span><span class=p>,</span> <span class=c1>// 设为true时程序将暂停在程序入口处，一般设置为false
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=s>&#34;cwd&#34;</span><span class=o>:</span> <span class=s>&#34;${workspaceRoot}&#34;</span><span class=p>,</span> <span class=c1>// 调试程序时的工作目录，一般为${workspaceRoot}即代码所在目录
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=s>&#34;environment&#34;</span><span class=o>:</span> <span class=p>[],</span>
</span></span><span class=line><span class=cl>      <span class=s>&#34;externalConsole&#34;</span><span class=o>:</span> <span class=nb>false</span><span class=p>,</span> <span class=c1>// 调试时是否显示控制台窗口，一般设置为true显示控制台
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=s>&#34;MIMode&#34;</span><span class=o>:</span> <span class=s>&#34;gdb&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s>&#34;miDebuggerPath&#34;</span><span class=o>:</span> <span class=s>&#34;C:</span><span class=se>\\</span><span class=s>TDM-GCC-64</span><span class=se>\\</span><span class=s>bin</span><span class=se>\\</span><span class=s>gdb64.exe&#34;</span><span class=p>,</span> <span class=c1>// miDebugger的路径，注意这里要与MinGw的路径对应
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=s>&#34;preLaunchTask&#34;</span><span class=o>:</span> <span class=s>&#34;g++&#34;</span><span class=p>,</span> <span class=c1>// 调试会话开始前执行的任务，一般为编译程序，c++为g++, c为gcc
</span></span></span><span class=line><span class=cl><span class=c1></span>      <span class=s>&#34;setupCommands&#34;</span><span class=o>:</span> <span class=p>[{</span>
</span></span><span class=line><span class=cl>        <span class=s>&#34;description&#34;</span><span class=o>:</span> <span class=s>&#34;Enable pretty-printing for gdb&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s>&#34;text&#34;</span><span class=o>:</span> <span class=s>&#34;-enable-pretty-printing&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s>&#34;ignoreFailures&#34;</span><span class=o>:</span> <span class=nb>true</span>
</span></span><span class=line><span class=cl>      <span class=p>}]</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>]</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p><code>tasks.json</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-C++ data-lang=C++><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=s>&#34;version&#34;</span><span class=o>:</span> <span class=s>&#34;2.0.0&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=s>&#34;tasks&#34;</span><span class=o>:</span> <span class=p>[{</span>
</span></span><span class=line><span class=cl>    <span class=s>&#34;label&#34;</span><span class=o>:</span> <span class=s>&#34;g++&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s>&#34;command&#34;</span><span class=o>:</span> <span class=s>&#34;g++&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=s>&#34;args&#34;</span><span class=o>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>      <span class=s>&#34;-g&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s>&#34;${file}&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s>&#34;-o&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s>&#34;${fileDirname}/${fileBasenameNoExtension}.exe&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>],</span>
</span></span><span class=line><span class=cl>    <span class=s>&#34;problemMatcher&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=s>&#34;owner&#34;</span><span class=o>:</span> <span class=s>&#34;cpp&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s>&#34;fileLocation&#34;</span><span class=o>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>        <span class=s>&#34;relative&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s>&#34;${workspaceRoot}&#34;</span>
</span></span><span class=line><span class=cl>      <span class=p>],</span>
</span></span><span class=line><span class=cl>      <span class=s>&#34;pattern&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=s>&#34;regexp&#34;</span><span class=o>:</span> <span class=s>&#34;^(.*):(</span><span class=se>\\</span><span class=s>d+):(</span><span class=se>\\</span><span class=s>d+):</span><span class=se>\\</span><span class=s>s+(warning|error):</span><span class=se>\\</span><span class=s>s+(.*)$&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s>&#34;file&#34;</span><span class=o>:</span> <span class=mi>1</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s>&#34;line&#34;</span><span class=o>:</span> <span class=mi>2</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s>&#34;column&#34;</span><span class=o>:</span> <span class=mi>3</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s>&#34;severity&#34;</span><span class=o>:</span> <span class=mi>4</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s>&#34;message&#34;</span><span class=o>:</span> <span class=mi>5</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=s>&#34;group&#34;</span><span class=o>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=s>&#34;kind&#34;</span><span class=o>:</span> <span class=s>&#34;build&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s>&#34;isDefault&#34;</span><span class=o>:</span> <span class=nb>true</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>}]</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></li></ol><h1 id=附录-基本数据类型>附录 基本数据类型<a hidden class=anchor aria-hidden=true href=#附录-基本数据类型>#</a></h1><h2 id=基本的内置类型>基本的内置类型<a hidden class=anchor aria-hidden=true href=#基本的内置类型>#</a></h2><p>C++ 为程序员提供了种类丰富的内置数据类型和用户自定义的数据类型。下表列出了七种基本的 C++ 数据类型：</p><table><thead><tr><th style=text-align:left>类型</th><th style=text-align:left>关键字</th><th style=text-align:left>长度</th><th style=text-align:left>取值范围</th></tr></thead><tbody><tr><td style=text-align:left>布尔型</td><td style=text-align:left>bool</td><td style=text-align:left>1</td><td style=text-align:left>true / false</td></tr><tr><td style=text-align:left>字符型</td><td style=text-align:left>char</td><td style=text-align:left>1</td><td></td></tr><tr><td style=text-align:left>整型</td><td style=text-align:left>int</td><td style=text-align:left>4</td><td></td></tr><tr><td style=text-align:left>浮点型</td><td style=text-align:left>float</td><td style=text-align:left>4</td><td></td></tr><tr><td style=text-align:left>双浮点型</td><td style=text-align:left>double</td><td style=text-align:left>8</td><td></td></tr><tr><td style=text-align:left>无类型</td><td style=text-align:left>void</td><td></td><td></td></tr><tr><td style=text-align:left>宽字符型</td><td style=text-align:left>wchar_t</td><td></td><td></td></tr></tbody></table><p>关键字 signed、unsigned、short、long 被称为修饰符</p><table><thead><tr><th style=text-align:left>类型</th><th style=text-align:left>位</th><th style=text-align:left>范围</th></tr></thead><tbody><tr><td style=text-align:left>char</td><td style=text-align:left>1 个字节</td><td style=text-align:left>-128 到 127 或者 0 到 255</td></tr><tr><td style=text-align:left>unsigned char</td><td style=text-align:left>1 个字节</td><td style=text-align:left>0 到 255</td></tr><tr><td style=text-align:left>signed char</td><td style=text-align:left>1 个字节</td><td style=text-align:left>-128 到 127</td></tr><tr><td style=text-align:left>int</td><td style=text-align:left>4 个字节</td><td style=text-align:left>-2147483648 到 2147483647</td></tr><tr><td style=text-align:left>unsigned int</td><td style=text-align:left>4 个字节</td><td style=text-align:left>0 到 4294967295</td></tr><tr><td style=text-align:left>signed int</td><td style=text-align:left>4 个字节</td><td style=text-align:left>-2147483648 到 2147483647</td></tr><tr><td style=text-align:left>short int</td><td style=text-align:left>2 个字节</td><td style=text-align:left>-32768 到 32767</td></tr><tr><td style=text-align:left>unsigned short int</td><td style=text-align:left>2 个字节</td><td style=text-align:left>0 到 65,535</td></tr><tr><td style=text-align:left>signed short int</td><td style=text-align:left>2 个字节</td><td style=text-align:left>-32768 到 32767</td></tr><tr><td style=text-align:left>long int</td><td style=text-align:left>8 个字节</td><td style=text-align:left>-9,223,372,036,854,775,808 到 9,223,372,036,854,775,807</td></tr><tr><td style=text-align:left>signed long int</td><td style=text-align:left>8 个字节</td><td style=text-align:left>-9,223,372,036,854,775,808 到 9,223,372,036,854,775,807</td></tr><tr><td style=text-align:left>unsigned long int</td><td style=text-align:left>8 个字节</td><td style=text-align:left>0 到 18,446,744,073,709,551,615</td></tr><tr><td style=text-align:left>float</td><td style=text-align:left>4 个字节</td><td style=text-align:left>精度型占4个字节（32位）内存空间，+/- 3.4e +/- 38 (~7 个数字)</td></tr><tr><td style=text-align:left>double</td><td style=text-align:left>8 个字节</td><td style=text-align:left>双精度型占8 个字节（64位）内存空间，+/- 1.7e +/- 308 (~15 个数字)</td></tr><tr><td style=text-align:left>long double</td><td style=text-align:left>16 个字节</td><td style=text-align:left>长双精度型 16 个字节（128位）内存空间，可提供18-19位有效数字。</td></tr><tr><td style=text-align:left>wchar_t</td><td style=text-align:left>2 或 4 个字节</td><td style=text-align:left>1 个宽字符</td></tr></tbody></table><p>特别的，当用 short 或 long 修饰 int 时，int 可省略不写，表示短整型数据或长整型数据。</p><blockquote><p>type: <strong><strong><strong><strong><strong><strong>size</strong></strong></strong></strong></strong></strong>**
bool: 所占字节数：1 最大值：1 最小值：0
char: 所占字节数：1 最大值： 最小值：
signed char: 所占字节数：1 最大值： 最小值：
unsigned char: 所占字节数：1 最大值： 最小值：
wchar_t: 所占字节数：2 最大值：65535 最小值：0
short: 所占字节数：2 最大值：32767 最小值：-32768
int: 所占字节数：4 最大值：2147483647 最小值：-2147483648
unsigned: 所占字节数：4 最大值：4294967295 最小值：0
long: 所占字节数：4 最大值：2147483647 最小值：-2147483648
unsigned long: 所占字节数：4 最大值：4294967295 最小值：0
double: 所占字节数：8 最大值：1.79769e+308 最小值：2.22507e-308
long double: 所占字节数：16 最大值：1.18973e+4932 最小值：3.3621e-4932
float: 所占字节数：4 最大值：3.40282e+38 最小值：1.17549e-38
size_t: 所占字节数：8 最大值：18446744073709551615 最小值：0
string: 所占字节数：32
type: <strong><strong><strong><strong><strong><strong>size</strong></strong></strong></strong></strong></strong>**</p></blockquote><h2 id=typedef-声明>typedef 声明<a hidden class=anchor aria-hidden=true href=#typedef-声明>#</a></h2><p>您可以使用 <strong>typedef</strong> 为一个已有的类型取一个新的名字。下面是使用 typedef 定义一个新类型的语法：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>typedef type newname; 
</span></span></code></pre></td></tr></table></div></div><p>例如，下面的语句会告诉编译器，feet 是 int 的另一个名称：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>typedef int feet;
</span></span></code></pre></td></tr></table></div></div><p>现在，下面的声明是完全合法的，它创建了一个整型变量 distance：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>feet distance;
</span></span></code></pre></td></tr></table></div></div><h2 id=枚举类型>枚举类型<a hidden class=anchor aria-hidden=true href=#枚举类型>#</a></h2><p>枚举类型(enumeration)是C++中的一种派生数据类型，它是由用户定义的若干枚举常量的集合。</p><p>如果一个变量只有几种可能的值，可以定义为枚举(enumeration)类型。所谓"枚举"是指将变量的值一一列举出来，变量的值只能在列举出来的值的范围内。</p><p>创建枚举，需要使用关键字 <strong>enum</strong>。枚举类型的一般形式为：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>enum 枚举名{ 
</span></span><span class=line><span class=cl>     标识符[=整型常数], 
</span></span><span class=line><span class=cl>     标识符[=整型常数], 
</span></span><span class=line><span class=cl>... 
</span></span><span class=line><span class=cl>    标识符[=整型常数]
</span></span><span class=line><span class=cl>} 枚举变量;
</span></span><span class=line><span class=cl>    
</span></span></code></pre></td></tr></table></div></div><p>如果枚举没有初始化, 即省掉&rdquo;=整型常数"时, 则从第一个标识符开始。</p><p>例如，下面的代码定义了一个颜色枚举，变量 c 的类型为 color。最后，c 被赋值为 &ldquo;blue&rdquo;。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>enum color { red, green, blue } c;
</span></span><span class=line><span class=cl>c = blue;
</span></span></code></pre></td></tr></table></div></div><p>默认情况下，第一个名称的值为 0，第二个名称的值为 1，第三个名称的值为 2，以此类推。但是，您也可以给名称赋予一个特殊的值，只需要添加一个初始值即可。例如，在下面的枚举中，<strong>green</strong> 的值为 5。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>enum color { red, green=5, blue };
</span></span></code></pre></td></tr></table></div></div><p>在这里，<strong>blue</strong> 的值为 6，因为默认情况下，每个名称都会比它前面一个名称大 1，但 red 的值依然为 0。</p><h1 id=附录-cmath-常用函数>附录 cmath 常用函数：<a hidden class=anchor aria-hidden=true href=#附录-cmath-常用函数>#</a></h1><h2 id=取绝对值>取绝对值<a hidden class=anchor aria-hidden=true href=#取绝对值>#</a></h2><p><code>fabs(double)</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>#include&lt;iostream&gt;
</span></span><span class=line><span class=cl>#include&lt;math.h&gt;
</span></span><span class=line><span class=cl>using namespace std;
</span></span><span class=line><span class=cl>int main()
</span></span><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>	double a=-12.1;
</span></span><span class=line><span class=cl>	a=fabs(a);
</span></span><span class=line><span class=cl>	cout&lt;&lt;a;
</span></span><span class=line><span class=cl>	
</span></span><span class=line><span class=cl> } 
</span></span><span class=line><span class=cl>12345678910
</span></span></code></pre></td></tr></table></div></div><p>结果返回double类型：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>12.1
</span></span><span class=line><span class=cl>1
</span></span></code></pre></td></tr></table></div></div><h2 id=向上取整和向下取整>向上取整和向下取整<a hidden class=anchor aria-hidden=true href=#向上取整和向下取整>#</a></h2><p><code>floor（double）和ceil（double）</code></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>#include&lt;iostream&gt;
</span></span><span class=line><span class=cl>#include&lt;math.h&gt;
</span></span><span class=line><span class=cl>using namespace std;
</span></span><span class=line><span class=cl>int main()
</span></span><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>	double a=-12.1,b,c;
</span></span><span class=line><span class=cl>	b=floor(a);//向下取整
</span></span><span class=line><span class=cl>	c=ceil(a);//向上取整
</span></span><span class=line><span class=cl>	cout&lt;&lt;b&lt;&lt;endl&lt;&lt;c&lt;&lt;endl;
</span></span><span class=line><span class=cl>	
</span></span><span class=line><span class=cl> } 
</span></span><span class=line><span class=cl>1234567891011
</span></span></code></pre></td></tr></table></div></div><p>结果返回double类型：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>-13
</span></span><span class=line><span class=cl>-12
</span></span><span class=line><span class=cl>12
</span></span></code></pre></td></tr></table></div></div><h2 id=次方函数>次方函数<a hidden class=anchor aria-hidden=true href=#次方函数>#</a></h2><p><code>pow（double a，double b）</code></p><p>返回a的b次方，double类型。</p><h2 id=开平方根函数>开平方根函数<a hidden class=anchor aria-hidden=true href=#开平方根函数>#</a></h2><p><code>sqrt（double x）</code></p><p>返回根号a，double类型。</p><h2 id=log函数>log函数<a hidden class=anchor aria-hidden=true href=#log函数>#</a></h2><p><code>log（double x）</code></p><p>返回以自然对数为底的对数。</p><h2 id=三角函数>三角函数<a hidden class=anchor aria-hidden=true href=#三角函数>#</a></h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>#include&lt;iostream&gt;
</span></span><span class=line><span class=cl>#include&lt;math.h&gt;
</span></span><span class=line><span class=cl>using namespace std;
</span></span><span class=line><span class=cl>int main()
</span></span><span class=line><span class=cl>{
</span></span><span class=line><span class=cl>	double pi=acos(-1);
</span></span><span class=line><span class=cl>	double a=sin(pi*45/180);
</span></span><span class=line><span class=cl>	double b=cos(pi*45/180);
</span></span><span class=line><span class=cl>	double c=tan(pi*45/180);
</span></span><span class=line><span class=cl>	cout&lt;&lt;a&lt;&lt;endl&lt;&lt;b&lt;&lt;endl&lt;&lt;c;
</span></span><span class=line><span class=cl>	
</span></span><span class=line><span class=cl> } 
</span></span><span class=line><span class=cl>123456789101112
</span></span></code></pre></td></tr></table></div></div><p>pi是圆周率的精确定义，注意这里用的是弧度制，而不是角度制，返回：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>-0.707107
</span></span><span class=line><span class=cl>-0.707107
</span></span><span class=line><span class=cl>1.000000
</span></span><span class=line><span class=cl>123
</span></span></code></pre></td></tr></table></div></div><h2 id=四舍五入函数>四舍五入函数<a hidden class=anchor aria-hidden=true href=#四舍五入函数>#</a></h2><p><code>round（double x）</code></p><p>返回x的四舍五入，double类型</p><h1 id=附录-转义字符>附录 转义字符<a hidden class=anchor aria-hidden=true href=#附录-转义字符>#</a></h1><table><thead><tr><th>转义字符</th><th>意义</th><th>ASCII码值（十进制）</th></tr></thead><tbody><tr><td><code>\a</code></td><td>响铃(BEL)</td><td>007</td></tr><tr><td><code>\b</code></td><td>退格(BS) ，将当前位置移到前一列</td><td>008</td></tr><tr><td><code>\f</code></td><td>换页(FF)，将当前位置移到下页开头</td><td>012</td></tr><tr><td><code>\n</code></td><td>换行(LF) ，将当前位置移到下一行开头</td><td>010</td></tr><tr><td><code>\r</code></td><td>回车(CR) ，将当前位置移到本行开头</td><td>013</td></tr><tr><td><code>\t</code></td><td>水平制表(HT)</td><td>009</td></tr><tr><td><code>\v</code></td><td>垂直制表(VT)</td><td>011</td></tr><tr><td><code>\'</code></td><td>单引号</td><td>039</td></tr><tr><td><code>\"</code></td><td>双引号</td><td>034</td></tr><tr><td><code>\\</code></td><td>反斜杠</td><td>092</td></tr></tbody></table><p><code>\n</code>和<code>\t</code>是最常用的两个转义字符：</p><ul><li><code>\n</code>用来换行，让文本从下一行的开头输出，前面的章节中已经多次使用；</li><li><code>\t</code>用来占位，一般相当于四个空格，或者 tab 键的功能。</li></ul><p>单引号、双引号、反斜杠是特殊的字符，不能直接表示：</p><ul><li>单引号是字符类型的开头和结尾，要使用<code>\'</code>表示，也即<code>'\''</code>；</li><li>双引号是字符串的开头和结尾，要使用<code>\"</code>表示，也即<code>"abc\"123"</code>；</li><li>反斜杠是转义字符的开头，要使用<code>\\</code>表示，也即<code>'\\'</code>，或者<code>"abc\\123"</code>。</li></ul><h1 id=附录-运算符结合性>附录 运算符结合性<a hidden class=anchor aria-hidden=true href=#附录-运算符结合性>#</a></h1><p><img loading=lazy src=C++%e7%a8%8b%e5%ba%8f%e8%ae%be%e8%ae%a1.assets/image-20200917113601275.png alt=image-20200917113601275></p><p><img loading=lazy src=C++%e7%a8%8b%e5%ba%8f%e8%ae%be%e8%ae%a1.assets/image-20200917113625624.png alt=image-20200917113625624></p><p><img loading=lazy src=C++%e7%a8%8b%e5%ba%8f%e8%ae%be%e8%ae%a1.assets/image-20200917113648238.png alt=image-20200917113648238></p><h2 id=一些容易出错的优先级问题>一些容易出错的优先级问题<a hidden class=anchor aria-hidden=true href=#一些容易出错的优先级问题>#</a></h2><p>上表中，优先级同为1 的几种运算符如果同时出现，那怎么确定表达式的优先级呢？这是很多初学者迷糊的地方。下表就整理了这些容易出错的情况：</p><p><img loading=lazy src=http://c.biancheng.net/cpp/uploads/allimg/120205/1-120205192420113.jpg alt=img></p><p>这些容易出错的情况，希望读者好好在编译器上调试调试，这样印象会深一些。一定要多调试，光靠看代码，水平是很难提上来的。调试代码才是最长水平的。</p><p>continue：结束本次循环，所在循环体并未结束。
brake：结束整个循环体，所在循环体已结束。
goto：goto 语句允许把控制无条件转移到同一函数内的标记语句。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c data-lang=c><span class=line><span class=cl><span class=k>goto</span> <span class=n>label</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>...</span>
</span></span><span class=line><span class=cl><span class=nl>label</span><span class=p>:</span> <span class=n>statement</span><span class=p>;</span>
</span></span></code></pre></td></tr></table></div></div><p>当执行 <code>goto label;</code> 语句时，直接跳转并执行 <code>label</code> 标记的语句。例如：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-c++ data-lang=c++><span class=line><span class=cl><span class=cp>#include</span><span class=cpf>&lt;iostream&gt;</span><span class=cp>
</span></span></span><span class=line><span class=cl><span class=cp></span><span class=k>using</span> <span class=k>namespace</span> <span class=n>std</span><span class=p>;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kt>int</span> <span class=nf>main</span><span class=p>(){</span>
</span></span><span class=line><span class=cl>    <span class=kt>int</span> <span class=n>i</span><span class=o>=</span><span class=mi>3</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>if</span> <span class=p>(</span><span class=n>i</span><span class=o>==</span><span class=mi>3</span><span class=p>){</span>
</span></span><span class=line><span class=cl>        <span class=k>goto</span> <span class=n>acc</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=k>else</span><span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=n>cout</span><span class=o>&lt;&lt;</span><span class=n>i</span><span class=o>&lt;&lt;</span><span class=n>endl</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=nl>acc</span><span class=p>:</span><span class=n>cout</span><span class=o>&lt;&lt;</span><span class=s>&#34;acc&#34;</span><span class=o>&lt;&lt;</span><span class=n>endl</span><span class=p>;</span> <span class=c1>//执行 goto acc 时跳转至本条语句。
</span></span></span><span class=line><span class=cl><span class=c1></span>    <span class=k>return</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div></div><footer class=post-footer><ul class=post-tags><li><a href=https://bablvsj.github.io/tags/exams/>exams</a></li></ul><nav class=paginav><a class=prev href=https://bablvsj.github.io/posts/exams/english-%E7%AC%AC%E5%9B%9B%E9%83%A8%E5%88%86-%E4%B8%87%E8%83%BD%E5%8F%A5%E5%AD%90%E5%92%8C%E5%86%99%E4%BD%9C%E6%A8%A1%E6%9D%BF/><span class=title>« Prev</span><br><span>English 第四部分 万能句子和写作模板</span></a>
<a class=next href=https://bablvsj.github.io/posts/tech/wait/01-html/03-%E5%88%9D%E8%AF%86html/><span class=title>Next »</span><br><span>初识HTML</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2023 <a href=https://bablvsj.github.io>Bablvsj's Blog</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span><div class=flex-c-d><a class=flex-d-c href="https://www.upyun.com/?utm_source=lianmeng&utm_medium=referral" target=_blank><span>本站由</span><img width=60 src=/images/upyun.png>提供CDN加速/云存储服务</a></div></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>