<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Linux 新手必备命令 | Bablvsj's Blog</title><meta name=keywords content="Linux-Cloud"><meta name=description content="命令总结 命令参数的长格式与短格式示例 长格式 短格式 man &ndash;help man -h 一、常用系统工作命令 1．echo - 输出值 echo 命令用于在终端输出字符串或变量提取后的值，"><meta name=author content><link rel=canonical href=https://bablvsj.github.io/posts/tech/linux/20230809-linux-%E6%96%B0%E6%89%8B%E5%BF%85%E5%A4%87%E5%91%BD%E4%BB%A4/><link crossorigin=anonymous href=/assets/css/stylesheet.3543903b9a67b4b535bc2f28878a0972bc74bbb64bfa5358b406567081797e7b.css integrity="sha256-NUOQO5pntLU1vC8oh4oJcrx0u7ZL+lNYtAZWcIF5fns=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://bablvsj.github.io/img/Q.gif><link rel=icon type=image/png sizes=16x16 href=https://bablvsj.github.io/img/Q.gif><link rel=icon type=image/png sizes=32x32 href=https://bablvsj.github.io/img/Q.gif><link rel=apple-touch-icon href=https://bablvsj.github.io/Q.gif><link rel=mask-icon href=https://bablvsj.github.io/Q.gif><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="Linux 新手必备命令"><meta property="og:description" content="命令总结 命令参数的长格式与短格式示例 长格式 短格式 man &ndash;help man -h 一、常用系统工作命令 1．echo - 输出值 echo 命令用于在终端输出字符串或变量提取后的值，"><meta property="og:type" content="article"><meta property="og:url" content="https://bablvsj.github.io/posts/tech/linux/20230809-linux-%E6%96%B0%E6%89%8B%E5%BF%85%E5%A4%87%E5%91%BD%E4%BB%A4/"><meta property="article:section" content="posts"><meta name=twitter:card content="summary"><meta name=twitter:title content="Linux 新手必备命令"><meta name=twitter:description content="命令总结 命令参数的长格式与短格式示例 长格式 短格式 man &ndash;help man -h 一、常用系统工作命令 1．echo - 输出值 echo 命令用于在终端输出字符串或变量提取后的值，"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"文章","item":"https://bablvsj.github.io/posts/"},{"@type":"ListItem","position":3,"name":"Linux 新手必备命令","item":"https://bablvsj.github.io/posts/tech/linux/20230809-linux-%E6%96%B0%E6%89%8B%E5%BF%85%E5%A4%87%E5%91%BD%E4%BB%A4/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Linux 新手必备命令","name":"Linux 新手必备命令","description":"命令总结 命令参数的长格式与短格式示例 长格式 短格式 man \u0026ndash;help man -h 一、常用系统工作命令 1．echo - 输出值 echo 命令用于在终端输出字符串或变量提取后的值，","keywords":["Linux-Cloud"],"articleBody":"命令总结\n命令参数的长格式与短格式示例\n长格式 短格式 man –help man -h 一、常用系统工作命令 1．echo - 输出值 echo 命令用于在终端输出字符串或变量提取后的值，格式为“echo [字符串 | $变量]”。\n例如，把指定字符串“Linuxprobe.com”输出到终端屏幕的命令为： [root@linuxprobe ~]# echo Linuxprobe.Com 该命令会在终端屏幕上显示如下信息： Linuxprobe.Com\n下面，我们使用$变量的方式提取变量 SHELL 的值，并将其输出到屏幕上： [root@linuxprobe ~]# echo $SHELL /bin/bash\n2．date - 时间相关 date 命令用于显示及设置系统的时间或日期，格式为“date [选项] [+指定的格式]”。\n只需在date 命令以“+”号开头的参数，即可按照指定格式来输出系统的时间或日期。 例如，把打包后的文件自动按照“年-月-日”的格式打包成“backup-2017-9-1.tar.gz”， 用户只需要看一眼文件名称就能大概了解到每个文件的备份时间了。\ndate 命令中常见的参数格式及作用\n参数 作用 %t 跳格[Tab 键] %H 小时（00～23） %I 小时（00～12） %M 分钟（00～59） %S 秒（00～59） %j 今年中的第几天 按照默认格式查看当前系统时间的 date 命令 [root@linuxprobe ~]# date Mon Aug 24 16:11:23 CST 2017\n按照“年-月-日 小时:分钟:秒”的格式查看当前系统时间的 date 命令 [root@linuxprobe ~]# date “+%Y-%m-%d %H:%M:%S” 2017-08-24 16:29:12\n将系统的当前时间设置为 2017 年 9 月 1 日 8 点 30 分的 date 命令 [root@linuxprobe ~]# date -s “20170901 8:30:00” Fri Sep 1 08:30:00 CST 2017\n再次使用 date 命令并按照默认的格式查看当前的系统时 [root@linuxprobe ~]# date Fri Sep 1 08:30:01 CST 2017\ndate 命令中的参数%j 可用来查看今天是当年中的第几天。 [root@linuxprobe ~]# date “+%j” 244\n3．reboot - 系统重启 reboot 命令用于重启系统，其格式为 reboot。\n由于重启计算机这种操作会涉及硬件资源的管理权限，因此默认只能使用 root 管理员来 重启，其命令如下： [root@linuxprobe ~]# reboot\n4．poweroff - 关闭系统 poweroff 命令用于关闭系统，其格式为 poweroff。\n该命令与 reboot 命令相同，都会涉及硬件资源的管理权限，因此默认只有 root 管理员才 可以关闭电脑，其命令如下： [root@linuxprobe ~]# poweroff\n5．wget - 下载网络文件 wget 命令用于在终端中下载网络文件，格式为“wget [参数] 下载地址”。 wget 命令的参数以及作用\n参数 作用 -b 后台下载模式 -P 下载到指定目录 -t 最大尝试次数 -c 断点续传 -p 下载页面内所有资源，包括图片、视频等 -r 递归下载 尝试使用 wget 命令从本书的配套站点中下载本书的最新 pdf 格式电子文档，这个文件的完整路径为 http://www.linuxprobe.com/docs/LinuxProbe.pdf ，执行该命令后的下载效果如下： [root@linuxprobe ~]# wget http://www.linuxprobe.com/docs/LinuxProbe.pdf –2017-08-24 19:30:12 – http://www.linuxprobe.com/docs/LinuxProbe.pdf Resolving www.linuxprobe.com (www.linuxprobe.com)… 220.181.105.185 Connecting to www.linuxprobe.com (www.linuxprobe.com)|220.181.105.185|:80… connected. HTTP request sent, awaiting response… 200 OK Length: 45948568 (44M) [application/pdf] Saving to: ‘LinuxProbe.pdf’ 100%[===========================================\u003e] 45,948,568 32.9MB/s in 1.3s 2017-08-24 19:30:14 (32.9 MB/s) - ‘LinuxProbe.pdf’ saved [45948568/45948568]\n接下来，我们使用 wget 命令递归下载 www.linuxprobe.com 网站内的所有页面数据以及文件，下载完后会自动保存到当前路径下一个名为 www.linuxprobe.com 的目录中。执行该操作的命令为 wget -r -p http://www.linuxprobe.com ，该命令的执行结果如下: [root@linuxprobe ~]# wget -r -p http://www.linuxprobe.com –2017-08-24 19:31:41– http://www.linuxprobe.com/ Resolving www.linuxprobe.com… 106.185.25.197 Connecting to www.linuxprobe.com|106.185.25.197|:80… connected. HTTP request sent, awaiting response… 200 OK Length: unspecified [text/html] Saving to: ‘www.linuxprobe.com/index.html' ………………省略下载过程………………\n6．ps - 查看进程状态 ps 命令用于查看系统中的进程状态，格式为“ps [参数]”。\nps 命令与管道符技术搭配使用，用来抓取与某个指定服务进程相对应的 PID 号码。 ps 命令的参数以及作用\n参数 作用 -a 显示所有进程（包括其他用户的进程） -u 用户以及其他详细信息 -x 显示没有控制终端的进程 Linux 系统中，有 5 种常见的进程状态，分别为运行、中断、不可中断、僵死与停止，其各自含义如下所示。\nR（运行）：进程正在运行或在运行队列中等待。 S（中断）：进程处于休眠中，当某个条件形成后或者接收到信号时，则脱离该状态。 D（不可中断）：进程不响应系统异步信号，即便用 kill 命令也不能将其中断。 Z（僵死）：进程已经终止，但进程描述符依然存在, 直到父进程调用 wait4()系统函数后将进程释放。 T（停止）：进程收到停止信号后停止运行。 当执行 ps aux 命令后通常会看到如表 2-7 所示的进程状态，表 2-7 中只是列举了部分输出值，而且正常的输出值中不包括中文注释。\n进程状态\n进程的所有者 进 程ID 号 运算器占用率 内存占用率 虚拟内存使用量（单位是 KB） 占用的固定内存量（单位是KB） 所在终端 进程状态 被启动的时间 实际使用CPU的时间 命令名称与参数 USER PID %CPU %MEM VSZ RSS TTY STAT START TIME COMMAND root 1 0.0 0.4 53684 7628 ? Ss 07 :22 0:02 /usr/lib/systemd/systemd root 2 0.0 0.0 0 0 ? S 07:22 0:00 [kthreadd] ………………省略部分输出信息……………… 7．top 命令 top 命令用于动态地监视进程活动与系统负载等信息，其格式为 top。 top 命令相当强大，能够动态地查看系统运维状态，完全将它看作 Linux 中的“强化版的 Windows 任务管理器”。top 命令的运行界面如下\n1 2 3 4 5 top - 19:19:51 up 11 min， 2 users, load average : 0.01, 0.17, 0.19 Tasks: 519 total, 2 running, 517 sleeping, 0 stopped, 0 zombie %Cpu(s): 1.1 us, 0.6 sy, 0.0 ni, 97.1 id, 1.1 wa, 0.0 hi, 0.0 si, 0.0 st KiB Mem: 3869044 total, 900604 used, 2968440 free, 924 buffers KiB Swap: 2097148 total, 0 used, 2097148 free, 278556 cached Mem top 命令执行结果的前 5 行为系统整体的统计信息，其所代表的含义如下。\n第 1 行：系统时间、运行时间、登录终端数、系统负载（三个数值分别为 1 分钟、5分钟、15 分钟内的平均值，数值越小意味着负载越低）。 第 2 行：进程总数、运行中的进程数、睡眠中的进程数、停止的进程数、僵死的进程数。 第 3 行：用户占用资源百分比、系统内核占用资源百分比、改变过优先级的进程资源百分比、空闲的资源百分比等。 注：第 3 行中的数据均为 CPU 数据并以百分比格式显示，例如“97.1 id”意味着有 97.1%的 CPU 处理器资源处于空闲。 第 4 行：物理内存总量、内存使用量、内存空闲量、作为内核缓存的内存量。 第 5 行：虚拟内存总量、虚拟内存使用量、虚拟内存空闲量、已被提前加载的内存量。 8．pidof 查询某个进程PID pidof 命令用于查询某个指定服务进程的 PID 值，格式为“pidof [参数] [服务名称]”。\n每个进程的进程号码值（PID）是唯一的，因此可以通过 PID 来区分不同的进程。例如， 可以使用如下命令来查询本机上 sshd 服务程序的 PID： [root@linuxprobe ~]# pidof sshd 2156\n9．kill - 中止单个进程 kill 命令用于终止某个指定 PID 的服务进程，格式为“kill [参数] [进程 PID]”。\n接下来，我们使用 kill 命令把上面用 pidof 命令查询到的 PID 所代表的进程终止掉，其命令如下所示。 这种操作的效果等同于强制停止 sshd 服务。 [root@linuxprobe ~]# kill 2156\n10．killall - 中止批量进程 killall 命令用于终止某个指定名称的服务所对应的全部进程，格式为：“killall [参数] [进程名称]”。\n通常来讲，复杂软件的服务程序会有多个进程协同为用户提供服务，如果逐个去结束这些进程会比较麻烦，此时可以使用 killall 命令来批量结束某个服务程序带有的全部进程。下面以 httpd 服务程序为例，来结束其全部进程。由于 RHEL7 系统默认没有安装 httpd 服务程序，因此大家此时只需看操作过程和输出结果即可，等学习了相关内容之后再来实践。\n[root@linuxprobe ~]# pidof httpd 13581 13580 13579 13578 13577 13576 [root@linuxprobe ~]# killall httpd [root@linuxprobe ~]# pidof httpd [root@linuxprobe ~]#\n如果我们在系统终端中执行一个命令后想立即停止它，可以同时按下 Ctrl + C 组合键，这样将立即终止该命令的进程。 或者，如果有些命令在执行时不断地在屏幕上输出信息，影响到后续命令的输入，则可以在执行命令时在末尾添加上一个\u0026符号，这样命令将进入系统后台来执行。\n二、系统状态检测命令 1．ifconfig - 网卡配置与网络状态 ifconfig 命令用于获取网卡配置与网络状态等信息，格式为“ifconfig [网络设备] [参数]”。\n使用 ifconfig 命令来查看本机当前的网卡配置与网络状态等信息时，其实主要查看的就是网卡名称、inet 参数后面的 IP 地址、ether 参数后面的网卡物理地址（又称为 MAC 地址），以及 RX、TX 的接收数据包与发送数据包的个数及累计流量（即下面加粗的信息内容）：\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 [root@linuxprobe ~]# ifconfig eno16777728: flags=4163 mtu 1500 inet 192.168.10.10 netmask 255.255.255.0 broadcast 192.168.10.255 inet6 fe80::20c:29ff:fec4:a409 prefixlen 64 scopeid 0x20 ether 00:0c:29:c4:a4:09 txqueuelen 1000 (Ethernet) RX packets 36 bytes 3176 (3.1 KiB) RX errors 0 dropped 0 overruns 0 frame 0 TX packets 38 bytes 4757 (4.6 KiB) TX errors 0 dropped 0 overruns 0 carrier 0 collisions 0 lo: flags=73 mtu 65536 inet 127.0.0.1 netmask 255.0.0.0 inet6 ::1 prefixlen 128 scopeid 0x10 loop txqueuelen 0 (Local Loopback) RX packets 386 bytes 32780 (32.0 KiB) RX errors 0 dropped 0 overruns 0 frame 0 TX packets 386 bytes 32780 (32.0 KiB) TX errors 0 dropped 0 overruns 0 carrier 0 collisions 0 2．uname - 系统内核与系统版本 uname 命令用于查看系统内核与系统版本等信息，格式为“uname [-a]”。\n在使用 uname 命令时，一般会固定搭配上-a 参数来完整地查看当前系统的内核名称、主机名、内核发行版本、节点名、系统时间、硬件名称、硬件平台、处理器类型以及操作系统名称等信息。\n[root@linuxprobe ~]# uname -a Linux linuxprobe.com 3.10.0-123.el7.x86_64 #1 SMP Mon May 5 11:16:57 EDT 2017 x86_64 x86_64 x86_64 GNU/Linux\n顺带一提，如果要查看当前系统版本的详细信息，则需要查看 redhat-release 文件，其命令以及相应的结果如下： [root@linuxprobe ~]# cat /etc/redhat-release Red Hat Enterprise Linux Server release 7.0 (Maipo)\n3．uptime - 系统负载信息 uptime 用于查看系统的负载信息，格式为 uptime。\nuptime 命令真的很棒，它可以显示当前系统时间、系统已运行时间、启用终端数量以及平均负载值等信息。 负载值越低越好，尽量不要长期超过 1，在生产环境中不要超过 5。\n平均负载值指的是系统在最近 1 分钟、5 分钟、15 分钟内的压力情况； [root@linuxprobe ~]# uptime 22:49:55 up 10 min, 2 users, load average: 0.01, 0.19, 0.18\n4．free - 内存使用量 free 用于显示当前系统中内存的使用量信息，格式为“free [-h]”。\n可以结合使用 -h 参数以更人性化的方式输出当前内存的实时使用量信息。 [root@linuxprobe ~]# free -h 执行 free -h 命令后的输出信息\n内存总量 已用量 可用量 进程共享的内存量 磁盘缓存的内存量 缓存的内存量 total used free shared buffers cached Mem 1.8GB 1.3GB 542MB 9.8MB 1.6MB 413MB -/+ buffers/cache 869MB 957MB Swap 2.0GB 0 2.0GB 5．who - 登入主机的用户终端信息 who 用于查看当前登入主机的用户终端信息，格式为“who [参数]”。\n这三个简单的字母可以快速显示出所有正在登录本机的用户的名称以及他们正在开启的终端信息。 [root@linuxprobe ~]# who 执行 who 命令的结果\n登录的用户名 终端设备 登录到系统的时间 root :0 2017-08-24 17:52 (:0) root pts/0 2017-08-24 17:52 (:0) 6．last - 系统的登录记录 last 命令用于查看所有系统的登录记录，格式为“last [参数]”。\n使用 last 命令可以查看本机的登录记录。但是，由于这些信息都是以日志文件的形式保存在系统中，因此黑客可以很容易地对内容进行篡改。千万不要单纯以该命令的输出信息而判断系统有无被恶意入侵！\n1 2 3 4 5 6 7 8 [root@linuxprobe ~]# last root pts/0 :0 Mon Aug 24 17:52 still logged in root :0 :0 Mon Aug 24 17:52 still logged in (unknown :0 :0 Mon Aug 24 17:50 - 17:52 (00:02) reboot system boot 3.10.0-123.el7.x Tue Aug 25 01:49 - 18:17 (-7:-32) root pts/0 :0 Mon Aug 24 15:40 - 08:54 (7+17:14) root pts/0 :0 Fri Jul 10 10:49 - 15:37 (45+04:47) ………………省略部分登录信息……………… 7．history - 显示历史执行过的命令 history 命令用于显示历史执行过的命令，格式为“history [-c]”。\nhistory 命令应该是作者最喜欢的命令。执行 history 命令能显示出当前用户在本地计算机中执行过的最近 1000 条命令记录。如果觉得 1000 不够用，还可以自定义/etc/profile 文件中的HISTSIZE 变量值。在使用 history 命令时，如果使用-c 参数则会清空所有的命令历史记录。还可以使用“!编码数字”的方式来重复执行某一次的命令。\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 [root@linuxprobe ~]# history 1 tar xzvf VMwareTools-9.9.0-2304977.tar.gz 2 cd vmware-tools-distrib/ 3 ls 4 ./vmware-install.pl -d 5 reboot 6 df -h 7 cd /run/media/ 8 ls 9 cd root/ 10 ls 11 cd VMware\\ Tools/ 12 ls 13 cp VMwareTools-9.9.0-2304977.tar.gz /home 14 cd /home 15 ls 16 tar xzvf VMwareTools-9.9.0-2304977.tar.gz 17 cd vmware-tools-distrib/ 18 ls 19 ./vmware-install.pl -d 20 reboot 21 history [root@linuxprobe ~]# !15 anaconda-ks.cfg Documents initial-setup-ks.cfg Pictures Templates Desktop Downloads Music Public Videos 历史命令会被保存到用户家目录中的.bash_history 文件中。Linux 系统中以点（.）开头的文件均代表隐藏文件，这些文件大多数为系统服务文件，可以用 cat 命令查看其文件内容。 [root@linuxprobe ~]# cat ~/.bash_history 要清空当前用户在本机上执行的 Linux 命令历史记录信息，可执行如下命令： [root@linuxprobe ~]# history -c\n8．sosreport - 系统配置及架构信息 sosreport 命令用于收集系统配置及架构信息并输出诊断文档，格式为 sosreport。\n当 Linux 系统出现故障需要联系技术支持人员时，大多数时候都要先使用这个命令来简单收集系统的运行状态和服务配置信息，以便让技术支持人员能够远程解决一些小问题，亦或让他们能提前了解某些复杂问题。在下面的输出信息中，加粗的部分是收集好的资料压缩文件以及校验码，将其发送给技术支持人员即可：\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 [root@linuxprobe ~]# sosreport sosreport (version 3.0) This command will collect diagnostic and configuration information from this Red Hat Enterprise Linux system and installed applications. An archive containing the collected information will be generated in /var/tmp and may be provided to a Red Hat support representative. Any information provided to Red Hat will be treated in accordance with the published support policies at: https://access.redhat.com/support/ The generated archive may contain data considered sensitive and its content should be reviewed by the originating organization before being passed to any third party. No changes will be made to system configuration. Press ENTER to continue, or CTRL-C to quit. 此处敲击回车来确认收集信息 Please enter your first initial and last name [linuxprobe.com]: 此处敲击回车来确认主机编号 Please enter the case number that you are generating this report for: 此处敲击回车来确认主机编号 Running plugins. Please wait ... Running 70/70: yum... Creating compressed archive... Your sosreport has been generated and saved in: /var/tmp/sosreport-linuxprobe.com-20170905230631.tar.xz The checksum is: 79436cdf791327040efde48c452c6322 Please send this file to your support representative. 三、工作目录切换命令 1．pwd - 当前所在工作目录 pwd 命令用于显示用户当前所处的工作目录，格式为“pwd [选项]”。 [root@linuxprobe etc]# pwd /etc\n2．cd - 切换工作路径 cd 命令用于切换工作路径，格式为“cd [目录名称]”。\n常见的切换目录方式： cd - 命令返回到上一次所处的目录 cd .. 命令进入上级目录 cd ~ 命令切换到当前用户的家目录 cd ~ username 切换到其他用户的家目录\n例如，可以使用“cd 路径”的方式切换进/etc 目录中： [root@linuxprobe ~]# cd /etc 同理，可使用下述命令切换到/bin 目录中： [root@linuxprobe etc]# cd /bin\n要返回到上一次的目录（即/etc 目录），可执行如下命令： [root@linuxprobe bin]# cd - /etc [root@linuxprobe etc]#\n通过下面的命令快速切换到用户的家目录： [root@linuxprobe etc]# cd ~ [root@linuxprobe ~]#\n3．ls - 显示目录中的文件信息 ls 命令用于显示目录中的文件信息，格式为“ls [选项] [文件] ”。\n所处的工作目录不同，当前工作目录下的文件肯定也不同。 使用 ls 命令的“-a”参数看到全部文件（包括隐藏文件）， 使用“-l”参数可以查看文件的属性、大小等详细信息。\n这两个参数整合之后，再执行 ls 命令即可查看当前目录中的所有文件并输出这些文件的属性信息：\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 [root@linuxprobe ~]# ls -al total 60 dr-xr-x---. 14 root root 4096 May 4 07:56 . drwxr-xr-x. 17 root root 4096 May 4 15:55 .. -rw-------. 1 root root 1213 May 4 15:44 anaconda-ks.cfg -rw-------. 1 root root 957 May 4 07:54 .bash_history -rw-r--r--. 1 root root 18 Dec 28 2013 .bash_logout -rw-r--r--. 1 root root 176 Dec 28 2013 .bash_profile -rw-r--r--. 1 root root 176 Dec 28 2013 .bashrc drwx------. 10 root root 4096 May 4 07:56 .cache drwx------. 15 root root 4096 May 4 07:49 .config -rw-r--r--. 1 root root 100 Dec 28 2013 .cshrc drwx------. 3 root root 24 May 4 07:46 .dbus drwxr-xr-x. 2 root root 6 May 4 07:49 Desktop drwxr-xr-x. 2 root root 6 May 4 07:49 Documents drwxr-xr-x. 2 root root 6 May 4 07:49 Downloads -rw-------. 1 root root 16 May 4 07:49 .esd_auth -rw-------. 1 root root 628 May 4 07:56 .ICEauthority -rw-r--r--. 1 root root 1264 May 4 07:48 initial-setup-ks.cfg drwx------. 3 root root 18 May 4 07:49 .local drwxr-xr-x. 2 root root 6 May 4 07:49 Music drwxr-xr-x. 2 root root 6 May 4 07:49 Pictures drwxr-xr-x. 2 root root 6 May 4 07:49 Public -rw-r--r--. 1 root root 129 Dec 28 2013 .tcshrc drwxr-xr-x. 2 root root 6 May 4 07:49 Templates drwxr-xr-x. 2 root root 6 May 4 07:49 Videos -rw-------. 1 root root 1962 May 4 07:54 .viminfo 如果想要查看目录属性信息，则需要额外添加一个-d 参数。例如，可使用如下命令查看 /etc 目录的权限与属性信息： [root@linuxprobe ~]# ls -ld /etc drwxr-xr-x. 132 root root 8192 Jul 10 10:48 /etc\n四、文本文件编辑命令 1．cat - 文本文件_内容较少的 cat 命令用于查看纯文本文件（内容较少的），格式为“cat [选项] [文件]”。\nLinux 系统中有多个用于查看文本内容的命令，每个命令都有自己的特点，比如这个 cat命令就是用于查看内容较少的纯文本文件的。\n如果在查看文本内容时还想顺便显示行号的话，不妨在 cat 命令后面追加一个-n 参数：\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 [root@linuxprobe ~]# cat -n initial-setup-ks.cfg 1 #version=RHEL7 2 # X Window System configuration information 3 xconfig --startxonboot 4 5 # License agreement 6 eula --agreed 7 # System authorization information 8 auth --enableshadow --passalgo=sha512 9 # Use CDROM installation media 10 cdrom 11 # Run the Setup Agent on first boot 12 firstboot --enable 13 # Keyboard layouts 14 keyboard --vckeymap=us --xlayouts='us' 15 # System language 16 lang en_US.UTF-8 ………………省略部分输出信息……………… 2．more - 文本文件_内容多的 more 命令用于查看纯文本文件（内容较多的），格式为“more [选项]文件”。\n对于长篇的文本内容，推荐使用 more 命令来查看。more命令会在最下面使用百分比的形式来提示您已经阅读了多少内容。您还可以使用空格键或回车键向下翻页：\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 [root@linuxprobe ~]# more initial-setup-ks.cfg #version=RHEL7 # X Window System configuration information xconfig --startxonboot # License agreement eula --agreed # System authorization information auth --enableshadow --passalgo=sha512 # Use CDROM installation media cdrom # Run the Setup Agent on first boot firstboot --enable # Keyboard layouts keyboard --vckeymap=us --xlayouts='us' # System language lang en_US.UTF-8 ignoredisk --only-use=sda # Network information network --bootproto=dhcp --device=eno16777728 --onboot=off --ipv6=auto network --bootproto=dhcp --hostname=linuxprobe.com --More--(43%) 3．head - 文本文档的前 N 行 head 命令用于查看纯文本文档的前 N 行，格式为“head [选项] [文件]”。\n如果只想查看文本中前 20 行的内容，该怎么办呢？head 命令可以派上用场了： [root@linuxprobe ~]# head -n 20 initial-setup-ks.cfg\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 [root@linuxprobe ~]# head -n 20 initial-setup-ks.cfg #version=RHEL7 # X Window System configuration information xconfig --startxonboot # License agreement eula --agreed # System authorization information auth --enableshadow --passalgo=sha512 # Use CDROM installation media cdrom # Run the Setup Agent on first boot firstboot --enable # Keyboard layouts keyboard --vckeymap=us --xlayouts='us' # System language lang en_US.UTF-8 ignoredisk --only-use=sda # Network information network --bootproto=dhcp --device=eno16777728 --onboot=off --ipv6=auto [root@linuxprobe ~]# 4．tail- 文本文档后 N 行/持续刷新内容 tail 命令用于查看纯文本文档的后 N 行或持续刷新内容，格式为“tail [选项] [文件]”。\n如需要查看文本内容的最后 20 行，只需要执行“tail -n 20 文件名”命令\ntail 命令最强悍的功能是可以持续刷新一个文件的内容，当想要实时查看最新日志文件时，这特别有用，此时的命令格式为“tail -f 文件名”：\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 [root@linuxprobe ~]# tail -f /var/log/messages May 4 07:56:38 localhost gnome-session: Window manager warning: Log level 16: STACK_OP_ADD: window 0x1e00001 already in stack May 4 07:56:38 localhost gnome-session: Window manager warning: Log level 16: STACK_OP_ADD: window 0x1e00001 already in stack May 4 07:56:38 localhost vmusr[12982]: [ warning] [Gtk] gtk_disable_setlocale() must be called before gtk_init() May 4 07:56:50 localhost systemd-logind: Removed session c1. Aug 1 01:05:31 localhost systemd: Time has been changed Aug 1 01:05:31 localhost systemd: Started LSB: Bring up/down networking. Aug 1 01:08:56 localhost dbus-daemon: dbus[1124]: [system] Activating service name='com.redhat.SubscriptionManager' (using servicehelper) Aug 1 01:08:56 localhost dbus[1124]: [system] Activating service name='com. redhat.SubscriptionManager' (using servicehelper) Aug 1 01:08:57 localhost dbus-daemon: dbus[1124]: [system] Successfully activated service 'com.redhat.SubscriptionManager' Aug 1 01:08:57 localhost dbus[1124]: [system] Successfully activated service ' com.redhat.SubscriptionManager' 5．tr - 替换文本文件中的字符 tr 命令用于替换文本文件中的字符，格式为“tr [原始字符] [目标字符]”。\n快速地替换文本中的一些词汇，就可以先使用 cat 命令读取待处理的文本，然后通过管道符把这些文本内容传递给 tr 命令进行替换操作即可。 例如，把某个文本内容中的英文全部替换为大写：\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 [root@linuxprobe ~]# cat anaconda-ks.cfg | tr [a-z] [A-Z] #VERSION=RHEL7 # SYSTEM AUTHORIZATION INFORMATION AUTH --ENABLESHADOW --PASSALGO=SHA512 # USE CDROM INSTALLATION MEDIA CDROM # RUN THE SETUP AGENT ON FIRST BOOT FIRSTBOOT --ENABLE IGNOREDISK --ONLY-USE=SDA # KEYBOARD LAYOUTS KEYBOARD --VCKEYMAP=US --XLAYOUTS='US' # SYSTEM LANGUAGE LANG EN_US.UTF-8 # NETWORK INFORMATION NETWORK --BOOTPROTO=DHCP --DEVICE=ENO16777728 --ONBOOT=OFF --IPV6=AUTO NETWORK --HOSTNAME=LOCALHOST.LOCALDOMAIN # ROOT PASSWORD ROOTPW --ISCRYPTED $6$PDJJF42G8C6PL069$II.PX/YFAQPO0ENW2PA7MOMKJLYOAE2ZJMZ2UZJ7 BH3UO4OWTR1.WK/HXZ3XIGMZGJPCS/MGPYSSOI8HPCT8B/ # SYSTEM TIMEZONE TIMEZONE AMERICA/NEW_YORK --ISUTC USER --NAME=LINUXPROBE --PASSWORD=$6$A9V3INSTNBWEIR7D$JEGFYWBCDOOOKJ9SODECCDO. ZLF4OSH2AZ2SS2R05B6LZ2A0V2K.RJWSBALL2FEKQVGF640OA/TOK6J.7GUTO/ --ISCRYPTED -- GECOS=\"LINUXPROBE\" # X WINDOW SYSTEM CONFIGURATION INFORMATION XCONFIG --STARTXONBOOT # SYSTEM BOOTLOADER CONFIGURATION BOOTLOADER --LOCATION=MBR --BOOT-DRIVE=SDA AUTOPART --TYPE=LVM # PARTITION CLEARING INFORMATION CLEARPART --NONE --INITLABEL %PACKAGES @BASE @CORE @DESKTOP-DEBUGGING @DIAL-UP @FONTS @GNOME-DESKTOP @GUEST-AGENTS @GUEST-DESKTOP-AGENTS @INPUT-METHODS @INTERNET-BROWSER @MULTIMEDIA @PRINT-CLIENT @X11 %END 6．wc - 统计文本的字数行数字节数 wc 命令用于统计指定文本的行数、字数、字节数，格式为“wc [参数] 文本”。\nwc 的参数以及作用\n参数 作用 -l 只显示行数 -w 只显示单词数 -c 只显示字节数 在 Linux 系统中，passwd 是用于保存系统账户信息的文件，要统计当前系统中有多少个 用户，可以使用下面的命令来进行查询，是不是很神奇： [root@linuxprobe ~]# wc -l /etc/passwd 38 /etc/passwd\n7．stat - 文件具体存储信息和时间 stat 命令用于查看文件的具体存储信息和时间等信息，格式为“stat 文件名称”。\n命令 stat anaconda-ks.cfg 会显示出文件的三种时间状态：Access、Modify、Change。这三种时间的区别将在下面的 touch命令中详细详解：\n1 2 3 4 5 6 7 8 9 10 [root@linuxprobe ~]# stat anaconda-ks.cfg File: ‘anaconda-ks.cfg’ Size: 1213 Blocks: 8 IO Block: 4096 regular file Device: fd00h/64768d Inode: 68912908 Links: 1 Access: (0600/-rw-------) Uid: ( 0/ root) Gid: ( 0/ root) Context: system_u:object_r:admin_home_t:s0 Access: 2017-07-14 01:46:18.721255659 -0400 Modify: 2017-05-04 15:44:36.916027026 -0400 Change: 2017-05-04 15:44:36.916027026 -0400 Birth: - 8．cut - 按“列”提取文本字符 cut 命令用于按“列”提取文本字符，格式为“cut [参数] 文本”。\n一般而言，按基于“行”的方式来提取数据是比较简单的，只需要设置好要搜索的关键词即可。 但是如果按列搜索，不仅要使用-f 参数来设置需要看的列数，还需要使用-d 参数来设置间隔符号。 passwd 在保存用户数据信息时，用户信息的每一项值之间是采用冒号来间隔的，接下来我们使用 下述命令尝试提取出 passwd 文件中的用户名信息，即提取以冒号（：）为间隔符号的第一列容：\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 [root@linuxprobe ~]# head -n 2 /etc/passwd root❌0:0:root:/root:/bin/bash bin❌1:1:bin:/bin:/sbin/nologin [root@linuxprobe ~]# cut -d: -f1 /etc/passwd root bin daemon adm lp sync shutdown halt mail operator games ftp nobody dbus polkitd unbound colord usbmuxd avahi avahi-autoipd libstoragemgmt saslauth qemu rpc 9．diff - 比较多个文本文件的差异 diff 命令用于比较多个文本文件的差异，格式为“diff [参数] 文件”。\n可以使用 –brief 参数来确认两个文件是否不同 可以使用 -c 参数来详细比较出多个文件的差异之处 先使用 cat 命令分别查看 diff_A.txt 和 diff_B.txt 文件的内容，然后进行比较： [root@linuxprobe ~]# cat diff_A.txt Welcome to linuxprobe.com Red Hat certified Free Linux Lessons Professional guidance Linux Course\n[root@linuxprobe ~]# cat diff_B.txt Welcome tooo linuxprobe.com Red Hat certified Free Linux LeSSonS ////////…..//////// Professional guidance Linux Course\n接下来使用 diff –brief 命令显示比较后的结果，判断文件是否相同： [root@linuxprobe ~]# diff –brief diff_A.txt diff_B.txt Files diff_A.txt and diff_B.txt differ\n最后使用带有-c 参数的 diff 命令来描述文件内容具体的不同：\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 [root@linuxprobe ~]# diff -c diff_A.txt diff_B.txt *** diff_A.txt 2017-08-30 18:07:45.230864626 +0800 --- diff_B.txt 2017-08-30 18:08:52.203860389 +0800 *************** *** 1,5 **** ! Welcome to linuxprobe.com Red Hat certified ! Free Linux Lessons Professional guidance Linux Course --- 1,7 ---- ! Welcome tooo linuxprobe.com ! Red Hat certified ! Free Linux LeSSonS ! ////////.....//////// Professional guidance Linux Course 五、文件目录管理命令 1．touch - 创建空白文件/设置文件时间 touch 命令用于创建空白文件或设置文件的时间，格式为“touch [选项] [文件]”。\n比如，touch linuxprobe 命令可以创建出一个名为 linuxprobe 的空白文本文件。 对 touch 命令来讲，有难度的操作主要是体现在 设置文件内容的修改时间（mtime）、文件权限或属性的更改时间（ctime）与文件的读取时间（atime） 上面。 touch 命令的参数及其作用如表所示\n参数 作用 -a 仅修改“读取时间”（atime） -m 仅修改“修改时间”（mtime） -d 同时修改 atime 与 mtime 接下来我们先使用 ls 命令查看一个文件的修改时间，然后修改这个文件，最后再通过 touch 命令把修改后的文件时间设置成修改之间的时间（很多黑客就是这样做的呢）：\n1 2 3 4 5 6 7 8 9 10 11 12 [root@linuxprobe ~]# ls -l anaconda-ks.cfg //查看文件的修改时间 -rw-------. 1 root root 1213 May 4 15:44 anaconda-ks.cfg [root@linuxprobe ~]# echo \"Visit the LinuxProbe.com to learn linux skills\" \u003e\u003e anaconda-ks.cfg //修改文件 [root@linuxprobe ~]# ls -l anaconda-ks.cfg -rw-------. 1 root root 1260 Aug 2 01:26 anaconda-ks.cfg [root@linuxprobe ~]# touch -d \"2017-05-04 15:44\" anaconda-ks.cfg //设置文件的修改时间 [root@linuxprobe ~]# ls -l anaconda-ks.cfg -rw-------. 1 root root 1260 May 4 15:44 anaconda-ks.cfg 2．mkdir - 创建空白的目录 mkdir 命令用于创建空白的目录，格式为“mkdir [选项] 目录”。 [root@linuxprobe ~]# mkdir linuxprobe [root@linuxprobe ~]# cd linuxprobe\nmkdir命令还可以结合-p 参数来递归创建出具有嵌套叠层关系的文件目录。 [root@linuxprobe linuxprobe]# mkdir -p a/b/c/d/e [root@linuxprobe linuxprobe]# cd a [root@linuxprobe a]# cd b [root@linuxprobe b]#\n3．cp - 复制文件/目录 cp 命令用于复制文件或目录，格式为“cp [选项] 源文件 目标文件”。\n复制操作具体分为 3 种情况：\n如果目标文件是目录，则会把源文件复制到该目录中； 如果目标文件也是普通文件，则会询问是否要覆盖它； 如果目标文件不存在，则执行正常的复制操作 cp 命令的参数及其作用\n参数 作用 -a 仅修改“读取时间”（atime） -m 仅修改“修改时间”（mtime） -d 同时修改 atime 与 mtime -p 保留原始文件的属性 -d 若对象为“链接文件”，则保留该“链接文件”的属性 -i 若目标文件存在则询问是否覆盖 -a 相当于-pdr（p、d、r 为上述参数） 接下来，使用 touch 创建一个名为 install.log 的普通空白文件，然后将其复制为一份名为 x.log 的备份文件，最后再使用 ls 命令查看目录中的文件： [root@linuxprobe ~]# touch install.log [root@linuxprobe ~]# cp install.log x.log [root@linuxprobe ~]# ls install.log x.log\n4．mv - 剪切文件/文件重命名 mv 命令用于剪切文件或将文件重命名，格式为“mv [选项] 源文件 [目标路径|目标文件名]”。\n如果在同一个目录中对一个文件进行剪切操作，其实也就是对其进行重命名： [root@linuxprobe ~]# mv x.log linux.log [root@linuxprobe ~]# ls install.log linux.log\n5．rm - 删除文件/目录 rm 命令用于删除文件或目录，格式为“rm [选项] 文件”。 rm -f 强制删除 rm -r 删除一个目录\n我们来尝试删除前面创建的 install.log和 linux.log 文件： [root@linuxprobe ~]# rm install.log rm: remove regular empty file ‘install.log’? y [root@linuxprobe ~]# rm -f linux.log [root@linuxprobe ~]# ls [root@linuxprobe ~]#\n6．dd - 按指定大学复制文件 dd 命令用于按照指定大小和个数的数据块来复制文件或转换文件，格式为“dd [参数]”。\ndd 命令它能够让用户按照指定大小和个数的数据块来复制文件的内容。 当然如果愿意的话，还可以在复制过程中转换其中的数据。 Linux系统中有一个名为/dev/zero 的设备文件，每次在课堂上解释它时都充满哲学理论的色彩。因为这个文件不会占用系统存储空间，但却可以提供无穷无尽的数据，因此可以使用它作为 dd命令的输入文件，来生成一个指定大小的文件。\ndd 命令的参数及其作用\n参数 作用 if 输入的文件名称 of 输出的文件名称 bs 设置每个“块”的大小 count 设置要复制“块”的个数 例如我们可以用 dd 命令从/dev/zero 设备文件中取出一个大小为 560MB 的数据块，然后 保存成名为 560_file 的文件。 [root@linuxprobe ~]# dd if=/dev/zero of=560_file count=1 bs=560M 1+0 records in 1+0 records out 587202560 bytes (587 MB) copied, 27.1755 s, 21.6 MB/s\ndd 命令的功能不仅限于复制文件 如果您想把光驱设备中的光盘制作成 iso 格式的镜像文件，在 Windows 系统中需要借助于第三方软件才能做到，但在 Linux 系统中可以直接使用 dd 命令来压制出光盘镜像文件，将它编程一个可立即使用的 iso 镜像： [root@linuxprobe ~]# dd if=/dev/cdrom of=RHEL-server-7.0-x86_64-LinuxProbe.Com.iso 7311360+0 records in 7311360+0 records out 3743416320 bytes (3.7 GB) copied, 370.758 s, 10.1 MB/s\n考虑到有些读者会纠结 bs 块大小与 count 块个数的关系，下面举一个吃货的例子进行解释。假设小明的饭量（即需求）是一个固定的值，用来盛饭的勺子的大小即 bs 块大小，而用勺子盛饭的次数即 count 块个数。小明要想吃饱（满足需求），则需要在勺子大小（bs块大小）与用勺子盛饭的次数（count 块个数）之间进行平衡。勺子越大，用勺子盛饭的次数就越少。有上可见，bs 与 count 都是用来指定容量的大小，只要能满足需求，可随意组合搭配方式。\n7．file - 查看文件的类型 file 命令用于查看文件的类型，格式为“file 文件名”。\n[root@linuxprobe ~]# file anaconda-ks.cfg anaconda-ks.cfg: ASCII text [root@linuxprobe ~]# file /dev/sda /dev/sda: block special\n六、打包压缩与搜索命令 1．tar - 打包压缩或解压 tar 命令用于对文件进行打包压缩或解压，格式为“tar [选项] [文件]”。\n在 Linux 系统中，常见的文件格式比较多，其中主要使用的是.tar 或.tar.gz 或.tar.bz2 格式，其实这些格式大部分都是由 tar 命令来生成的。 tar 命令的参数及其作用\n参数 作用 -c 创建压缩文件 -x 解开压缩文件 -t 查看压缩包内有哪些文件 -z 用 Gzip 压缩或解压 -j 用 bzip2 压缩或解压 -v 显示压缩或解压的过程 -f 目标文件名 -p 保留原始的权限与属性 -P 使用绝对路径来压缩 -C 指定解压到的目录 首先，-c 参数用于创建压缩文件，-x 参数用于解压文件，因此这两个参数不能同时使用。 其次，-z 参数指定使用 Gzip 格式来压缩或解压文件，-j 参数指定使用 bzip2 格式来压缩或解 压文件。用户使用时则是根据文件的后缀来决定应使用何种格式参数进行解压。 推荐使用-v 参数向用户不断显示压缩或解压的过程。 -C 参数用于指定要解压到哪个指定的目录。 -f 参数特别重要，它必须放到参数的最后一位，代表要压缩或解压的软件包名称。\n刘遄老师一般使用“tar -czvf 压缩包名称.tar.gz 要打包的目录” 命令把指定的文件进行打包压缩；相应的解压命令为“tar -xzvf 压缩包名称.tar.gz”。\n下面我们来逐个演示下打包压缩与解压的操作。 先使用 tar 命令把/etc 目录通过 gzip 格式进行打包压缩，并把文件命名为 etc.tar.gz：\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 [root@linuxprobe ~]# tar -czvf etc.tar.gz /etc tar: Removing leading '/' from member names /etc/ /etc/fstab /etc/crypttab /etc/mtab /etc/fonts/ /etc/fonts/conf.d/ /etc/fonts/conf.d/65-0-madan.conf /etc/fonts/conf.d/59-liberation-sans.conf /etc/fonts/conf.d/90-ttf-arphic-uming-embolden.conf /etc/fonts/conf.d/59-liberation-mono.conf /etc/fonts/conf.d/66-sil-nuosu.conf ………………省略部分压缩过程信息……………… 接下来将打包后的压缩包文件指定解压到/root/etc 目录中（先使用 mkdir 命令来创建/root/etc 目录）：\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 [root@linuxprobe ~]# mkdir /root/etc [root@linuxprobe ~]# tar xzvf etc.tar.gz -C /root/etc etc/ etc/fstab etc/crypttab etc/mtab etc/fonts/ etc/fonts/conf.d/ etc/fonts/conf.d/65-0-madan.conf etc/fonts/conf.d/59-liberation-sans.conf etc/fonts/conf.d/90-ttf-arphic-uming-embolden.conf etc/fonts/conf.d/59-liberation-mono.conf etc/fonts/conf.d/66-sil-nuosu.conf etc/fonts/conf.d/65-1-vlgothic-gothic.conf etc/fonts/conf.d/65-0-lohit-bengali.conf etc/fonts/conf.d/20-unhint-small-dejavu-sans.conf ………………省略部分解压过程信息……………… 2．grep - 执行关键词搜索 grep 命令用于在文本中执行关键词搜索，并显示匹配的结果，格式为“grep [选项] [文件]”。 grep 命令的参数及其作用\n参数 作用 -b 将可执行文件（binary）当作文本文件（text）来搜索 -c 仅显示找到的行数 -i 忽略大小写 -n 显示行号 -v 反向选择—仅列出没有“关键词”的行 两个最最常用的参数： -n 参数用来显示搜索到信息的行号； -v 参数用于反选信息（即没有包含关键词的所有信息行）\n这两个参数几乎能完成您日后 80%的工作需要，至于其他上百个参数，即使以后在工作期间遇到了，再使用 man grep 命令查询也来得及。\n在 Linux 系统中，/etc/passwd 文件是保存着所有的用户信息，而一旦用户的登录终端被设置成 /sbin/nologin，则不再允许登录系统，因此可以使用 grep 命令来查找出当前系统中不允许登录系统的所有用户信息： [root@linuxprobe ~]# grep /sbin/nologin /etc/passwd bin❌1:1:bin:/bin:/sbin/nologin daemon❌2:2:daemon:/sbin:/sbin/nologin adm❌3:4:adm:/var/adm:/sbin/nologin lp❌4:7:lp:/var/spool/lpd:/sbin/nologin mail❌8:12:mail:/var/spool/mail:/sbin/nologin operator❌11:0:operator:/root:/sbin/nologin ………………省略部分输出过程信息………………\n3．find - 查找文件 find 命令用于按照指定条件来查找文件，格式为“find [查找路径] 寻找条件 操作”。\n搜索工作一般都是通过 find 命令来完成的，它可以使用不同的文件特性作为寻找条件（如文件名、大小、修改时间、权限等信息），一旦匹配成功则默认将信息显示到屏幕上。\nfind 命令中的参数以及作用\n参数 作用 -name 匹配名称 -perm 匹配权限（mode 为完全匹配，-mode 为包含即可） -user 匹配所有者 -group 匹配所有组 -mtime -n +n 匹配修改内容的时间（-n 指 n 天以内，+n 指 n 天以前） -atime -n +n 匹配访问文件的时间（-n 指 n 天以内，+n 指 n 天以前） -ctime -n +n 匹配修改文件权限的时间（-n 指 n 天以内，+n 指 n 天以前） -nouser 匹配无所有者的文件 -nogroup 匹配无所有组的文件 -newer f1 !f2 匹配比文件 f1 新但比 f2 旧的文件 –type b/d/c/p/l/f 匹配文件类型（后面的字幕参数依次表示块设备、目录、字符设备、管道、链接文件、文本文件） -size 匹配文件的大小（+50KB 为查找超过 50KB 的文件，而-50KB 为查找小于 -prune 忽略某个目录 -exec …… {}; 后面可跟用于进一步处理搜索结果的命令（下文会有演示） 这里需要重点讲解一下-exec 参数重要的作用。这个参数用于把 find 命令搜索到的结果交由紧随其后的命令作进一步处理，它十分类似于第 3 章将要讲解的管道符技术，并且由于 find命令对参数的特殊要求，因此虽然 exec 是长格式形式，但依然只需要一个减号（-）。 根据文件系统层次标准（Filesystem Hierarchy Standard）协议，Linux 系统中的配置文件会保存到/etc 目录中（详见第 6 章）。如果要想获取到该目录中所有以 host 开头的文件列表，可以执行如下命令： [root@linuxprobe ~]# find /etc -name “host*” -print /etc/avahi/hosts /etc/host.conf /etc/hosts /etc/hosts.allow /etc/hosts.deny /etc/selinux/targeted/modules/active/modules/hostname.pp /etc/hostname\n如果要在整个系统中搜索权限中包括 SUID 权限的所有文件（详见第 5 章），只需使用-4000 即可： [root@linuxprobe ~]# find / -perm -4000 -print /usr/bin/fusermount /usr/bin/su /usr/bin/umount /usr/bin/passwd /usr/sbin/userhelper /usr/sbin/usernetctl ………………省略部分输出信息………………\n复习题 1．在 RHEL 7 系统及众多的 Linux 系统中，最常使用的 Shell 终端是什么？ 答：Bash（Bourne-Again SHell）解释器。\n2．执行 Linux 系统命令时，添加参数的目的是什么？ 答：为了让 Linux 系统命令能够更贴合用户的实际需求进行工作。\n3．Linux 系统命令、命令参数及命令对象之间，普遍应该使用什么来间隔？ 答：应该使用一个或多个空格进行间隔。\n4．请写出用 echo 命令把 SHELL 变量值输出到屏幕终端的命令。 答：echo $SHELL。\n5．简述 Linux 系统中 5 种进程的名称及含义。 答：在 Linux 系统中，有下面 5 种进程名称。\n（运行）：进程正在运行或在运行队列中等待。 （中断）：进程处于休眠中，当某个条件形成后或者接收到信号时，则脱离该状态。 （不可中断）：进程不响应系统异步信号，即便用 kill 命令也不能将其中断。 （僵死）：进程已经终止，但进程描述符依然存在, 直到父进程调用 wait4()系统函数后将进程释放。 （停止）：进程收到停止信号后停止运行。 6．请尝试使用 Linux 系统命令关闭 PID 为 5529 的服务进程。 答：执行 kill 5529 命令即可；若知道服务的名称，则可以使用 killall 命令进行关闭。\n7．使用 ifconfig 命令查看网络状态信息时，需要重点查看的 4 项信息分别是什么？ 答：这 4 项重要信息分别是网卡名称、IP 地址、网卡物理地址以及 RX/TX 的收发流量数据大小。\n8．使用 uptime 命令查看系统负载时，对应的负载数值如果是 0.91、0.56、0.32，那么最近 15分钟内负载压力最大的是哪个时间段？ 答：通过负载数值可以看出，最近 1 分钟内的负载压力是最大的。\n9．使用 history 命令查看历史命令的执行记录时，命令前面的数字除了排序外还有什么用处？ 答：还可以用“!数字”的命令格式重复执行某一次的命令记录，从而避免了重复输入较长命令的麻烦。\n10．若想查看的文件具有较长的内容，那么使用 cat、more、head、tail 中的哪个命令最合适？ 答：文件内容较长，使用 more 命令；反之使用 cat 命令。\n11．在使用 mkdir 命令创建有嵌套关系的目录时，应该加上什么参数呢？ 答：应该加上-p 递归迭代参数，从而自动化创建有嵌套关系的目录。复习题\n12．在使用 rm 命令删除文件或目录时，可使用哪个参数来避免二次确认呢？ 答：可使用-f 参数，这样即可无需二次确认。\n13．若有一个名为 backup.tar.gz 的压缩包文件，那么解压的命令应该是什么？ 答：应该用 tar 命令进行解压，执行 tar -xzvf backup.tar.gz 命令即可。\n14．使用 grep 命令对某个文件进行关键词搜索时，若想要进行文件内容反选，应使用什么参数？ 答：可使用-v 参数来进行匹配内容的反向选择，即显示出不包含某个关键词的行。\n","wordCount":"12674","inLanguage":"en","datePublished":"0001-01-01T00:00:00Z","dateModified":"0001-01-01T00:00:00Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://bablvsj.github.io/posts/tech/linux/20230809-linux-%E6%96%B0%E6%89%8B%E5%BF%85%E5%A4%87%E5%91%BD%E4%BB%A4/"},"publisher":{"@type":"Organization","name":"Bablvsj's Blog","logo":{"@type":"ImageObject","url":"https://bablvsj.github.io/img/Q.gif"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://bablvsj.github.io accesskey=h title="Bablvsj's Blog (Alt + H)">Bablvsj's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://bablvsj.github.io/ title=主页><span>主页</span></a></li><li><a href=https://bablvsj.github.io/archives/ title=时间轴><span>时间轴</span></a></li><li><a href=https://bablvsj.github.io/tags title=标签><span>标签</span></a></li><li><a href=https://bablvsj.github.io/about title=关于><span>关于</span></a></li><li><a href=https://bablvsj.github.io/search title="🔍 (Alt + /)" accesskey=/><span>🔍</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>Linux 新手必备命令</h1><div class=post-meta><ul class=post-tags-meta><a href=https://bablvsj.github.io/tags/linux-cloud/>Linux-Cloud</a></ul>26 min</div></header><aside id=toc-container class="toc-container wide"><div class=toc><div class=inner><ul><li><a href=#%e4%b8%80%e5%b8%b8%e7%94%a8%e7%b3%bb%e7%bb%9f%e5%b7%a5%e4%bd%9c%e5%91%bd%e4%bb%a4 aria-label=一、常用系统工作命令>一、常用系统工作命令</a><ul><li><a href=#1echo---%e8%be%93%e5%87%ba%e5%80%bc aria-label="1．echo - 输出值">1．echo - 输出值</a></li><li><a href=#2date---%e6%97%b6%e9%97%b4%e7%9b%b8%e5%85%b3 aria-label="2．date - 时间相关">2．date - 时间相关</a></li><li><a href=#3reboot---%e7%b3%bb%e7%bb%9f%e9%87%8d%e5%90%af aria-label="3．reboot - 系统重启">3．reboot - 系统重启</a></li><li><a href=#4poweroff---%e5%85%b3%e9%97%ad%e7%b3%bb%e7%bb%9f aria-label="4．poweroff - 关闭系统">4．poweroff - 关闭系统</a></li><li><a href=#5wget---%e4%b8%8b%e8%bd%bd%e7%bd%91%e7%bb%9c%e6%96%87%e4%bb%b6 aria-label="5．wget - 下载网络文件">5．wget - 下载网络文件</a></li><li><a href=#6ps---%e6%9f%a5%e7%9c%8b%e8%bf%9b%e7%a8%8b%e7%8a%b6%e6%80%81 aria-label="6．ps - 查看进程状态">6．ps - 查看进程状态</a></li><li><a href=#7top-%e5%91%bd%e4%bb%a4 aria-label="7．top 命令">7．top 命令</a></li><li><a href=#8pidof-%e6%9f%a5%e8%af%a2%e6%9f%90%e4%b8%aa%e8%bf%9b%e7%a8%8bpid aria-label="8．pidof 查询某个进程PID">8．pidof 查询某个进程PID</a></li><li><a href=#9kill---%e4%b8%ad%e6%ad%a2%e5%8d%95%e4%b8%aa%e8%bf%9b%e7%a8%8b aria-label="9．kill - 中止单个进程">9．kill - 中止单个进程</a></li><li><a href=#10killall---%e4%b8%ad%e6%ad%a2%e6%89%b9%e9%87%8f%e8%bf%9b%e7%a8%8b aria-label="10．killall - 中止批量进程">10．killall - 中止批量进程</a></li></ul></li><li><a href=#%e4%ba%8c%e7%b3%bb%e7%bb%9f%e7%8a%b6%e6%80%81%e6%a3%80%e6%b5%8b%e5%91%bd%e4%bb%a4 aria-label=二、系统状态检测命令>二、系统状态检测命令</a><ul><li><a href=#1ifconfig---%e7%bd%91%e5%8d%a1%e9%85%8d%e7%bd%ae%e4%b8%8e%e7%bd%91%e7%bb%9c%e7%8a%b6%e6%80%81 aria-label="1．ifconfig - 网卡配置与网络状态">1．ifconfig - 网卡配置与网络状态</a></li><li><a href=#2uname---%e7%b3%bb%e7%bb%9f%e5%86%85%e6%a0%b8%e4%b8%8e%e7%b3%bb%e7%bb%9f%e7%89%88%e6%9c%ac aria-label="2．uname - 系统内核与系统版本">2．uname - 系统内核与系统版本</a></li><li><a href=#3uptime---%e7%b3%bb%e7%bb%9f%e8%b4%9f%e8%bd%bd%e4%bf%a1%e6%81%af aria-label="3．uptime - 系统负载信息">3．uptime - 系统负载信息</a></li><li><a href=#4free---%e5%86%85%e5%ad%98%e4%bd%bf%e7%94%a8%e9%87%8f aria-label="4．free - 内存使用量">4．free - 内存使用量</a></li><li><a href=#5who---%e7%99%bb%e5%85%a5%e4%b8%bb%e6%9c%ba%e7%9a%84%e7%94%a8%e6%88%b7%e7%bb%88%e7%ab%af%e4%bf%a1%e6%81%af aria-label="5．who - 登入主机的用户终端信息">5．who - 登入主机的用户终端信息</a></li><li><a href=#6last---%e7%b3%bb%e7%bb%9f%e7%9a%84%e7%99%bb%e5%bd%95%e8%ae%b0%e5%bd%95 aria-label="6．last - 系统的登录记录">6．last - 系统的登录记录</a></li><li><a href=#7history----%e6%98%be%e7%a4%ba%e5%8e%86%e5%8f%b2%e6%89%a7%e8%a1%8c%e8%bf%87%e7%9a%84%e5%91%bd%e4%bb%a4 aria-label="7．history -  显示历史执行过的命令">7．history - 显示历史执行过的命令</a></li><li><a href=#8sosreport---%e7%b3%bb%e7%bb%9f%e9%85%8d%e7%bd%ae%e5%8f%8a%e6%9e%b6%e6%9e%84%e4%bf%a1%e6%81%af aria-label="8．sosreport - 系统配置及架构信息">8．sosreport - 系统配置及架构信息</a></li></ul></li><li><a href=#%e4%b8%89%e5%b7%a5%e4%bd%9c%e7%9b%ae%e5%bd%95%e5%88%87%e6%8d%a2%e5%91%bd%e4%bb%a4 aria-label=三、工作目录切换命令>三、工作目录切换命令</a><ul><li><a href=#1pwd---%e5%bd%93%e5%89%8d%e6%89%80%e5%9c%a8%e5%b7%a5%e4%bd%9c%e7%9b%ae%e5%bd%95 aria-label="1．pwd - 当前所在工作目录">1．pwd - 当前所在工作目录</a></li><li><a href=#2cd---%e5%88%87%e6%8d%a2%e5%b7%a5%e4%bd%9c%e8%b7%af%e5%be%84 aria-label="2．cd - 切换工作路径">2．cd - 切换工作路径</a></li><li><a href=#3ls---%e6%98%be%e7%a4%ba%e7%9b%ae%e5%bd%95%e4%b8%ad%e7%9a%84%e6%96%87%e4%bb%b6%e4%bf%a1%e6%81%af aria-label="3．ls - 显示目录中的文件信息">3．ls - 显示目录中的文件信息</a></li></ul></li><li><a href=#%e5%9b%9b%e6%96%87%e6%9c%ac%e6%96%87%e4%bb%b6%e7%bc%96%e8%be%91%e5%91%bd%e4%bb%a4 aria-label=四、文本文件编辑命令>四、文本文件编辑命令</a><ul><li><a href=#1cat---%e6%96%87%e6%9c%ac%e6%96%87%e4%bb%b6_%e5%86%85%e5%ae%b9%e8%be%83%e5%b0%91%e7%9a%84 aria-label="1．cat - 文本文件_内容较少的">1．cat - 文本文件_内容较少的</a></li><li><a href=#2more---%e6%96%87%e6%9c%ac%e6%96%87%e4%bb%b6_%e5%86%85%e5%ae%b9%e5%a4%9a%e7%9a%84 aria-label="2．more - 文本文件_内容多的">2．more - 文本文件_内容多的</a></li><li><a href=#3head---%e6%96%87%e6%9c%ac%e6%96%87%e6%a1%a3%e7%9a%84%e5%89%8d-n-%e8%a1%8c aria-label="3．head - 文本文档的前 N 行">3．head - 文本文档的前 N 行</a></li><li><a href=#4tail--%e6%96%87%e6%9c%ac%e6%96%87%e6%a1%a3%e5%90%8e-n-%e8%a1%8c%e6%8c%81%e7%bb%ad%e5%88%b7%e6%96%b0%e5%86%85%e5%ae%b9 aria-label="4．tail- 文本文档后 N 行/持续刷新内容">4．tail- 文本文档后 N 行/持续刷新内容</a></li><li><a href=#5tr---%e6%9b%bf%e6%8d%a2%e6%96%87%e6%9c%ac%e6%96%87%e4%bb%b6%e4%b8%ad%e7%9a%84%e5%ad%97%e7%ac%a6 aria-label="5．tr - 替换文本文件中的字符">5．tr - 替换文本文件中的字符</a></li><li><a href=#6wc---%e7%bb%9f%e8%ae%a1%e6%96%87%e6%9c%ac%e7%9a%84%e5%ad%97%e6%95%b0%e8%a1%8c%e6%95%b0%e5%ad%97%e8%8a%82%e6%95%b0 aria-label="6．wc - 统计文本的字数行数字节数">6．wc - 统计文本的字数行数字节数</a></li><li><a href=#7stat---%e6%96%87%e4%bb%b6%e5%85%b7%e4%bd%93%e5%ad%98%e5%82%a8%e4%bf%a1%e6%81%af%e5%92%8c%e6%97%b6%e9%97%b4 aria-label="7．stat - 文件具体存储信息和时间">7．stat - 文件具体存储信息和时间</a></li><li><a href=#8cut---%e6%8c%89%e5%88%97%e6%8f%90%e5%8f%96%e6%96%87%e6%9c%ac%e5%ad%97%e7%ac%a6 aria-label="8．cut - 按“列”提取文本字符">8．cut - 按“列”提取文本字符</a></li><li><a href=#9diff---%e6%af%94%e8%be%83%e5%a4%9a%e4%b8%aa%e6%96%87%e6%9c%ac%e6%96%87%e4%bb%b6%e7%9a%84%e5%b7%ae%e5%bc%82 aria-label="9．diff - 比较多个文本文件的差异">9．diff - 比较多个文本文件的差异</a></li></ul></li><li><a href=#%e4%ba%94%e6%96%87%e4%bb%b6%e7%9b%ae%e5%bd%95%e7%ae%a1%e7%90%86%e5%91%bd%e4%bb%a4 aria-label=五、文件目录管理命令>五、文件目录管理命令</a><ul><li><a href=#1touch---%e5%88%9b%e5%bb%ba%e7%a9%ba%e7%99%bd%e6%96%87%e4%bb%b6%e8%ae%be%e7%bd%ae%e6%96%87%e4%bb%b6%e6%97%b6%e9%97%b4 aria-label="1．touch - 创建空白文件/设置文件时间">1．touch - 创建空白文件/设置文件时间</a></li><li><a href=#2mkdir---%e5%88%9b%e5%bb%ba%e7%a9%ba%e7%99%bd%e7%9a%84%e7%9b%ae%e5%bd%95 aria-label="2．mkdir - 创建空白的目录">2．mkdir - 创建空白的目录</a></li><li><a href=#3cp---%e5%a4%8d%e5%88%b6%e6%96%87%e4%bb%b6%e7%9b%ae%e5%bd%95 aria-label="3．cp - 复制文件/目录">3．cp - 复制文件/目录</a></li><li><a href=#4mv---%e5%89%aa%e5%88%87%e6%96%87%e4%bb%b6%e6%96%87%e4%bb%b6%e9%87%8d%e5%91%bd%e5%90%8d aria-label="4．mv - 剪切文件/文件重命名">4．mv - 剪切文件/文件重命名</a></li><li><a href=#5rm---%e5%88%a0%e9%99%a4%e6%96%87%e4%bb%b6%e7%9b%ae%e5%bd%95 aria-label="5．rm - 删除文件/目录">5．rm - 删除文件/目录</a></li><li><a href=#6dd---%e6%8c%89%e6%8c%87%e5%ae%9a%e5%a4%a7%e5%ad%a6%e5%a4%8d%e5%88%b6%e6%96%87%e4%bb%b6 aria-label="6．dd - 按指定大学复制文件">6．dd - 按指定大学复制文件</a></li><li><a href=#7file---%e6%9f%a5%e7%9c%8b%e6%96%87%e4%bb%b6%e7%9a%84%e7%b1%bb%e5%9e%8b aria-label="7．file - 查看文件的类型">7．file - 查看文件的类型</a></li></ul></li><li><a href=#%e5%85%ad%e6%89%93%e5%8c%85%e5%8e%8b%e7%bc%a9%e4%b8%8e%e6%90%9c%e7%b4%a2%e5%91%bd%e4%bb%a4 aria-label=六、打包压缩与搜索命令>六、打包压缩与搜索命令</a><ul><li><a href=#1tar---%e6%89%93%e5%8c%85%e5%8e%8b%e7%bc%a9%e6%88%96%e8%a7%a3%e5%8e%8b aria-label="1．tar - 打包压缩或解压">1．tar - 打包压缩或解压</a></li><li><a href=#2grep---%e6%89%a7%e8%a1%8c%e5%85%b3%e9%94%ae%e8%af%8d%e6%90%9c%e7%b4%a2 aria-label="2．grep - 执行关键词搜索">2．grep - 执行关键词搜索</a></li><li><a href=#3find---%e6%9f%a5%e6%89%be%e6%96%87%e4%bb%b6 aria-label="3．find - 查找文件">3．find - 查找文件</a></li></ul></li><li><a href=#%e5%a4%8d%e4%b9%a0%e9%a2%98 aria-label=复习题>复习题</a></li></ul></div></div></aside><script>let activeElement,elements;window.addEventListener("DOMContentLoaded",function(){checkTocPosition(),elements=document.querySelectorAll("h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]"),activeElement=elements[0];const t=encodeURI(activeElement.getAttribute("id")).toLowerCase();document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active")},!1),window.addEventListener("resize",function(){checkTocPosition()},!1),window.addEventListener("scroll",()=>{activeElement=Array.from(elements).find(e=>{if(getOffsetTop(e)-window.pageYOffset>0&&getOffsetTop(e)-window.pageYOffset<window.innerHeight/2)return e})||activeElement,elements.forEach(e=>{const t=encodeURI(e.getAttribute("id")).toLowerCase();e===activeElement?document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active"):document.querySelector(`.inner ul li a[href="#${t}"]`).classList.remove("active")})},!1);const main=parseInt(getComputedStyle(document.body).getPropertyValue("--article-width"),10),toc=parseInt(getComputedStyle(document.body).getPropertyValue("--toc-width"),10),gap=parseInt(getComputedStyle(document.body).getPropertyValue("--gap"),10);function checkTocPosition(){const e=document.body.scrollWidth;e-main-toc*2-gap*4>0?document.getElementById("toc-container").classList.add("wide"):document.getElementById("toc-container").classList.remove("wide")}function getOffsetTop(e){if(!e.getClientRects().length)return 0;let t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView;return t.top+n.pageYOffset}</script><div class=post-content><p>命令总结</p><p>命令参数的长格式与短格式示例</p><table><thead><tr><th style=text-align:left>长格式</th><th style=text-align:left>短格式</th></tr></thead><tbody><tr><td style=text-align:left>man &ndash;help</td><td style=text-align:left>man -h</td></tr></tbody></table><h4 id=一常用系统工作命令>一、常用系统工作命令<a hidden class=anchor aria-hidden=true href=#一常用系统工作命令>#</a></h4><h5 id=1echo---输出值>1．echo - 输出值<a hidden class=anchor aria-hidden=true href=#1echo---输出值>#</a></h5><p>echo 命令用于在终端输出字符串或变量提取后的值，格式为“echo [字符串 | $变量]”。</p><p>例如，把指定字符串“Linuxprobe.com”输出到终端屏幕的命令为：
[root@linuxprobe ~]# echo Linuxprobe.Com
该命令会在终端屏幕上显示如下信息：
Linuxprobe.Com</p><p>下面，我们使用$变量的方式提取变量 SHELL 的值，并将其输出到屏幕上：
[root@linuxprobe ~]# echo $SHELL
/bin/bash</p><h5 id=2date---时间相关>2．date - 时间相关<a hidden class=anchor aria-hidden=true href=#2date---时间相关>#</a></h5><p>date 命令用于显示及设置系统的时间或日期，格式为“date [选项] [+指定的格式]”。</p><p>只需在date 命令以“+”号开头的参数，即可按照指定格式来输出系统的时间或日期。
例如，把打包后的文件自动按照“年-月-日”的格式打包成“backup-2017-9-1.tar.gz”，
用户只需要看一眼文件名称就能大概了解到每个文件的备份时间了。</p><p>date 命令中常见的参数格式及作用</p><table><thead><tr><th style=text-align:left>参数</th><th style=text-align:left>作用</th></tr></thead><tbody><tr><td style=text-align:left>%t</td><td style=text-align:left>跳格[Tab 键]</td></tr><tr><td style=text-align:left>%H</td><td style=text-align:left>小时（00～23）</td></tr><tr><td style=text-align:left>%I</td><td style=text-align:left>小时（00～12）</td></tr><tr><td style=text-align:left>%M</td><td style=text-align:left>分钟（00～59）</td></tr><tr><td style=text-align:left>%S</td><td style=text-align:left>秒（00～59）</td></tr><tr><td style=text-align:left>%j</td><td style=text-align:left>今年中的第几天</td></tr></tbody></table><p>按照默认格式查看当前系统时间的 date 命令
[root@linuxprobe ~]# date
Mon Aug 24 16:11:23 CST 2017</p><p>按照“年-月-日 小时:分钟:秒”的格式查看当前系统时间的 date 命令
[root@linuxprobe ~]# date &ldquo;+%Y-%m-%d %H:%M:%S&rdquo;
2017-08-24 16:29:12</p><p>将系统的当前时间设置为 2017 年 9 月 1 日 8 点 30 分的 date 命令
[root@linuxprobe ~]# date -s &ldquo;20170901 8:30:00&rdquo;
Fri Sep 1 08:30:00 CST 2017</p><p>再次使用 date 命令并按照默认的格式查看当前的系统时
[root@linuxprobe ~]# date
Fri Sep 1 08:30:01 CST 2017</p><p>date 命令中的参数%j 可用来查看今天是当年中的第几天。
[root@linuxprobe ~]# date &ldquo;+%j&rdquo;
244</p><h5 id=3reboot---系统重启>3．reboot - 系统重启<a hidden class=anchor aria-hidden=true href=#3reboot---系统重启>#</a></h5><p>reboot 命令用于重启系统，其格式为 reboot。</p><p>由于重启计算机这种操作会涉及硬件资源的管理权限，因此默认只能使用 root 管理员来
重启，其命令如下：
[root@linuxprobe ~]# reboot</p><h5 id=4poweroff---关闭系统>4．poweroff - 关闭系统<a hidden class=anchor aria-hidden=true href=#4poweroff---关闭系统>#</a></h5><p>poweroff 命令用于关闭系统，其格式为 poweroff。</p><p>该命令与 reboot 命令相同，都会涉及硬件资源的管理权限，因此默认只有 root 管理员才
可以关闭电脑，其命令如下：
[root@linuxprobe ~]# poweroff</p><h5 id=5wget---下载网络文件>5．wget - 下载网络文件<a hidden class=anchor aria-hidden=true href=#5wget---下载网络文件>#</a></h5><p>wget 命令用于在终端中下载网络文件，格式为“wget [参数] 下载地址”。
wget 命令的参数以及作用</p><table><thead><tr><th style=text-align:left>参数</th><th style=text-align:left>作用</th></tr></thead><tbody><tr><td style=text-align:left>-b</td><td style=text-align:left>后台下载模式</td></tr><tr><td style=text-align:left>-P</td><td style=text-align:left>下载到指定目录</td></tr><tr><td style=text-align:left>-t</td><td style=text-align:left>最大尝试次数</td></tr><tr><td style=text-align:left>-c</td><td style=text-align:left>断点续传</td></tr><tr><td style=text-align:left>-p</td><td style=text-align:left>下载页面内所有资源，包括图片、视频等</td></tr><tr><td style=text-align:left>-r</td><td style=text-align:left>递归下载</td></tr></tbody></table><p>尝试使用 wget 命令从本书的配套站点中下载本书的最新 pdf 格式电子文档，这个文件的完整路径为 <a href=http://www.linuxprobe.com/docs/LinuxProbe.pdf>http://www.linuxprobe.com/docs/LinuxProbe.pdf</a> ，执行该命令后的下载效果如下：
[root@linuxprobe ~]# wget <a href=http://www.linuxprobe.com/docs/LinuxProbe.pdf>http://www.linuxprobe.com/docs/LinuxProbe.pdf</a>
&ndash;2017-08-24 19:30:12 &ndash; <a href=http://www.linuxprobe.com/docs/LinuxProbe.pdf>http://www.linuxprobe.com/docs/LinuxProbe.pdf</a>
Resolving <a href=https://www.linuxprobe.com>www.linuxprobe.com</a> (<a href=https://www.linuxprobe.com>www.linuxprobe.com</a>)&mldr; 220.181.105.185
Connecting to <a href=https://www.linuxprobe.com>www.linuxprobe.com</a> (<a href=https://www.linuxprobe.com>www.linuxprobe.com</a>)|220.181.105.185|:80&mldr;
connected.
HTTP request sent, awaiting response&mldr; 200 OK
Length: 45948568 (44M) [application/pdf]
Saving to: ‘LinuxProbe.pdf’
100%[===========================================>] 45,948,568 32.9MB/s in 1.3s
2017-08-24 19:30:14 (32.9 MB/s) - ‘LinuxProbe.pdf’ saved [45948568/45948568]</p><p>接下来，我们使用 wget 命令递归下载 <a href=https://www.linuxprobe.com>www.linuxprobe.com</a> 网站内的所有页面数据以及文件，下载完后会自动保存到当前路径下一个名为 <a href=https://www.linuxprobe.com>www.linuxprobe.com</a> 的目录中。执行该操作的命令为
wget -r -p <a href=http://www.linuxprobe.com>http://www.linuxprobe.com</a> ，该命令的执行结果如下:
[root@linuxprobe ~]# wget -r -p <a href=http://www.linuxprobe.com>http://www.linuxprobe.com</a>
&ndash;2017-08-24 19:31:41&ndash; <a href=http://www.linuxprobe.com/>http://www.linuxprobe.com/</a>
Resolving <a href=https://www.linuxprobe.com>www.linuxprobe.com</a>&mldr; 106.185.25.197
Connecting to <a href=https://www.linuxprobe.com>www.linuxprobe.com</a>|106.185.25.197|:80&mldr; connected.
HTTP request sent, awaiting response&mldr; 200 OK
Length: unspecified [text/html]
Saving to: &lsquo;<a href="https://www.linuxprobe.com/index.html'">www.linuxprobe.com/index.html'</a>
………………省略下载过程………………</p><h5 id=6ps---查看进程状态>6．ps - 查看进程状态<a hidden class=anchor aria-hidden=true href=#6ps---查看进程状态>#</a></h5><p>ps 命令用于查看系统中的进程状态，格式为“ps [参数]”。</p><p>ps 命令与管道符技术搭配使用，用来抓取与某个指定服务进程相对应的 PID 号码。
ps 命令的参数以及作用</p><table><thead><tr><th style=text-align:left>参数</th><th style=text-align:left>作用</th></tr></thead><tbody><tr><td style=text-align:left>-a</td><td style=text-align:left>显示所有进程（包括其他用户的进程）</td></tr><tr><td style=text-align:left>-u</td><td style=text-align:left>用户以及其他详细信息</td></tr><tr><td style=text-align:left>-x</td><td style=text-align:left>显示没有控制终端的进程</td></tr></tbody></table><p>Linux 系统中，有 5 种常见的进程状态，分别为运行、中断、不可中断、僵死与停止，其各自含义如下所示。</p><ul><li>R（运行）：进程正在运行或在运行队列中等待。</li><li>S（中断）：进程处于休眠中，当某个条件形成后或者接收到信号时，则脱离该状态。</li><li>D（不可中断）：进程不响应系统异步信号，即便用 kill 命令也不能将其中断。</li><li>Z（僵死）：进程已经终止，但进程描述符依然存在, 直到父进程调用 wait4()系统函数后将进程释放。</li><li>T（停止）：进程收到停止信号后停止运行。</li></ul><p>当执行 ps aux 命令后通常会看到如表 2-7 所示的进程状态，表 2-7 中只是列举了部分输出值，而且正常的输出值中不包括中文注释。</p><p>进程状态</p><table><thead><tr><th style=text-align:left>进程的所有者</th><th style=text-align:left>进 程ID 号</th><th style=text-align:left>运算器占用率</th><th style=text-align:left>内存占用率</th><th style=text-align:left>虚拟内存使用量（单位是 KB）</th><th style=text-align:left>占用的固定内存量（单位是KB）</th><th style=text-align:left>所在终端</th><th style=text-align:left>进程状态</th><th style=text-align:left>被启动的时间</th><th style=text-align:left>实际使用CPU的时间</th><th style=text-align:left>命令名称与参数</th></tr></thead><tbody><tr><td style=text-align:left>USER</td><td style=text-align:left>PID</td><td style=text-align:left>%CPU</td><td style=text-align:left>%MEM</td><td style=text-align:left>VSZ</td><td style=text-align:left>RSS</td><td style=text-align:left>TTY</td><td style=text-align:left>STAT</td><td style=text-align:left>START</td><td style=text-align:left>TIME</td><td style=text-align:left>COMMAND</td></tr><tr><td style=text-align:left>root</td><td style=text-align:left>1</td><td style=text-align:left>0.0</td><td style=text-align:left>0.4</td><td style=text-align:left>53684</td><td style=text-align:left>7628</td><td style=text-align:left>?</td><td style=text-align:left>Ss</td><td style=text-align:left>07 :22</td><td style=text-align:left>0:02</td><td style=text-align:left>/usr/lib/systemd/systemd</td></tr><tr><td style=text-align:left>root</td><td style=text-align:left>2</td><td style=text-align:left>0.0</td><td style=text-align:left>0.0</td><td style=text-align:left>0</td><td style=text-align:left>0</td><td style=text-align:left>?</td><td style=text-align:left>S</td><td style=text-align:left>07:22</td><td style=text-align:left>0:00</td><td style=text-align:left>[kthreadd]</td></tr><tr><td style=text-align:left>………………省略部分输出信息………………</td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td><td></td></tr></tbody></table><h5 id=7top-命令>7．top 命令<a hidden class=anchor aria-hidden=true href=#7top-命令>#</a></h5><p>top 命令用于动态地监视进程活动与系统负载等信息，其格式为 top。
top 命令相当强大，能够动态地查看系统运维状态，完全将它看作 Linux 中的“强化版的
Windows 任务管理器”。top 命令的运行界面如下</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>top - 19:19:51 up 11 min， 2 users, load average : 0.01, 0.17, 0.19
</span></span><span class=line><span class=cl>Tasks: 519 total, 2 running, 517 sleeping, 0 stopped, 0 zombie
</span></span><span class=line><span class=cl>%Cpu(s): 1.1 us, 0.6 sy, 0.0 ni, 97.1 id, 1.1 wa, 0.0 hi, 0.0 si, 0.0 st
</span></span><span class=line><span class=cl>KiB Mem:  3869044 total,  900604 used,  2968440 free,     924 buffers
</span></span><span class=line><span class=cl>KiB Swap: 2097148 total,       0 used,  2097148 free,  278556 cached Mem
</span></span></code></pre></td></tr></table></div></div><p>top 命令执行结果的前 5 行为系统整体的统计信息，其所代表的含义如下。</p><ul><li>第 1 行：系统时间、运行时间、登录终端数、系统负载（三个数值分别为 1 分钟、5分钟、15 分钟内的平均值，数值越小意味着负载越低）。</li><li>第 2 行：进程总数、运行中的进程数、睡眠中的进程数、停止的进程数、僵死的进程数。</li><li>第 3 行：用户占用资源百分比、系统内核占用资源百分比、改变过优先级的进程资源百分比、空闲的资源百分比等。<ul><li>注：第 3 行中的数据均为 CPU 数据并以百分比格式显示，例如“97.1 id”意味着有 97.1%的 CPU 处理器资源处于空闲。</li></ul></li><li>第 4 行：物理内存总量、内存使用量、内存空闲量、作为内核缓存的内存量。</li><li>第 5 行：虚拟内存总量、虚拟内存使用量、虚拟内存空闲量、已被提前加载的内存量。</li></ul><h5 id=8pidof-查询某个进程pid>8．pidof 查询某个进程PID<a hidden class=anchor aria-hidden=true href=#8pidof-查询某个进程pid>#</a></h5><p>pidof 命令用于查询某个指定服务进程的 PID 值，格式为“pidof [参数] [服务名称]”。</p><p>每个进程的进程号码值（PID）是唯一的，因此可以通过 PID 来区分不同的进程。例如，
可以使用如下命令来查询本机上 sshd 服务程序的 PID：
[root@linuxprobe ~]# pidof sshd
2156</p><h5 id=9kill---中止单个进程>9．kill - 中止单个进程<a hidden class=anchor aria-hidden=true href=#9kill---中止单个进程>#</a></h5><p>kill 命令用于终止某个指定 PID 的服务进程，格式为“kill [参数] [进程 PID]”。</p><p>接下来，我们使用 kill 命令把上面用 pidof 命令查询到的 PID 所代表的进程终止掉，其命令如下所示。
这种操作的效果等同于强制停止 sshd 服务。
[root@linuxprobe ~]# kill 2156</p><h5 id=10killall---中止批量进程>10．killall - 中止批量进程<a hidden class=anchor aria-hidden=true href=#10killall---中止批量进程>#</a></h5><p>killall 命令用于终止某个指定名称的服务所对应的全部进程，格式为：“killall [参数] [进程名称]”。</p><p>通常来讲，复杂软件的服务程序会有多个进程协同为用户提供服务，如果逐个去结束这些进程会比较麻烦，此时可以使用 killall 命令来批量结束某个服务程序带有的全部进程。下面以 httpd 服务程序为例，来结束其全部进程。由于 RHEL7 系统默认没有安装 httpd 服务程序，因此大家此时只需看操作过程和输出结果即可，等学习了相关内容之后再来实践。</p><p>[root@linuxprobe ~]# pidof httpd
13581 13580 13579 13578 13577 13576
[root@linuxprobe ~]# killall httpd
[root@linuxprobe ~]# pidof httpd
[root@linuxprobe ~]#</p><p>如果我们在系统终端中执行一个命令后想立即停止它，可以同时按下 Ctrl + C 组合键，这样将立即终止该命令的进程。
或者，如果有些命令在执行时不断地在屏幕上输出信息，影响到后续命令的输入，则可以在执行命令时在末尾添加上一个&符号，这样命令将进入系统后台来执行。</p><h4 id=二系统状态检测命令>二、系统状态检测命令<a hidden class=anchor aria-hidden=true href=#二系统状态检测命令>#</a></h4><h5 id=1ifconfig---网卡配置与网络状态>1．ifconfig - 网卡配置与网络状态<a hidden class=anchor aria-hidden=true href=#1ifconfig---网卡配置与网络状态>#</a></h5><p>ifconfig 命令用于获取网卡配置与网络状态等信息，格式为“ifconfig [网络设备] [参数]”。</p><p>使用 ifconfig 命令来查看本机当前的网卡配置与网络状态等信息时，其实主要查看的就是<strong>网卡名称、inet 参数后面的 IP 地址、ether 参数后面的网卡物理地址（又称为 MAC 地址），以及 RX、TX 的接收数据包与发送数据包的个数及累计流量（即下面加粗的信息内容）</strong>：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>[root@linuxprobe ~]# ifconfig
</span></span><span class=line><span class=cl>	eno16777728: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt; mtu 1500
</span></span><span class=line><span class=cl>		inet 192.168.10.10 netmask 255.255.255.0 broadcast 192.168.10.255
</span></span><span class=line><span class=cl>		inet6 fe80::20c:29ff:fec4:a409 prefixlen 64 scopeid 0x20&lt;link&gt;
</span></span><span class=line><span class=cl>		ether 00:0c:29:c4:a4:09 txqueuelen 1000 (Ethernet)
</span></span><span class=line><span class=cl>		RX packets 36 bytes 3176 (3.1 KiB)
</span></span><span class=line><span class=cl>		RX errors 0 dropped 0 overruns 0 frame 0
</span></span><span class=line><span class=cl>		TX packets 38 bytes 4757 (4.6 KiB)
</span></span><span class=line><span class=cl>		TX errors 0 dropped 0 overruns 0 carrier 0 collisions 0
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>	lo: flags=73&lt;UP,LOOPBACK,RUNNING&gt; mtu 65536
</span></span><span class=line><span class=cl>		inet 127.0.0.1 netmask 255.0.0.0
</span></span><span class=line><span class=cl>		inet6 ::1 prefixlen 128 scopeid 0x10&lt;host&gt;
</span></span><span class=line><span class=cl>		loop txqueuelen 0 (Local Loopback)
</span></span><span class=line><span class=cl>		RX packets 386 bytes 32780 (32.0 KiB)
</span></span><span class=line><span class=cl>		RX errors 0 dropped 0 overruns 0 frame 0
</span></span><span class=line><span class=cl>		TX packets 386 bytes 32780 (32.0 KiB)
</span></span><span class=line><span class=cl>		TX errors 0 dropped 0 overruns 0 carrier 0 collisions 0
</span></span></code></pre></td></tr></table></div></div><h5 id=2uname---系统内核与系统版本>2．uname - 系统内核与系统版本<a hidden class=anchor aria-hidden=true href=#2uname---系统内核与系统版本>#</a></h5><p>uname 命令用于查看系统内核与系统版本等信息，格式为“uname [-a]”。</p><p>在使用 uname 命令时，一般会固定搭配上-a 参数来完整地查看当前系统的<strong>内核名称、主机名、内核发行版本、节点名、系统时间、硬件名称、硬件平台、处理器类型以及操作系统名称</strong>等信息。</p><p>[root@linuxprobe ~]# uname -a
Linux linuxprobe.com 3.10.0-123.el7.x86_64 #1 SMP Mon May 5 11:16:57 EDT 2017
x86_64 x86_64 x86_64 GNU/Linux</p><p>顺带一提，如果要查看当前系统版本的详细信息，则需要查看 redhat-release 文件，其命令以及相应的结果如下：
[root@linuxprobe ~]# cat /etc/redhat-release
Red Hat Enterprise Linux Server release 7.0 (Maipo)</p><h5 id=3uptime---系统负载信息>3．uptime - 系统负载信息<a hidden class=anchor aria-hidden=true href=#3uptime---系统负载信息>#</a></h5><p>uptime 用于查看系统的负载信息，格式为 uptime。</p><p>uptime 命令真的很棒，它可以显示<strong>当前系统时间、系统已运行时间、启用终端数量以及平均负载值</strong>等信息。
<strong>负载值越低越好，尽量不要长期超过 1，在生产环境中不要超过 5</strong>。</p><p>平均负载值指的是系统在最近 1 分钟、5 分钟、15 分钟内的压力情况；
[root@linuxprobe ~]# uptime
22:49:55 up 10 min, 2 users, load average: 0.01, 0.19, 0.18</p><h5 id=4free---内存使用量>4．free - 内存使用量<a hidden class=anchor aria-hidden=true href=#4free---内存使用量>#</a></h5><p>free 用于显示当前系统中内存的使用量信息，格式为“free [-h]”。</p><p>可以结合使用 <strong>-h</strong> 参数以更人性化的方式输出当前内存的实时使用量信息。
[root@linuxprobe ~]# free -h
执行 free -h 命令后的输出信息</p><table><thead><tr><th style=text-align:left></th><th style=text-align:left>内存总量</th><th style=text-align:left>已用量</th><th style=text-align:left>可用量</th><th style=text-align:left>进程共享的内存量</th><th style=text-align:left>磁盘缓存的内存量</th><th style=text-align:left>缓存的内存量</th></tr></thead><tbody><tr><td style=text-align:left></td><td style=text-align:left>total</td><td style=text-align:left>used</td><td style=text-align:left>free</td><td style=text-align:left>shared</td><td style=text-align:left>buffers</td><td style=text-align:left>cached</td></tr><tr><td style=text-align:left>Mem</td><td style=text-align:left>1.8GB</td><td style=text-align:left>1.3GB</td><td style=text-align:left>542MB</td><td style=text-align:left>9.8MB</td><td style=text-align:left>1.6MB</td><td style=text-align:left>413MB</td></tr><tr><td style=text-align:left>-/+ buffers/cache</td><td style=text-align:left></td><td style=text-align:left>869MB</td><td style=text-align:left>957MB</td><td></td><td></td><td></td></tr><tr><td style=text-align:left>Swap</td><td style=text-align:left>2.0GB</td><td style=text-align:left>0</td><td style=text-align:left>2.0GB</td><td></td><td></td><td></td></tr></tbody></table><h5 id=5who---登入主机的用户终端信息>5．who - 登入主机的用户终端信息<a hidden class=anchor aria-hidden=true href=#5who---登入主机的用户终端信息>#</a></h5><p>who 用于查看当前登入主机的用户终端信息，格式为“who [参数]”。</p><p>这三个简单的字母可以快速显示出所有正在登录本机的用户的名称以及他们正在开启的终端信息。
[root@linuxprobe ~]# who
执行 who 命令的结果</p><table><thead><tr><th style=text-align:left>登录的用户名</th><th style=text-align:left>终端设备</th><th style=text-align:left>登录到系统的时间</th></tr></thead><tbody><tr><td style=text-align:left>root</td><td style=text-align:left>:0</td><td style=text-align:left>2017-08-24 17:52 (:0)</td></tr><tr><td style=text-align:left>root</td><td style=text-align:left>pts/0</td><td style=text-align:left>2017-08-24 17:52 (:0)</td></tr></tbody></table><h5 id=6last---系统的登录记录>6．last - 系统的登录记录<a hidden class=anchor aria-hidden=true href=#6last---系统的登录记录>#</a></h5><p>last 命令用于查看所有系统的登录记录，格式为“last [参数]”。</p><p>使用 last 命令可以查看本机的登录记录。但是，由于这些信息都是以日志文件的形式保存在系统中，因此黑客可以很容易地对内容进行篡改。千万不要单纯以该命令的输出信息而判断系统有无被恶意入侵！</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>[root@linuxprobe ~]# last
</span></span><span class=line><span class=cl>root pts/0 :0 Mon Aug 24 17:52 still logged in
</span></span><span class=line><span class=cl>root :0 :0 Mon Aug 24 17:52 still logged in
</span></span><span class=line><span class=cl>(unknown :0 :0 Mon Aug 24 17:50 - 17:52 (00:02)
</span></span><span class=line><span class=cl>reboot system boot 3.10.0-123.el7.x Tue Aug 25 01:49 - 18:17 (-7:-32)
</span></span><span class=line><span class=cl>root pts/0 :0 Mon Aug 24 15:40 - 08:54 (7+17:14)
</span></span><span class=line><span class=cl>root pts/0 :0 Fri Jul 10 10:49 - 15:37 (45+04:47)
</span></span><span class=line><span class=cl>………………省略部分登录信息………………
</span></span></code></pre></td></tr></table></div></div><h5 id=7history----显示历史执行过的命令>7．history - 显示历史执行过的命令<a hidden class=anchor aria-hidden=true href=#7history----显示历史执行过的命令>#</a></h5><p>history 命令用于显示历史执行过的命令，格式为“history [-c]”。</p><p>history 命令应该是作者最喜欢的命令。执行 history 命令能显示出当前用户在本地计算机中执行过的最近 1000 条命令记录。如果觉得 1000 不够用，还可以自定义/etc/profile 文件中的HISTSIZE 变量值。在使用 history 命令时，如果使用-c 参数则会清空所有的命令历史记录。还可以使用“!编码数字”的方式来重复执行某一次的命令。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>[root@linuxprobe ~]# history
</span></span><span class=line><span class=cl>	1 tar xzvf VMwareTools-9.9.0-2304977.tar.gz
</span></span><span class=line><span class=cl>	2 cd vmware-tools-distrib/
</span></span><span class=line><span class=cl>	3 ls
</span></span><span class=line><span class=cl>	4 ./vmware-install.pl -d
</span></span><span class=line><span class=cl>	5 reboot
</span></span><span class=line><span class=cl>	6 df -h
</span></span><span class=line><span class=cl>	7 cd /run/media/
</span></span><span class=line><span class=cl>	8 ls
</span></span><span class=line><span class=cl>	9 cd root/
</span></span><span class=line><span class=cl>	10 ls
</span></span><span class=line><span class=cl>	11 cd VMware\ Tools/
</span></span><span class=line><span class=cl>	12 ls
</span></span><span class=line><span class=cl>	13 cp VMwareTools-9.9.0-2304977.tar.gz /home
</span></span><span class=line><span class=cl>	14 cd /home
</span></span><span class=line><span class=cl>	15 ls
</span></span><span class=line><span class=cl>	16 tar xzvf VMwareTools-9.9.0-2304977.tar.gz
</span></span><span class=line><span class=cl>	17 cd vmware-tools-distrib/
</span></span><span class=line><span class=cl>	18 ls
</span></span><span class=line><span class=cl>	19 ./vmware-install.pl -d
</span></span><span class=line><span class=cl>	20 reboot
</span></span><span class=line><span class=cl>	21 history
</span></span><span class=line><span class=cl>	[root@linuxprobe ~]# !15
</span></span><span class=line><span class=cl>	anaconda-ks.cfg Documents initial-setup-ks.cfg Pictures Templates
</span></span><span class=line><span class=cl>	Desktop Downloads Music Public Videos
</span></span></code></pre></td></tr></table></div></div><p>历史命令会被保存到用户家目录中的.bash_history 文件中。Linux 系统中以点（.）开头的文件均代表隐藏文件，这些文件大多数为系统服务文件，可以用 cat 命令查看其文件内容。
[root@linuxprobe ~]# cat ~/.bash_history
要清空当前用户在本机上执行的 Linux 命令历史记录信息，可执行如下命令：
[root@linuxprobe ~]# history -c</p><h5 id=8sosreport---系统配置及架构信息>8．sosreport - 系统配置及架构信息<a hidden class=anchor aria-hidden=true href=#8sosreport---系统配置及架构信息>#</a></h5><p>sosreport 命令用于收集系统配置及架构信息并输出诊断文档，格式为 sosreport。</p><p>当 Linux 系统出现故障需要联系技术支持人员时，大多数时候都要先使用这个命令来简单收集系统的运行状态和服务配置信息，以便让技术支持人员能够远程解决一些小问题，亦或让他们能提前了解某些复杂问题。在下面的输出信息中，加粗的部分是收集好的资料压缩文件以及校验码，将其发送给技术支持人员即可：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>[root@linuxprobe ~]# sosreport
</span></span><span class=line><span class=cl>sosreport (version 3.0)
</span></span><span class=line><span class=cl>This command will collect diagnostic and configuration information from this Red Hat Enterprise Linux system and installed applications.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>An archive containing the collected information will be generated in /var/tmp and may be provided to a Red Hat support representative.
</span></span><span class=line><span class=cl>Any information provided to Red Hat will be treated in accordance with the published support policies at:
</span></span><span class=line><span class=cl>https://access.redhat.com/support/
</span></span><span class=line><span class=cl>The generated archive may contain data considered sensitive and its content should be reviewed by the originating organization before being passed to any third party.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>No changes will be made to system configuration.
</span></span><span class=line><span class=cl>Press ENTER to continue, or CTRL-C to quit. 此处敲击回车来确认收集信息
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Please enter your first initial and last name [linuxprobe.com]: 此处敲击回车来确认主机编号
</span></span><span class=line><span class=cl>Please enter the case number that you are generating this report for: 此处敲击回车来确认主机编号
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Running plugins. Please wait ...
</span></span><span class=line><span class=cl>Running 70/70: yum...
</span></span><span class=line><span class=cl>Creating compressed archive...
</span></span><span class=line><span class=cl>Your sosreport has been generated and saved in:
</span></span><span class=line><span class=cl>/var/tmp/sosreport-linuxprobe.com-20170905230631.tar.xz
</span></span><span class=line><span class=cl>The checksum is: 79436cdf791327040efde48c452c6322
</span></span><span class=line><span class=cl>Please send this file to your support representative.
</span></span></code></pre></td></tr></table></div></div><h4 id=三工作目录切换命令>三、工作目录切换命令<a hidden class=anchor aria-hidden=true href=#三工作目录切换命令>#</a></h4><h5 id=1pwd---当前所在工作目录>1．pwd - 当前所在工作目录<a hidden class=anchor aria-hidden=true href=#1pwd---当前所在工作目录>#</a></h5><p>pwd 命令用于显示用户当前所处的工作目录，格式为“pwd [选项]”。
[root@linuxprobe etc]# pwd
/etc</p><h5 id=2cd---切换工作路径>2．cd - 切换工作路径<a hidden class=anchor aria-hidden=true href=#2cd---切换工作路径>#</a></h5><p>cd 命令用于切换工作路径，格式为“cd [目录名称]”。</p><p>常见的切换目录方式：
<strong>cd - 命令返回到上一次所处的目录
cd .. 命令进入上级目录
cd ~ 命令切换到当前用户的家目录
cd ~ username 切换到其他用户的家目录</strong></p><p>例如，可以使用“cd 路径”的方式切换进/etc 目录中：
[root@linuxprobe ~]# cd /etc
同理，可使用下述命令切换到/bin 目录中：
[root@linuxprobe etc]# cd /bin</p><p>要返回到上一次的目录（即/etc 目录），可执行如下命令：
[root@linuxprobe bin]# cd -
/etc
[root@linuxprobe etc]#</p><p>通过下面的命令快速切换到用户的家目录：
[root@linuxprobe etc]# cd ~
[root@linuxprobe ~]#</p><h5 id=3ls---显示目录中的文件信息>3．ls - 显示目录中的文件信息<a hidden class=anchor aria-hidden=true href=#3ls---显示目录中的文件信息>#</a></h5><p>ls 命令用于显示目录中的文件信息，格式为“ls [选项] [文件] ”。</p><p>所处的工作目录不同，当前工作目录下的文件肯定也不同。
使用 ls 命令的“-a”参数看到全部文件（包括隐藏文件），
使用“-l”参数可以查看文件的属性、大小等详细信息。</p><p>这两个参数整合之后，再执行 ls 命令即可查看当前目录中的所有文件并输出这些文件的属性信息：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>[root@linuxprobe ~]# ls -al
</span></span><span class=line><span class=cl>total 60
</span></span><span class=line><span class=cl>dr-xr-x---. 14 root root 4096 May 4 07:56 .
</span></span><span class=line><span class=cl>drwxr-xr-x. 17 root root 4096 May 4 15:55 ..
</span></span><span class=line><span class=cl>-rw-------. 1 root root 1213 May 4 15:44 anaconda-ks.cfg
</span></span><span class=line><span class=cl>-rw-------. 1 root root 957 May 4 07:54 .bash_history
</span></span><span class=line><span class=cl>-rw-r--r--. 1 root root 18 Dec 28 2013 .bash_logout
</span></span><span class=line><span class=cl>-rw-r--r--. 1 root root 176 Dec 28 2013 .bash_profile
</span></span><span class=line><span class=cl>-rw-r--r--. 1 root root 176 Dec 28 2013 .bashrc
</span></span><span class=line><span class=cl>drwx------. 10 root root 4096 May 4 07:56 .cache
</span></span><span class=line><span class=cl>drwx------. 15 root root 4096 May 4 07:49 .config
</span></span><span class=line><span class=cl>-rw-r--r--. 1 root root 100 Dec 28 2013 .cshrc
</span></span><span class=line><span class=cl>drwx------. 3 root root 24 May 4 07:46 .dbus
</span></span><span class=line><span class=cl>drwxr-xr-x. 2 root root 6 May 4 07:49 Desktop
</span></span><span class=line><span class=cl>drwxr-xr-x. 2 root root 6 May 4 07:49 Documents
</span></span><span class=line><span class=cl>drwxr-xr-x. 2 root root 6 May 4 07:49 Downloads
</span></span><span class=line><span class=cl>-rw-------. 1 root root 16 May 4 07:49 .esd_auth
</span></span><span class=line><span class=cl>-rw-------. 1 root root 628 May 4 07:56 .ICEauthority
</span></span><span class=line><span class=cl>-rw-r--r--. 1 root root 1264 May 4 07:48 initial-setup-ks.cfg
</span></span><span class=line><span class=cl>drwx------. 3 root root 18 May 4 07:49 .local
</span></span><span class=line><span class=cl>drwxr-xr-x. 2 root root 6 May 4 07:49 Music
</span></span><span class=line><span class=cl>drwxr-xr-x. 2 root root 6 May 4 07:49 Pictures
</span></span><span class=line><span class=cl>drwxr-xr-x. 2 root root 6 May 4 07:49 Public
</span></span><span class=line><span class=cl>-rw-r--r--. 1 root root 129 Dec 28 2013 .tcshrc
</span></span><span class=line><span class=cl>drwxr-xr-x. 2 root root 6 May 4 07:49 Templates
</span></span><span class=line><span class=cl>drwxr-xr-x. 2 root root 6 May 4 07:49 Videos
</span></span><span class=line><span class=cl>-rw-------. 1 root root 1962 May 4 07:54 .viminfo
</span></span></code></pre></td></tr></table></div></div><p>如果想要查看目录属性信息，则需要额外添加一个-d 参数。例如，可使用如下命令查看
/etc 目录的权限与属性信息：
[root@linuxprobe ~]# ls -ld /etc
drwxr-xr-x. 132 root root 8192 Jul 10 10:48 /etc</p><h4 id=四文本文件编辑命令>四、文本文件编辑命令<a hidden class=anchor aria-hidden=true href=#四文本文件编辑命令>#</a></h4><h5 id=1cat---文本文件_内容较少的>1．cat - 文本文件_内容较少的<a hidden class=anchor aria-hidden=true href=#1cat---文本文件_内容较少的>#</a></h5><p>cat 命令用于查看纯文本文件（内容较少的），格式为“cat [选项] [文件]”。</p><p>Linux 系统中有多个用于查看文本内容的命令，每个命令都有自己的特点，比如这个 cat命令就是用于查看内容较少的纯文本文件的。</p><p>如果在查看文本内容时还想顺便显示行号的话，不妨在 cat 命令后面追加一个-n 参数：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>[root@linuxprobe ~]# cat -n initial-setup-ks.cfg
</span></span><span class=line><span class=cl>	1 #version=RHEL7
</span></span><span class=line><span class=cl>	2 # X Window System configuration information
</span></span><span class=line><span class=cl>	3 xconfig --startxonboot
</span></span><span class=line><span class=cl>	4
</span></span><span class=line><span class=cl>	5 # License agreement
</span></span><span class=line><span class=cl>	6 eula --agreed
</span></span><span class=line><span class=cl>	7 # System authorization information
</span></span><span class=line><span class=cl>	8 auth --enableshadow --passalgo=sha512
</span></span><span class=line><span class=cl>	9 # Use CDROM installation media
</span></span><span class=line><span class=cl>	10 cdrom
</span></span><span class=line><span class=cl>	11 # Run the Setup Agent on first boot
</span></span><span class=line><span class=cl>	12 firstboot --enable
</span></span><span class=line><span class=cl>	13 # Keyboard layouts
</span></span><span class=line><span class=cl>	14 keyboard --vckeymap=us --xlayouts=&#39;us&#39;
</span></span><span class=line><span class=cl>	15 # System language
</span></span><span class=line><span class=cl>	16 lang en_US.UTF-8
</span></span><span class=line><span class=cl>………………省略部分输出信息………………
</span></span></code></pre></td></tr></table></div></div><h5 id=2more---文本文件_内容多的>2．more - 文本文件_内容多的<a hidden class=anchor aria-hidden=true href=#2more---文本文件_内容多的>#</a></h5><p>more 命令用于查看纯文本文件（内容较多的），格式为“more [选项]文件”。</p><p>对于长篇的文本内容，推荐使用 more 命令来查看。more命令会在最下面使用百分比的形式来提示您已经阅读了多少内容。您还可以使用空格键或回车键向下翻页：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>[root@linuxprobe ~]# more initial-setup-ks.cfg
</span></span><span class=line><span class=cl>#version=RHEL7
</span></span><span class=line><span class=cl># X Window System configuration information
</span></span><span class=line><span class=cl>xconfig --startxonboot
</span></span><span class=line><span class=cl># License agreement
</span></span><span class=line><span class=cl>eula --agreed
</span></span><span class=line><span class=cl># System authorization information
</span></span><span class=line><span class=cl>auth --enableshadow --passalgo=sha512
</span></span><span class=line><span class=cl># Use CDROM installation media
</span></span><span class=line><span class=cl>cdrom
</span></span><span class=line><span class=cl># Run the Setup Agent on first boot
</span></span><span class=line><span class=cl>firstboot --enable
</span></span><span class=line><span class=cl># Keyboard layouts
</span></span><span class=line><span class=cl>keyboard --vckeymap=us --xlayouts=&#39;us&#39;
</span></span><span class=line><span class=cl># System language
</span></span><span class=line><span class=cl>lang en_US.UTF-8
</span></span><span class=line><span class=cl>ignoredisk --only-use=sda
</span></span><span class=line><span class=cl># Network information
</span></span><span class=line><span class=cl>network --bootproto=dhcp --device=eno16777728 --onboot=off --ipv6=auto
</span></span><span class=line><span class=cl>network --bootproto=dhcp --hostname=linuxprobe.com
</span></span><span class=line><span class=cl>--More--(43%)
</span></span></code></pre></td></tr></table></div></div><h5 id=3head---文本文档的前-n-行>3．head - 文本文档的前 N 行<a hidden class=anchor aria-hidden=true href=#3head---文本文档的前-n-行>#</a></h5><p>head 命令用于查看纯文本文档的前 N 行，格式为“head [选项] [文件]”。</p><p>如果只想查看文本中前 20 行的内容，该怎么办呢？head 命令可以派上用场了：
[root@linuxprobe ~]# head -n 20 initial-setup-ks.cfg</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>	[root@linuxprobe ~]# head -n 20 initial-setup-ks.cfg
</span></span><span class=line><span class=cl>	#version=RHEL7
</span></span><span class=line><span class=cl>	# X Window System configuration information
</span></span><span class=line><span class=cl>	xconfig --startxonboot
</span></span><span class=line><span class=cl>	# License agreement
</span></span><span class=line><span class=cl>	eula --agreed
</span></span><span class=line><span class=cl>	# System authorization information
</span></span><span class=line><span class=cl>	auth --enableshadow --passalgo=sha512
</span></span><span class=line><span class=cl>	# Use CDROM installation media
</span></span><span class=line><span class=cl>	cdrom
</span></span><span class=line><span class=cl>	# Run the Setup Agent on first boot
</span></span><span class=line><span class=cl>	firstboot --enable
</span></span><span class=line><span class=cl>	# Keyboard layouts
</span></span><span class=line><span class=cl>	keyboard --vckeymap=us --xlayouts=&#39;us&#39;
</span></span><span class=line><span class=cl>	# System language
</span></span><span class=line><span class=cl>	lang en_US.UTF-8
</span></span><span class=line><span class=cl>	ignoredisk --only-use=sda
</span></span><span class=line><span class=cl>	# Network information
</span></span><span class=line><span class=cl>	network --bootproto=dhcp --device=eno16777728 --onboot=off --ipv6=auto
</span></span><span class=line><span class=cl>	[root@linuxprobe ~]#
</span></span></code></pre></td></tr></table></div></div><h5 id=4tail--文本文档后-n-行持续刷新内容>4．tail- 文本文档后 N 行/持续刷新内容<a hidden class=anchor aria-hidden=true href=#4tail--文本文档后-n-行持续刷新内容>#</a></h5><p>tail 命令用于查看纯文本文档的后 N 行或持续刷新内容，格式为“tail [选项] [文件]”。</p><p>如需要查看文本内容的最后 20 行，只需要执行“tail -n 20 文件名”命令</p><p>tail 命令最强悍的功能是可以<strong>持续刷新一个文件的内容</strong>，当想要实时查看最新日志文件时，这特别有用，此时的命令格式为“tail -f 文件名”：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>[root@linuxprobe ~]# tail -f /var/log/messages
</span></span><span class=line><span class=cl>May 4 07:56:38 localhost gnome-session: Window manager warning: Log level 16:
</span></span><span class=line><span class=cl>STACK_OP_ADD: window 0x1e00001 already in stack
</span></span><span class=line><span class=cl>May 4 07:56:38 localhost gnome-session: Window manager warning: Log level 16:
</span></span><span class=line><span class=cl>STACK_OP_ADD: window 0x1e00001 already in stack
</span></span><span class=line><span class=cl>May 4 07:56:38 localhost vmusr[12982]: [ warning] [Gtk] gtk_disable_setlocale()
</span></span><span class=line><span class=cl>must be called before gtk_init()
</span></span><span class=line><span class=cl>May 4 07:56:50 localhost systemd-logind: Removed session c1.
</span></span><span class=line><span class=cl>Aug 1 01:05:31 localhost systemd: Time has been changed
</span></span><span class=line><span class=cl>Aug 1 01:05:31 localhost systemd: Started LSB: Bring up/down networking.
</span></span><span class=line><span class=cl>Aug 1 01:08:56 localhost dbus-daemon: dbus[1124]: [system] Activating service
</span></span><span class=line><span class=cl>name=&#39;com.redhat.SubscriptionManager&#39; (using servicehelper)
</span></span><span class=line><span class=cl>Aug 1 01:08:56 localhost dbus[1124]: [system] Activating service name=&#39;com.
</span></span><span class=line><span class=cl>redhat.SubscriptionManager&#39; (using servicehelper)
</span></span><span class=line><span class=cl>Aug 1 01:08:57 localhost dbus-daemon: dbus[1124]: [system] Successfully activated
</span></span><span class=line><span class=cl>service &#39;com.redhat.SubscriptionManager&#39;
</span></span><span class=line><span class=cl>Aug 1 01:08:57 localhost dbus[1124]: [system] Successfully activated service &#39;
</span></span><span class=line><span class=cl>com.redhat.SubscriptionManager&#39;
</span></span></code></pre></td></tr></table></div></div><h5 id=5tr---替换文本文件中的字符>5．tr - 替换文本文件中的字符<a hidden class=anchor aria-hidden=true href=#5tr---替换文本文件中的字符>#</a></h5><p>tr 命令用于替换文本文件中的字符，格式为“tr [原始字符] [目标字符]”。</p><p><strong>快速地替换文本中的一些词汇</strong>，就可以先使用 cat 命令读取待处理的文本，然后通过管道符把这些文本内容传递给 tr 命令进行替换操作即可。
例如，把某个文本内容中的英文全部替换为大写：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span><span class=lnt>29
</span><span class=lnt>30
</span><span class=lnt>31
</span><span class=lnt>32
</span><span class=lnt>33
</span><span class=lnt>34
</span><span class=lnt>35
</span><span class=lnt>36
</span><span class=lnt>37
</span><span class=lnt>38
</span><span class=lnt>39
</span><span class=lnt>40
</span><span class=lnt>41
</span><span class=lnt>42
</span><span class=lnt>43
</span><span class=lnt>44
</span><span class=lnt>45
</span><span class=lnt>46
</span><span class=lnt>47
</span><span class=lnt>48
</span><span class=lnt>49
</span><span class=lnt>50
</span><span class=lnt>51
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>[root@linuxprobe ~]# cat anaconda-ks.cfg | tr [a-z] [A-Z]
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>#VERSION=RHEL7
</span></span><span class=line><span class=cl># SYSTEM AUTHORIZATION INFORMATION
</span></span><span class=line><span class=cl>AUTH --ENABLESHADOW --PASSALGO=SHA512
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl># USE CDROM INSTALLATION MEDIA
</span></span><span class=line><span class=cl>CDROM
</span></span><span class=line><span class=cl># RUN THE SETUP AGENT ON FIRST BOOT
</span></span><span class=line><span class=cl>FIRSTBOOT --ENABLE
</span></span><span class=line><span class=cl>IGNOREDISK --ONLY-USE=SDA
</span></span><span class=line><span class=cl># KEYBOARD LAYOUTS
</span></span><span class=line><span class=cl>KEYBOARD --VCKEYMAP=US --XLAYOUTS=&#39;US&#39;
</span></span><span class=line><span class=cl># SYSTEM LANGUAGE
</span></span><span class=line><span class=cl>LANG EN_US.UTF-8
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl># NETWORK INFORMATION
</span></span><span class=line><span class=cl>NETWORK --BOOTPROTO=DHCP --DEVICE=ENO16777728 --ONBOOT=OFF --IPV6=AUTO
</span></span><span class=line><span class=cl>NETWORK --HOSTNAME=LOCALHOST.LOCALDOMAIN
</span></span><span class=line><span class=cl># ROOT PASSWORD
</span></span><span class=line><span class=cl>ROOTPW --ISCRYPTED $6$PDJJF42G8C6PL069$II.PX/YFAQPO0ENW2PA7MOMKJLYOAE2ZJMZ2UZJ7
</span></span><span class=line><span class=cl>BH3UO4OWTR1.WK/HXZ3XIGMZGJPCS/MGPYSSOI8HPCT8B/
</span></span><span class=line><span class=cl># SYSTEM TIMEZONE
</span></span><span class=line><span class=cl>TIMEZONE AMERICA/NEW_YORK --ISUTC
</span></span><span class=line><span class=cl>USER --NAME=LINUXPROBE --PASSWORD=$6$A9V3INSTNBWEIR7D$JEGFYWBCDOOOKJ9SODECCDO.
</span></span><span class=line><span class=cl>ZLF4OSH2AZ2SS2R05B6LZ2A0V2K.RJWSBALL2FEKQVGF640OA/TOK6J.7GUTO/ --ISCRYPTED --
</span></span><span class=line><span class=cl>GECOS=&#34;LINUXPROBE&#34;
</span></span><span class=line><span class=cl># X WINDOW SYSTEM CONFIGURATION INFORMATION
</span></span><span class=line><span class=cl>XCONFIG --STARTXONBOOT
</span></span><span class=line><span class=cl># SYSTEM BOOTLOADER CONFIGURATION
</span></span><span class=line><span class=cl>BOOTLOADER --LOCATION=MBR --BOOT-DRIVE=SDA
</span></span><span class=line><span class=cl>AUTOPART --TYPE=LVM
</span></span><span class=line><span class=cl># PARTITION CLEARING INFORMATION
</span></span><span class=line><span class=cl>CLEARPART --NONE --INITLABEL
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>%PACKAGES
</span></span><span class=line><span class=cl>@BASE
</span></span><span class=line><span class=cl>@CORE
</span></span><span class=line><span class=cl>@DESKTOP-DEBUGGING
</span></span><span class=line><span class=cl>@DIAL-UP
</span></span><span class=line><span class=cl>@FONTS 
</span></span><span class=line><span class=cl>@GNOME-DESKTOP
</span></span><span class=line><span class=cl>@GUEST-AGENTS
</span></span><span class=line><span class=cl>@GUEST-DESKTOP-AGENTS
</span></span><span class=line><span class=cl>@INPUT-METHODS
</span></span><span class=line><span class=cl>@INTERNET-BROWSER
</span></span><span class=line><span class=cl>@MULTIMEDIA
</span></span><span class=line><span class=cl>@PRINT-CLIENT
</span></span><span class=line><span class=cl>@X11
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>%END
</span></span></code></pre></td></tr></table></div></div><h5 id=6wc---统计文本的字数行数字节数>6．wc - 统计文本的字数行数字节数<a hidden class=anchor aria-hidden=true href=#6wc---统计文本的字数行数字节数>#</a></h5><p>wc 命令用于统计指定文本的行数、字数、字节数，格式为“wc [参数] 文本”。</p><p>wc 的参数以及作用</p><table><thead><tr><th style=text-align:left>参数</th><th style=text-align:left>作用</th></tr></thead><tbody><tr><td style=text-align:left>-l</td><td style=text-align:left>只显示行数</td></tr><tr><td style=text-align:left>-w</td><td style=text-align:left>只显示单词数</td></tr><tr><td style=text-align:left>-c</td><td style=text-align:left>只显示字节数</td></tr></tbody></table><p>在 Linux 系统中，passwd 是用于保存系统账户信息的文件，要<strong>统计当前系统中有多少个
用户</strong>，可以使用下面的命令来进行查询，是不是很神奇：
[root@linuxprobe ~]# wc -l /etc/passwd
38 /etc/passwd</p><h5 id=7stat---文件具体存储信息和时间>7．stat - 文件具体存储信息和时间<a hidden class=anchor aria-hidden=true href=#7stat---文件具体存储信息和时间>#</a></h5><p>stat 命令用于查看文件的具体存储信息和时间等信息，格式为“stat 文件名称”。</p><p>命令 stat anaconda-ks.cfg 会显示出文件的三种时间状态：<strong>Access、Modify、Change</strong>。这三种时间的区别将在下面的 touch命令中详细详解：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>[root@linuxprobe ~]# stat anaconda-ks.cfg
</span></span><span class=line><span class=cl>File: ‘anaconda-ks.cfg’
</span></span><span class=line><span class=cl>Size: 1213 Blocks: 8 IO Block: 4096 regular file
</span></span><span class=line><span class=cl>Device: fd00h/64768d Inode: 68912908 Links: 1
</span></span><span class=line><span class=cl>Access: (0600/-rw-------) Uid: ( 0/ root) Gid: ( 0/ root)
</span></span><span class=line><span class=cl>Context: system_u:object_r:admin_home_t:s0
</span></span><span class=line><span class=cl>Access: 2017-07-14 01:46:18.721255659 -0400
</span></span><span class=line><span class=cl>Modify: 2017-05-04 15:44:36.916027026 -0400
</span></span><span class=line><span class=cl>Change: 2017-05-04 15:44:36.916027026 -0400
</span></span><span class=line><span class=cl>Birth: -
</span></span></code></pre></td></tr></table></div></div><h5 id=8cut---按列提取文本字符>8．cut - 按“列”提取文本字符<a hidden class=anchor aria-hidden=true href=#8cut---按列提取文本字符>#</a></h5><p>cut 命令用于按“列”提取文本字符，格式为“cut [参数] 文本”。</p><p>一般而言，按基于“行”的方式来提取数据是比较简单的，只需要设置好要搜索的关键词即可。
但是如果按列搜索，不仅要使用-f 参数来设置需要看的列数，还需要使用-d 参数来设置间隔符号。
passwd 在保存用户数据信息时，用户信息的每一项值之间是采用冒号来间隔的，接下来我们使用
下述命令尝试<strong>提取出 passwd 文件中的用户名信息</strong>，即提取以冒号（：）为间隔符号的第一列容：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span><span class=lnt>28
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>[root@linuxprobe ~]# head -n 2 /etc/passwd
</span></span><span class=line><span class=cl>root❌0:0:root:/root:/bin/bash
</span></span><span class=line><span class=cl>bin❌1:1:bin:/bin:/sbin/nologin
</span></span><span class=line><span class=cl>[root@linuxprobe ~]# cut -d: -f1 /etc/passwd
</span></span><span class=line><span class=cl>root
</span></span><span class=line><span class=cl>bin
</span></span><span class=line><span class=cl>daemon
</span></span><span class=line><span class=cl>adm
</span></span><span class=line><span class=cl>lp
</span></span><span class=line><span class=cl>sync
</span></span><span class=line><span class=cl>shutdown
</span></span><span class=line><span class=cl>halt
</span></span><span class=line><span class=cl>mail
</span></span><span class=line><span class=cl>operator
</span></span><span class=line><span class=cl>games
</span></span><span class=line><span class=cl>ftp
</span></span><span class=line><span class=cl>nobody
</span></span><span class=line><span class=cl>dbus
</span></span><span class=line><span class=cl>polkitd
</span></span><span class=line><span class=cl>unbound
</span></span><span class=line><span class=cl>colord
</span></span><span class=line><span class=cl>usbmuxd
</span></span><span class=line><span class=cl>avahi
</span></span><span class=line><span class=cl>avahi-autoipd
</span></span><span class=line><span class=cl>libstoragemgmt
</span></span><span class=line><span class=cl>saslauth
</span></span><span class=line><span class=cl>qemu
</span></span><span class=line><span class=cl>rpc
</span></span></code></pre></td></tr></table></div></div><h5 id=9diff---比较多个文本文件的差异>9．diff - 比较多个文本文件的差异<a hidden class=anchor aria-hidden=true href=#9diff---比较多个文本文件的差异>#</a></h5><p>diff 命令用于比较多个文本文件的差异，格式为“diff [参数] 文件”。</p><p>可以使用 &ndash;brief 参数来确认两个文件是否不同
可以使用 -c 参数来详细比较出多个文件的差异之处
先使用 cat 命令分别查看 diff_A.txt 和 diff_B.txt 文件的内容，然后进行比较：
[root@linuxprobe ~]# cat diff_A.txt
Welcome to linuxprobe.com
Red Hat certified
Free Linux Lessons
Professional guidance
Linux Course</p><p>[root@linuxprobe ~]# cat diff_B.txt
Welcome tooo linuxprobe.com
Red Hat certified
Free Linux LeSSonS
////////&mldr;..////////
Professional guidance
Linux Course</p><p>接下来使用 diff &ndash;brief 命令显示比较后的结果，判断文件是否相同：
[root@linuxprobe ~]# diff &ndash;brief diff_A.txt diff_B.txt
Files diff_A.txt and diff_B.txt differ</p><p>最后使用带有-c 参数的 diff 命令来描述文件内容具体的不同：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>[root@linuxprobe ~]# diff -c diff_A.txt diff_B.txt
</span></span><span class=line><span class=cl>	*** diff_A.txt 2017-08-30 18:07:45.230864626 +0800
</span></span><span class=line><span class=cl>	--- diff_B.txt 2017-08-30 18:08:52.203860389 +0800
</span></span><span class=line><span class=cl>	***************
</span></span><span class=line><span class=cl>	*** 1,5 ****
</span></span><span class=line><span class=cl>	! Welcome to linuxprobe.com
</span></span><span class=line><span class=cl>	Red Hat certified
</span></span><span class=line><span class=cl>	! Free Linux Lessons
</span></span><span class=line><span class=cl>	Professional guidance
</span></span><span class=line><span class=cl>	Linux Course
</span></span><span class=line><span class=cl>	--- 1,7 ----
</span></span><span class=line><span class=cl>	! Welcome tooo linuxprobe.com
</span></span><span class=line><span class=cl>	!
</span></span><span class=line><span class=cl>	Red Hat certified
</span></span><span class=line><span class=cl>	! Free Linux LeSSonS
</span></span><span class=line><span class=cl>	! ////////.....////////
</span></span><span class=line><span class=cl>	Professional guidance
</span></span><span class=line><span class=cl>	Linux Course
</span></span></code></pre></td></tr></table></div></div><h4 id=五文件目录管理命令>五、文件目录管理命令<a hidden class=anchor aria-hidden=true href=#五文件目录管理命令>#</a></h4><h5 id=1touch---创建空白文件设置文件时间>1．touch - 创建空白文件/设置文件时间<a hidden class=anchor aria-hidden=true href=#1touch---创建空白文件设置文件时间>#</a></h5><p>touch 命令用于创建空白文件或设置文件的时间，格式为“touch [选项] [文件]”。</p><p>比如，touch linuxprobe 命令可以创建出一个名为 linuxprobe 的空白文本文件。
对 touch 命令来讲，有难度的操作主要是体现在 <strong>设置文件内容的修改时间（mtime）、文件权限或属性的更改时间（ctime）与文件的读取时间（atime）</strong> 上面。
touch 命令的参数及其作用如表所示</p><table><thead><tr><th style=text-align:left>参数</th><th style=text-align:left>作用</th></tr></thead><tbody><tr><td style=text-align:left>-a</td><td style=text-align:left>仅修改“读取时间”（atime）</td></tr><tr><td style=text-align:left>-m</td><td style=text-align:left>仅修改“修改时间”（mtime）</td></tr><tr><td style=text-align:left>-d</td><td style=text-align:left>同时修改 atime 与 mtime</td></tr></tbody></table><p>接下来我们先使用 ls 命令查看一个文件的修改时间，然后修改这个文件，最后再通过 touch
命令把修改后的文件时间设置成修改之间的时间（很多黑客就是这样做的呢）：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>[root@linuxprobe ~]# ls -l anaconda-ks.cfg       //查看文件的修改时间
</span></span><span class=line><span class=cl>-rw-------. 1 root root 1213 May 4 15:44 anaconda-ks.cfg
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>[root@linuxprobe ~]# echo &#34;Visit the LinuxProbe.com to learn linux skills&#34; &gt;&gt; anaconda-ks.cfg             //修改文件
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>[root@linuxprobe ~]# ls -l anaconda-ks.cfg
</span></span><span class=line><span class=cl>-rw-------. 1 root root 1260 Aug 2 01:26 anaconda-ks.cfg
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>[root@linuxprobe ~]# touch -d &#34;2017-05-04 15:44&#34; anaconda-ks.cfg   //设置文件的修改时间
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>[root@linuxprobe ~]# ls -l anaconda-ks.cfg    
</span></span><span class=line><span class=cl>-rw-------. 1 root root 1260 May 4 15:44 anaconda-ks.cfg
</span></span></code></pre></td></tr></table></div></div><h5 id=2mkdir---创建空白的目录>2．mkdir - 创建空白的目录<a hidden class=anchor aria-hidden=true href=#2mkdir---创建空白的目录>#</a></h5><p>mkdir 命令用于创建空白的目录，格式为“mkdir [选项] 目录”。
[root@linuxprobe ~]# mkdir linuxprobe
[root@linuxprobe ~]# cd linuxprobe</p><p>mkdir命令还可以结合-p 参数来递归<strong>创建出具有嵌套叠层关系</strong>的文件目录。
[root@linuxprobe linuxprobe]# mkdir -p a/b/c/d/e
[root@linuxprobe linuxprobe]# cd a
[root@linuxprobe a]# cd b
[root@linuxprobe b]#</p><h5 id=3cp---复制文件目录>3．cp - 复制文件/目录<a hidden class=anchor aria-hidden=true href=#3cp---复制文件目录>#</a></h5><p>cp 命令用于复制文件或目录，格式为“cp [选项] 源文件 目标文件”。</p><p>复制操作具体分为 3 种情况：</p><ul><li>如果目标文件是目录，则会把源文件复制到该目录中；</li><li>如果目标文件也是普通文件，则会询问是否要覆盖它；</li><li>如果目标文件不存在，则执行正常的复制操作</li></ul><p>cp 命令的参数及其作用</p><table><thead><tr><th style=text-align:left>参数</th><th style=text-align:left>作用</th></tr></thead><tbody><tr><td style=text-align:left>-a</td><td style=text-align:left>仅修改“读取时间”（atime）</td></tr><tr><td style=text-align:left>-m</td><td style=text-align:left>仅修改“修改时间”（mtime）</td></tr><tr><td style=text-align:left>-d</td><td style=text-align:left>同时修改 atime 与 mtime</td></tr><tr><td style=text-align:left>-p</td><td style=text-align:left>保留原始文件的属性</td></tr><tr><td style=text-align:left>-d</td><td style=text-align:left>若对象为“链接文件”，则保留该“链接文件”的属性</td></tr><tr><td style=text-align:left>-i</td><td style=text-align:left>若目标文件存在则询问是否覆盖</td></tr><tr><td style=text-align:left>-a</td><td style=text-align:left>相当于-pdr（p、d、r 为上述参数）</td></tr></tbody></table><p>接下来，使用 touch 创建一个名为 install.log 的普通空白文件，然后将其复制为一份名为
x.log 的备份文件，最后再使用 ls 命令查看目录中的文件：
[root@linuxprobe ~]# touch install.log
[root@linuxprobe ~]# cp install.log x.log
[root@linuxprobe ~]# ls
install.log x.log</p><h5 id=4mv---剪切文件文件重命名>4．mv - 剪切文件/文件重命名<a hidden class=anchor aria-hidden=true href=#4mv---剪切文件文件重命名>#</a></h5><p>mv 命令用于剪切文件或将文件重命名，格式为“mv [选项] 源文件 [目标路径|目标文件名]”。</p><p>如果在同一个目录中对一个文件进行剪切操作，其实也就是对其进行重命名：
[root@linuxprobe ~]# mv x.log linux.log
[root@linuxprobe ~]# ls
install.log linux.log</p><h5 id=5rm---删除文件目录>5．rm - 删除文件/目录<a hidden class=anchor aria-hidden=true href=#5rm---删除文件目录>#</a></h5><p>rm 命令用于删除文件或目录，格式为“rm [选项] 文件”。
rm -f 强制删除
rm -r 删除一个目录</p><p>我们来尝试删除前面创建的 install.log和 linux.log 文件：
[root@linuxprobe ~]# rm install.log
rm: remove regular empty file ‘install.log’? y
[root@linuxprobe ~]# rm -f linux.log
[root@linuxprobe ~]# ls
[root@linuxprobe ~]#</p><h5 id=6dd---按指定大学复制文件>6．dd - 按指定大学复制文件<a hidden class=anchor aria-hidden=true href=#6dd---按指定大学复制文件>#</a></h5><p>dd 命令用于按照指定大小和个数的数据块来复制文件或转换文件，格式为“dd [参数]”。</p><p>dd 命令它能够让用户按照指定大小和个数的数据块来复制文件的内容。
当然如果愿意的话，还可以在<strong>复制过程中转换其中的数据</strong>。
Linux系统中有一个名为/dev/zero 的设备文件，每次在课堂上解释它时都充满哲学理论的色彩。因为这个文件不会占用系统存储空间，但却可以提供无穷无尽的数据，因此可以使用它作为 dd命令的输入文件，来生成一个指定大小的文件。</p><p>dd 命令的参数及其作用</p><table><thead><tr><th style=text-align:left>参数</th><th style=text-align:left>作用</th></tr></thead><tbody><tr><td style=text-align:left>if</td><td style=text-align:left>输入的文件名称</td></tr><tr><td style=text-align:left>of</td><td style=text-align:left>输出的文件名称</td></tr><tr><td style=text-align:left>bs</td><td style=text-align:left>设置每个“块”的大小</td></tr><tr><td style=text-align:left>count</td><td style=text-align:left>设置要复制“块”的个数</td></tr></tbody></table><p>例如我们可以用 dd 命令从/dev/zero 设备文件中取出一个大小为 560MB 的数据块，然后
保存成名为 560_file 的文件。
[root@linuxprobe ~]# dd if=/dev/zero of=560_file count=1 bs=560M
1+0 records in
1+0 records out
587202560 bytes (587 MB) copied, 27.1755 s, 21.6 MB/s</p><p>dd 命令的功能不仅限于复制文件
如果您想把光驱设备中的光盘制作成 iso 格式的镜像文件，在 Windows 系统中需要借助于第三方软件才能做到，但在 Linux 系统中可以直接使用 dd 命令来压制出光盘镜像文件，将它编程一个可立即使用的 iso 镜像：
[root@linuxprobe ~]# dd if=/dev/cdrom of=RHEL-server-7.0-x86_64-LinuxProbe.Com.iso
7311360+0 records in
7311360+0 records out
3743416320 bytes (3.7 GB) copied, 370.758 s, 10.1 MB/s</p><p>考虑到有些读者会纠结 bs 块大小与 count 块个数的关系，下面举一个吃货的例子进行解释。假设小明的饭量（即需求）是一个固定的值，用来盛饭的勺子的大小即 bs 块大小，而用勺子盛饭的次数即 count 块个数。小明要想吃饱（满足需求），则需要在勺子大小（bs块大小）与用勺子盛饭的次数（count 块个数）之间进行平衡。勺子越大，用勺子盛饭的次数就越少。有上可见，bs 与 count 都是用来指定容量的大小，只要能满足需求，可随意组合搭配方式。</p><h5 id=7file---查看文件的类型>7．file - 查看文件的类型<a hidden class=anchor aria-hidden=true href=#7file---查看文件的类型>#</a></h5><p>file 命令用于查看文件的类型，格式为“file 文件名”。</p><p>[root@linuxprobe ~]# file anaconda-ks.cfg
anaconda-ks.cfg: ASCII text
[root@linuxprobe ~]# file /dev/sda
/dev/sda: block special</p><h4 id=六打包压缩与搜索命令>六、打包压缩与搜索命令<a hidden class=anchor aria-hidden=true href=#六打包压缩与搜索命令>#</a></h4><h5 id=1tar---打包压缩或解压>1．tar - 打包压缩或解压<a hidden class=anchor aria-hidden=true href=#1tar---打包压缩或解压>#</a></h5><p>tar 命令用于对文件进行打包压缩或解压，格式为“tar [选项] [文件]”。</p><p>在 Linux 系统中，常见的文件格式比较多，其中主要使用的是.tar 或.tar.gz 或.tar.bz2 格式，其实这些格式大部分都是由 tar 命令来生成的。
tar 命令的参数及其作用</p><table><thead><tr><th style=text-align:left>参数</th><th style=text-align:left>作用</th></tr></thead><tbody><tr><td style=text-align:left>-c</td><td style=text-align:left>创建压缩文件</td></tr><tr><td style=text-align:left>-x</td><td style=text-align:left>解开压缩文件</td></tr><tr><td style=text-align:left>-t</td><td style=text-align:left>查看压缩包内有哪些文件</td></tr><tr><td style=text-align:left>-z</td><td style=text-align:left>用 Gzip 压缩或解压</td></tr><tr><td style=text-align:left>-j</td><td style=text-align:left>用 bzip2 压缩或解压</td></tr><tr><td style=text-align:left>-v</td><td style=text-align:left>显示压缩或解压的过程</td></tr><tr><td style=text-align:left>-f</td><td style=text-align:left>目标文件名</td></tr><tr><td style=text-align:left>-p</td><td style=text-align:left>保留原始的权限与属性</td></tr><tr><td style=text-align:left>-P</td><td style=text-align:left>使用绝对路径来压缩</td></tr><tr><td style=text-align:left>-C</td><td style=text-align:left>指定解压到的目录</td></tr></tbody></table><p>首先，-c 参数用于创建压缩文件，-x 参数用于解压文件，因此这两个参数不能同时使用。
其次，-z 参数指定使用 Gzip 格式来压缩或解压文件，-j 参数指定使用 bzip2 格式来压缩或解
压文件。用户使用时则是根据文件的后缀来决定应使用何种格式参数进行解压。
推荐使用-v 参数向用户不断显示压缩或解压的过程。
-C 参数用于指定要解压到哪个指定的目录。
-f 参数特别重要，它必须放到参数的最后一位，代表要<strong>压缩或解压的软件包名称</strong>。</p><p>刘遄老师一般使用“tar -czvf 压缩包名称.tar.gz 要打包的目录”
命令把指定的文件进行打包压缩；相应的解压命令为“tar -xzvf 压缩包名称.tar.gz”。</p><p>下面我们来逐个演示下打包压缩与解压的操作。
先使用 tar 命令把/etc 目录通过 gzip 格式进行打包压缩，并把文件命名为 etc.tar.gz：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>[root@linuxprobe ~]# tar -czvf etc.tar.gz /etc
</span></span><span class=line><span class=cl>tar: Removing leading &#39;/&#39; from member names
</span></span><span class=line><span class=cl>/etc/
</span></span><span class=line><span class=cl>/etc/fstab
</span></span><span class=line><span class=cl>/etc/crypttab
</span></span><span class=line><span class=cl>/etc/mtab
</span></span><span class=line><span class=cl>/etc/fonts/
</span></span><span class=line><span class=cl>/etc/fonts/conf.d/
</span></span><span class=line><span class=cl>/etc/fonts/conf.d/65-0-madan.conf
</span></span><span class=line><span class=cl>/etc/fonts/conf.d/59-liberation-sans.conf
</span></span><span class=line><span class=cl>/etc/fonts/conf.d/90-ttf-arphic-uming-embolden.conf
</span></span><span class=line><span class=cl>/etc/fonts/conf.d/59-liberation-mono.conf
</span></span><span class=line><span class=cl>/etc/fonts/conf.d/66-sil-nuosu.conf
</span></span><span class=line><span class=cl>………………省略部分压缩过程信息………………
</span></span></code></pre></td></tr></table></div></div><p>接下来将打包后的压缩包文件指定解压到/root/etc 目录中（先使用 mkdir 命令来创建/root/etc 目录）：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>[root@linuxprobe ~]# mkdir /root/etc
</span></span><span class=line><span class=cl>[root@linuxprobe ~]# tar xzvf etc.tar.gz -C /root/etc
</span></span><span class=line><span class=cl>etc/
</span></span><span class=line><span class=cl>etc/fstab
</span></span><span class=line><span class=cl>etc/crypttab
</span></span><span class=line><span class=cl>etc/mtab
</span></span><span class=line><span class=cl>etc/fonts/
</span></span><span class=line><span class=cl>etc/fonts/conf.d/
</span></span><span class=line><span class=cl>etc/fonts/conf.d/65-0-madan.conf
</span></span><span class=line><span class=cl>etc/fonts/conf.d/59-liberation-sans.conf
</span></span><span class=line><span class=cl>etc/fonts/conf.d/90-ttf-arphic-uming-embolden.conf
</span></span><span class=line><span class=cl>etc/fonts/conf.d/59-liberation-mono.conf
</span></span><span class=line><span class=cl>etc/fonts/conf.d/66-sil-nuosu.conf
</span></span><span class=line><span class=cl>etc/fonts/conf.d/65-1-vlgothic-gothic.conf
</span></span><span class=line><span class=cl>etc/fonts/conf.d/65-0-lohit-bengali.conf
</span></span><span class=line><span class=cl>etc/fonts/conf.d/20-unhint-small-dejavu-sans.conf
</span></span><span class=line><span class=cl>………………省略部分解压过程信息………………
</span></span></code></pre></td></tr></table></div></div><h5 id=2grep---执行关键词搜索>2．grep - 执行关键词搜索<a hidden class=anchor aria-hidden=true href=#2grep---执行关键词搜索>#</a></h5><p>grep 命令用于在文本中执行关键词搜索，并显示匹配的结果，格式为“grep [选项] [文件]”。
grep 命令的参数及其作用</p><table><thead><tr><th style=text-align:left>参数</th><th style=text-align:left>作用</th></tr></thead><tbody><tr><td style=text-align:left>-b</td><td style=text-align:left>将可执行文件（binary）当作文本文件（text）来搜索</td></tr><tr><td style=text-align:left>-c</td><td style=text-align:left>仅显示找到的行数</td></tr><tr><td style=text-align:left>-i</td><td style=text-align:left>忽略大小写</td></tr><tr><td style=text-align:left>-n</td><td style=text-align:left>显示行号</td></tr><tr><td style=text-align:left>-v</td><td style=text-align:left>反向选择—仅列出没有“关键词”的行</td></tr></tbody></table><p>两个最最常用的参数：
-n 参数用来显示搜索到信息的行号；
-v 参数用于反选信息（即没有包含关键词的所有信息行）</p><p>这两个参数几乎能完成您日后 80%的工作需要，至于其他上百个参数，即使以后在工作期间遇到了，再使用 man grep 命令查询也来得及。</p><p>在 Linux 系统中，/etc/passwd 文件是保存着所有的用户信息，而一旦用户的登录终端被设置成 /sbin/nologin，则不再允许登录系统，因此可以使用 grep 命令来查找出当前系统中不允许登录系统的所有用户信息：
[root@linuxprobe ~]# grep /sbin/nologin /etc/passwd
bin❌1:1:bin:/bin:/sbin/nologin
daemon❌2:2:daemon:/sbin:/sbin/nologin
adm❌3:4:adm:/var/adm:/sbin/nologin
lp❌4:7:lp:/var/spool/lpd:/sbin/nologin
mail❌8:12:mail:/var/spool/mail:/sbin/nologin
operator❌11:0:operator:/root:/sbin/nologin
………………省略部分输出过程信息………………</p><h5 id=3find---查找文件>3．find - 查找文件<a hidden class=anchor aria-hidden=true href=#3find---查找文件>#</a></h5><p>find 命令用于按照指定条件来查找文件，格式为“find [查找路径] 寻找条件 操作”。</p><p>搜索工作一般都是通过 find 命令来完成的，它可以使用不同的文件特性作为寻找条件（如文件名、大小、修改时间、权限等信息），一旦匹配成功则默认将信息显示到屏幕上。</p><p>find 命令中的参数以及作用</p><table><thead><tr><th style=text-align:left>参数</th><th style=text-align:left>作用</th></tr></thead><tbody><tr><td style=text-align:left>-name</td><td style=text-align:left>匹配名称</td></tr><tr><td style=text-align:left>-perm</td><td style=text-align:left>匹配权限（mode 为完全匹配，-mode 为包含即可）</td></tr><tr><td style=text-align:left>-user</td><td style=text-align:left>匹配所有者</td></tr><tr><td style=text-align:left>-group</td><td style=text-align:left>匹配所有组</td></tr><tr><td style=text-align:left>-mtime -n +n</td><td style=text-align:left>匹配修改内容的时间（-n 指 n 天以内，+n 指 n 天以前）</td></tr><tr><td style=text-align:left>-atime -n +n</td><td style=text-align:left>匹配访问文件的时间（-n 指 n 天以内，+n 指 n 天以前）</td></tr><tr><td style=text-align:left>-ctime -n +n</td><td style=text-align:left>匹配修改文件权限的时间（-n 指 n 天以内，+n 指 n 天以前）</td></tr><tr><td style=text-align:left>-nouser</td><td style=text-align:left>匹配无所有者的文件</td></tr><tr><td style=text-align:left>-nogroup</td><td style=text-align:left>匹配无所有组的文件</td></tr><tr><td style=text-align:left>-newer f1 !f2</td><td style=text-align:left>匹配比文件 f1 新但比 f2 旧的文件</td></tr><tr><td style=text-align:left>&ndash;type b/d/c/p/l/f</td><td style=text-align:left>匹配文件类型（后面的字幕参数依次表示块设备、目录、字符设备、管道、链接文件、文本文件）</td></tr><tr><td style=text-align:left>-size</td><td style=text-align:left>匹配文件的大小（+50KB 为查找超过 50KB 的文件，而-50KB 为查找小于</td></tr><tr><td style=text-align:left>-prune</td><td style=text-align:left>忽略某个目录</td></tr><tr><td style=text-align:left>-exec …… {};</td><td style=text-align:left>后面可跟用于进一步处理搜索结果的命令（下文会有演示）</td></tr></tbody></table><p>这里需要重点讲解一下-exec 参数重要的作用。这个参数用于把 find 命令搜索到的结果交由紧随其后的命令作进一步处理，它十分类似于第 3 章将要讲解的管道符技术，并且由于 find命令对参数的特殊要求，因此虽然 exec 是长格式形式，但依然只需要一个减号（-）。
根据文件系统层次标准（Filesystem Hierarchy Standard）协议，Linux 系统中的配置文件会保存到/etc 目录中（详见第 6 章）。如果要想获取到该目录中所有以 host 开头的文件列表，可以执行如下命令：
[root@linuxprobe ~]# find /etc -name &ldquo;host*&rdquo; -print
/etc/avahi/hosts
/etc/host.conf
/etc/hosts
/etc/hosts.allow
/etc/hosts.deny
/etc/selinux/targeted/modules/active/modules/hostname.pp
/etc/hostname</p><p>如果要在整个系统中搜索权限中包括 SUID 权限的所有文件（详见第 5 章），只需使用-4000 即可：
[root@linuxprobe ~]# find / -perm -4000 -print
/usr/bin/fusermount
/usr/bin/su
/usr/bin/umount
/usr/bin/passwd
/usr/sbin/userhelper
/usr/sbin/usernetctl
………………省略部分输出信息………………</p><h4 id=复习题>复习题<a hidden class=anchor aria-hidden=true href=#复习题>#</a></h4><p>1．在 RHEL 7 系统及众多的 Linux 系统中，最常使用的 Shell 终端是什么？
答：Bash（Bourne-Again SHell）解释器。</p><p>2．执行 Linux 系统命令时，添加参数的目的是什么？
答：为了让 Linux 系统命令能够更贴合用户的实际需求进行工作。</p><p>3．Linux 系统命令、命令参数及命令对象之间，普遍应该使用什么来间隔？
答：应该使用一个或多个空格进行间隔。</p><p>4．请写出用 echo 命令把 SHELL 变量值输出到屏幕终端的命令。
答：echo $SHELL。</p><p>5．简述 Linux 系统中 5 种进程的名称及含义。
答：在 Linux 系统中，有下面 5 种进程名称。</p><ul><li>（运行）：进程正在运行或在运行队列中等待。</li><li>（中断）：进程处于休眠中，当某个条件形成后或者接收到信号时，则脱离该状态。</li><li>（不可中断）：进程不响应系统异步信号，即便用 kill 命令也不能将其中断。</li><li>（僵死）：进程已经终止，但进程描述符依然存在, 直到父进程调用 wait4()系统函数后将进程释放。</li><li>（停止）：进程收到停止信号后停止运行。</li></ul><p>6．请尝试使用 Linux 系统命令关闭 PID 为 5529 的服务进程。
答：执行 kill 5529 命令即可；若知道服务的名称，则可以使用 killall 命令进行关闭。</p><p>7．使用 ifconfig 命令查看网络状态信息时，需要重点查看的 4 项信息分别是什么？
答：这 4 项重要信息分别是网卡名称、IP 地址、网卡物理地址以及 RX/TX 的收发流量数据大小。</p><p>8．使用 uptime 命令查看系统负载时，对应的负载数值如果是 0.91、0.56、0.32，那么最近 15分钟内负载压力最大的是哪个时间段？
答：通过负载数值可以看出，最近 1 分钟内的负载压力是最大的。</p><p>9．使用 history 命令查看历史命令的执行记录时，命令前面的数字除了排序外还有什么用处？
答：还可以用“!数字”的命令格式重复执行某一次的命令记录，从而避免了重复输入较长命令的麻烦。</p><p>10．若想查看的文件具有较长的内容，那么使用 cat、more、head、tail 中的哪个命令最合适？
答：文件内容较长，使用 more 命令；反之使用 cat 命令。</p><p>11．在使用 mkdir 命令创建有嵌套关系的目录时，应该加上什么参数呢？
答：应该加上-p 递归迭代参数，从而自动化创建有嵌套关系的目录。复习题</p><p>12．在使用 rm 命令删除文件或目录时，可使用哪个参数来避免二次确认呢？
答：可使用-f 参数，这样即可无需二次确认。</p><p>13．若有一个名为 backup.tar.gz 的压缩包文件，那么解压的命令应该是什么？
答：应该用 tar 命令进行解压，执行 tar -xzvf backup.tar.gz 命令即可。</p><p>14．使用 grep 命令对某个文件进行关键词搜索时，若想要进行文件内容反选，应使用什么参数？
答：可使用-v 参数来进行匹配内容的反向选择，即显示出不包含某个关键词的行。</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://bablvsj.github.io/tags/linux-cloud/>Linux-Cloud</a></li></ul><nav class=paginav><a class=prev href=https://bablvsj.github.io/posts/tech/wait/01-html/03-%E7%BD%91%E9%A1%B5%E8%AE%BE%E8%AE%A1%E5%92%8C%E5%BC%80%E5%8F%91%E4%B8%AD%E5%85%B3%E4%BA%8E%E5%AD%97%E4%BD%93%E7%9A%84%E5%B8%B8%E8%AF%86/><span class=title>« Prev</span><br><span>网页设计和开发中，关于字体的常识</span></a>
<a class=next href=https://bablvsj.github.io/posts/tech/frontend/15-%E5%89%8D%E7%AB%AF%E8%BF%9B%E9%98%B6/20230809-%E7%AE%97%E6%B3%95/><span class=title>Next »</span><br><span>我的第一本算法书</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2023 <a href=https://bablvsj.github.io>Bablvsj's Blog</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span><div class=flex-c-d><a class=flex-d-c href="https://www.upyun.com/?utm_source=lianmeng&utm_medium=referral" target=_blank><span>本站由</span><img width=60 src=/images/upyun.png>提供CDN加速/云存储服务</a></div></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>