<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>CSS盒模型及BFC | Bablvsj's Blog</title><meta name=keywords content="面试技巧"><meta name=description content="本文最初发表于博客园，并在GitHub上持续更新前端的系列文章。欢迎在GitHub上关注我，一起入门和进阶前端。 以下是正文。 题目：谈一谈你对"><meta name=author content="Lvsj"><link rel=canonical href=https://bablvsj.github.io/posts/temp/14-%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95/02-css%E7%9B%92%E6%A8%A1%E5%9E%8B%E5%8F%8Abfc/><link crossorigin=anonymous href=/assets/css/stylesheet.de52e5063d5c6e4b62255f10cab97d18893776d568014196f938b8af9e3e8caf.css integrity="sha256-3lLlBj1cbktiJV8Qyrl9GIk3dtVoAUGW+Ti4r54+jK8=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://bablvsj.github.io/img/Q.gif><link rel=icon type=image/png sizes=16x16 href=https://bablvsj.github.io/img/Q.gif><link rel=icon type=image/png sizes=32x32 href=https://bablvsj.github.io/img/Q.gif><link rel=apple-touch-icon href=https://bablvsj.github.io/Q.gif><link rel=mask-icon href=https://bablvsj.github.io/Q.gif><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="CSS盒模型及BFC"><meta property="og:description" content="本文最初发表于博客园，并在GitHub上持续更新前端的系列文章。欢迎在GitHub上关注我，一起入门和进阶前端。 以下是正文。 题目：谈一谈你对"><meta property="og:type" content="article"><meta property="og:url" content="https://bablvsj.github.io/posts/temp/14-%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95/02-css%E7%9B%92%E6%A8%A1%E5%9E%8B%E5%8F%8Abfc/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2020-04-01T17:11:35+08:00"><meta property="article:modified_time" content="2020-04-01T17:11:35+08:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="CSS盒模型及BFC"><meta name=twitter:description content="本文最初发表于博客园，并在GitHub上持续更新前端的系列文章。欢迎在GitHub上关注我，一起入门和进阶前端。 以下是正文。 题目：谈一谈你对"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"文章","item":"https://bablvsj.github.io/posts/"},{"@type":"ListItem","position":3,"name":"CSS盒模型及BFC","item":"https://bablvsj.github.io/posts/temp/14-%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95/02-css%E7%9B%92%E6%A8%A1%E5%9E%8B%E5%8F%8Abfc/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"CSS盒模型及BFC","name":"CSS盒模型及BFC","description":"本文最初发表于博客园，并在GitHub上持续更新前端的系列文章。欢迎在GitHub上关注我，一起入门和进阶前端。 以下是正文。 题目：谈一谈你对","keywords":["面试技巧"],"articleBody":" 本文最初发表于博客园，并在GitHub上持续更新前端的系列文章。欢迎在GitHub上关注我，一起入门和进阶前端。\n以下是正文。\n题目：谈一谈你对CSS盒模型的认识 专业的面试，一定会问 CSS 盒模型。对于这个题目，我们要回答一下几个方面：\n（1）基本概念：content、padding、margin。\n（2）标准盒模型、IE盒模型的区别。不要漏说了IE盒模型，通过这个问题，可以筛选一部分人。\n（3）CSS如何设置这两种模型（即：如何设置某个盒子为其中一个模型）？如果回答了上面的第二条，还会继续追问这一条。\n（4）JS如何设置、获取盒模型对应的宽和高？这一步，已经有很多人答不上来了。\n（5）实例题：根据盒模型解释边距重叠。\n前四个方面是逐渐递增，第五个方面，却鲜有人知。\n（6）BFC（边距重叠解决方案）或IFC。\n如果能回答第五条，就会引出第六条。BFC是面试频率较高的。\n总结：以上几点，从上到下，知识点逐渐递增，知识面从理论、CSS、JS，又回到CSS理论。\n接下来，我们把上面的六条，依次讲解。\n标准盒模型和IE盒子模型 标准盒子模型：\nIE盒子模型：\n上图显示：\n在 CSS 盒子模型 (Box Model) 规定了元素处理元素的几种方式：\nwidth和height：内容的宽度、高度（不是盒子的宽度、高度）。 padding：内边距。 border：边框。 margin：外边距。 CSS盒模型和IE盒模型的区别：\n在 标准盒子模型中，width 和 height 指的是内容区域的宽度和高度。增加内边距、边框和外边距不会影响内容区域的尺寸，但是会增加元素框的总尺寸。\nIE盒子模型中，width 和 height 指的是内容区域+border+padding的宽度和高度。\nCSS如何设置这两种模型 代码如下：\n1 2 3 4 5 /* 设置当前盒子为 标准盒模型（默认） */ box-sizing: content-box; /* 设置当前盒子为 IE盒模型 */ box-sizing: border-box; 备注：盒子默认为标准盒模型。\nJS如何设置、获取盒模型对应的宽和高 方式一：通过DOM节点的 style 样式获取 1 element.style.width/height; 缺点：通过这种方式，只能获取行内样式，不能获取内嵌的样式和外链的样式。\n这种方式有局限性，但应该了解。\n方式二（通用型） 1 window.getComputedStyle(element).width/height; 方式二能兼容 Chrome、火狐。是通用型方式。\n方式三（IE独有的） 1 element.currentStyle.width/height; 和方式二相同，但这种方式只有IE独有。获取到的即时运行完之后的宽高（三种css样式都可以获取）。\n方式四 1 element.getBoundingClientRect().width/height; 此 api 的作用是：获取一个元素的绝对位置。绝对位置是视窗 viewport 左上角的绝对位置。\n此 api 可以拿到四个属性：left、top、width、height。\n总结：\n上面的四种方式，要求能说出来区别，以及哪个的通用型更强。\nmargin塌陷/margin重叠 标准文档流中，竖直方向的margin不叠加，只取较大的值作为margin(水平方向的margin是可以叠加的，即水平方向没有塌陷现象)。\nPS：如果不在标准流，比如盒子都浮动了，那么两个盒子之间是没有margin重叠的现象的。\n我们来看几个例子。\n兄弟元素之间 如下图所示：\n子元素和父元素之间 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 \u003c!DOCTYPE html\u003e \u003chtml lang=\"en\"\u003e \u003chead\u003e \u003cmeta charset=\"UTF-8\"\u003e \u003ctitle\u003eDocument\u003c/title\u003e \u003cstyle\u003e * { margin: 0; padding: 0; } .father { background: green; } /* 给儿子设置margin-top为10像素 */ .son { height: 100px; margin-top: 10px; background: red; } \u003c/style\u003e \u003c/head\u003e \u003cbody\u003e \u003cdiv class=\"father\"\u003e \u003cdiv class=\"son\"\u003e\u003c/div\u003e \u003c/div\u003e \u003c/body\u003e \u003c/html\u003e 上面的代码中，儿子的height是 100px，magin-top 是10px。注意，此时父亲的 height 是100，而不是110。因为儿子和父亲在竖直方向上，共一个margin。\n儿子这个盒子：\n父亲这个盒子：\n上方代码中，如果我们给父亲设置一个属性：overflow: hidden，就可以避免这个问题，此时父亲的高度是110px，这个用到的就是BFC（下一段讲解）。\n善于使用父亲的padding，而不是儿子的margin 其实，这一小段讲的内容与上一小段相同，都是讲父子之间的margin重叠。\n我们来看一个奇怪的现象。现在有下面这样一个结构：（div中放一个p）\n1 2 3 上面的结构中，我们尝试通过给儿子p一个margin-top:50px;的属性，让其与父亲保持50px的上边距。结果却看到了下面的奇怪的现象：\n此时我们给父亲div加一个border属性，就正常了：\n如果父亲没有border，那么儿子的margin实际上踹的是“流”，踹的是这“行”。所以，父亲整体也掉下来了。\nmargin这个属性，本质上描述的是兄弟和兄弟之间的距离； 最好不要用这个marign表达父子之间的距离。\n所以，如果要表达父子之间的距离，我们一定要善于使用父亲的padding，而不是儿子的margin。\nBFC（边距重叠解决方案） BFC的概念 BFC（Block Formatting Context）：块级格式化上下文。你可以把它理解成一个独立的区域。\n另外还有个概念叫IFC。不过，BFC问得更多。\nBFC 的原理/BFC的布局规则【非常重要】 BFC 的原理，其实也就是 BFC 的渲染规则（能说出以下四点就够了）。包括：\n（1）BFC 内部的子元素，在垂直方向，边距会发生重叠。\n（2）BFC在页面中是独立的容器，外面的元素不会影响里面的元素，反之亦然。（稍后看举例1）\n（3）BFC区域不与旁边的float box区域重叠。（可以用来清除浮动带来的影响）。（稍后看举例2）\n（4）计算BFC的高度时，浮动的子元素也参与计算。（稍后看举例3）\n如何生成BFC 有以下几种方法：\n方法1：overflow: 不为visible，可以让属性是 hidden、auto。【最常用】\n方法2：浮动中：float的属性值不为none。意思是，只要设置了浮动，当前元素就创建了BFC。\n方法3：定位中：只要posiiton的值不是 static或者是relative即可，可以是absolute或fixed，也就生成了一个BFC。\n方法4：display为inline-block, table-cell, table-caption, flex, inline-flex\n参考链接：\nBFC原理详解\nBFC详解\n前端精选文摘：BFC 神奇背后的原理\n下面来看几个例子，看看如何生成BFC。\nBFC 的应用 **举例1：**解决 margin 重叠\n当父元素和子元素发生 margin 重叠时，解决办法：给子元素或父元素创建BFC。\n比如说，针对下面这样一个 div 结构：\n1 2 3 4 \u003cdiv class=\"father\"\u003e \u003cp class=\"son\"\u003e \u003c/p\u003e \u003c/div\u003e 上面的div结构中，如果父元素和子元素发生margin重叠，我们可以给子元素创建一个 BFC，就解决了：\n1 2 3 4 \u003cdiv class=\"father\"\u003e \u003cp class=\"son\" style=\"overflow: hidden\"\u003e \u003c/p\u003e \u003c/div\u003e 因为第二条：BFC区域是一个独立的区域，不会影响外面的元素。\n举例2：BFC区域不与float区域重叠：\n针对下面这样一个div结构；\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 \u003c!DOCTYPE html\u003e \u003chtml lang=\"en\"\u003e \u003chead\u003e \u003cmeta charset=\"UTF-8\"\u003e \u003ctitle\u003eDocument\u003c/title\u003e \u003cstyle\u003e .father-layout { background: pink; } .father-layout .left { float: left; width: 100px; height: 100px; background: green; } .father-layout .right { height: 150px; /*右侧标准流里的元素，比左侧浮动的元素要高*/ background: red; } \u003c/style\u003e \u003c/head\u003e \u003cbody\u003e \u003csection class=\"father-layout\"\u003e \u003cdiv class=\"left\"\u003e 左侧，生命壹号 \u003c/div\u003e \u003cdiv class=\"right\"\u003e 右侧，smyhvae，smyhvae，smyhvae，smyhvae，smyhvae，smyhvae，smyhvae，smyhvae，smyhvae，smyhvae，smyhvae，smyhvae， \u003c/div\u003e \u003c/section\u003e \u003c/body\u003e \u003c/html\u003e 效果如下：\n上图中，由于右侧标准流里的元素，比左侧浮动的元素要高，导致右侧有一部分会跑到左边的下面去。\n如果要解决这个问题，可以将右侧的元素创建BFC，因为第三条：BFC区域不与float box区域重叠。解决办法如下：（将right区域添加overflow属性）\n1 2 3 \u003cdiv class=\"right\" style=\"overflow: hidden\"\u003e 右侧，smyhvae，smyhvae，smyhvae，smyhvae，smyhvae，smyhvae，smyhvae，smyhvae，smyhvae，smyhvae，smyhvae，smyhvae， \u003c/div\u003e 上图表明，解决之后，father-layout的背景色显现出来了，说明问题解决了。\n**举例3：**清除浮动\n现在有下面这样的结构：\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 \u003c!DOCTYPE html\u003e \u003chtml lang=\"en\"\u003e \u003chead\u003e \u003cmeta charset=\"UTF-8\"\u003e \u003ctitle\u003eDocument\u003c/title\u003e \u003cstyle\u003e .father { background: pink; } .son { float: left; background: green; } \u003c/style\u003e \u003c/head\u003e \u003cbody\u003e \u003csection class=\"father\"\u003e \u003cdiv class=\"son\"\u003e 生命壹号 \u003c/div\u003e \u003c/section\u003e \u003c/body\u003e \u003c/html\u003e 效果如下：\n上面的代码中，儿子浮动了，但由于父亲没有设置高度，导致看不到父亲的背景色（此时父亲的高度为0）。正所谓有高度的盒子，才能关住浮动。\n如果想要清除浮动带来的影响，方法一是给父亲设置高度，然后采用隔墙法。方法二是 BFC：给父亲增加 overflow=hidden属性即可， 增加之后，效果如下：\n为什么父元素成为BFC之后，就有了高度呢？这就回到了第四条：计算BFC的高度时，浮动元素也参与计算。意思是，在计算BFC的高度时，子元素的float box也会参与计算。\n","wordCount":"3397","inLanguage":"en","datePublished":"2020-04-01T17:11:35+08:00","dateModified":"2020-04-01T17:11:35+08:00","author":{"@type":"Person","name":"Lvsj"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://bablvsj.github.io/posts/temp/14-%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95/02-css%E7%9B%92%E6%A8%A1%E5%9E%8B%E5%8F%8Abfc/"},"publisher":{"@type":"Organization","name":"Bablvsj's Blog","logo":{"@type":"ImageObject","url":"https://bablvsj.github.io/img/Q.gif"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://bablvsj.github.io accesskey=h title="Bablvsj's Blog (Alt + H)">Bablvsj's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://bablvsj.github.io/ title=主页><span>主页</span></a></li><li><a href=https://bablvsj.github.io/archives/ title=时间轴><span>时间轴</span></a></li><li><a href=https://bablvsj.github.io/categories title=分类><span>分类</span></a></li><li><a href=https://bablvsj.github.io/tags title=标签><span>标签</span></a></li><li><a href=https://bablvsj.github.io/about title=关于><span>关于</span></a></li><li><a href=https://bablvsj.github.io/search title="🔍 (Alt + /)" accesskey=/><span>🔍</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>CSS盒模型及BFC</h1><div class=post-meta><span title='2020-04-01 17:11:35 +0800 +0800'>2020/04/01</span>&nbsp;·&nbsp;7 min&nbsp;·&nbsp;Lvsj<ul class=post-tags-meta><a href=https://bablvsj.github.io/tags/%E9%9D%A2%E8%AF%95%E6%8A%80%E5%B7%A7/>面试技巧</a></ul></div></header><aside id=toc-container class="toc-container wide"><div class=toc><div class=inner><ul><li><a href=#%e9%a2%98%e7%9b%ae%e8%b0%88%e4%b8%80%e8%b0%88%e4%bd%a0%e5%af%b9css%e7%9b%92%e6%a8%a1%e5%9e%8b%e7%9a%84%e8%ae%a4%e8%af%86 aria-label=题目：谈一谈你对CSS盒模型的认识>题目：谈一谈你对CSS盒模型的认识</a></li><li><a href=#%e6%a0%87%e5%87%86%e7%9b%92%e6%a8%a1%e5%9e%8b%e5%92%8cie%e7%9b%92%e5%ad%90%e6%a8%a1%e5%9e%8b aria-label=标准盒模型和IE盒子模型>标准盒模型和IE盒子模型</a></li><li><a href=#css%e5%a6%82%e4%bd%95%e8%ae%be%e7%bd%ae%e8%bf%99%e4%b8%a4%e7%a7%8d%e6%a8%a1%e5%9e%8b aria-label=CSS如何设置这两种模型>CSS如何设置这两种模型</a></li><li><a href=#js%e5%a6%82%e4%bd%95%e8%ae%be%e7%bd%ae%e8%8e%b7%e5%8f%96%e7%9b%92%e6%a8%a1%e5%9e%8b%e5%af%b9%e5%ba%94%e7%9a%84%e5%ae%bd%e5%92%8c%e9%ab%98 aria-label=JS如何设置、获取盒模型对应的宽和高>JS如何设置、获取盒模型对应的宽和高</a><ul><li><a href=#%e6%96%b9%e5%bc%8f%e4%b8%80%e9%80%9a%e8%bf%87dom%e8%8a%82%e7%82%b9%e7%9a%84-style-%e6%a0%b7%e5%bc%8f%e8%8e%b7%e5%8f%96 aria-label="方式一：通过DOM节点的 style 样式获取">方式一：通过DOM节点的 style 样式获取</a></li><li><a href=#%e6%96%b9%e5%bc%8f%e4%ba%8c%e9%80%9a%e7%94%a8%e5%9e%8b aria-label=方式二（通用型）>方式二（通用型）</a></li><li><a href=#%e6%96%b9%e5%bc%8f%e4%b8%89ie%e7%8b%ac%e6%9c%89%e7%9a%84 aria-label=方式三（IE独有的）>方式三（IE独有的）</a></li><li><a href=#%e6%96%b9%e5%bc%8f%e5%9b%9b aria-label=方式四>方式四</a></li></ul></li><li><a href=#margin%e5%a1%8c%e9%99%b7margin%e9%87%8d%e5%8f%a0 aria-label=margin塌陷/margin重叠>margin塌陷/margin重叠</a><ul><li><a href=#%e5%85%84%e5%bc%9f%e5%85%83%e7%b4%a0%e4%b9%8b%e9%97%b4 aria-label=兄弟元素之间>兄弟元素之间</a></li><li><a href=#%e5%ad%90%e5%85%83%e7%b4%a0%e5%92%8c%e7%88%b6%e5%85%83%e7%b4%a0%e4%b9%8b%e9%97%b4 aria-label=子元素和父元素之间>子元素和父元素之间</a></li><li><a href=#%e5%96%84%e4%ba%8e%e4%bd%bf%e7%94%a8%e7%88%b6%e4%ba%b2%e7%9a%84padding%e8%80%8c%e4%b8%8d%e6%98%af%e5%84%bf%e5%ad%90%e7%9a%84margin aria-label=善于使用父亲的padding，而不是儿子的margin>善于使用父亲的padding，而不是儿子的margin</a></li></ul></li><li><a href=#bfc%e8%be%b9%e8%b7%9d%e9%87%8d%e5%8f%a0%e8%a7%a3%e5%86%b3%e6%96%b9%e6%a1%88 aria-label=BFC（边距重叠解决方案）>BFC（边距重叠解决方案）</a><ul><li><a href=#bfc%e7%9a%84%e6%a6%82%e5%bf%b5 aria-label=BFC的概念>BFC的概念</a></li><li><a href=#bfc-%e7%9a%84%e5%8e%9f%e7%90%86bfc%e7%9a%84%e5%b8%83%e5%b1%80%e8%a7%84%e5%88%99%e9%9d%9e%e5%b8%b8%e9%87%8d%e8%a6%81 aria-label="BFC 的原理/BFC的布局规则【非常重要】">BFC 的原理/BFC的布局规则【非常重要】</a></li><li><a href=#%e5%a6%82%e4%bd%95%e7%94%9f%e6%88%90bfc aria-label=如何生成BFC>如何生成BFC</a></li><li><a href=#bfc-%e7%9a%84%e5%ba%94%e7%94%a8 aria-label="BFC 的应用">BFC 的应用</a></li></ul></li></ul></div></div></aside><script>let activeElement,elements;window.addEventListener("DOMContentLoaded",function(){checkTocPosition(),elements=document.querySelectorAll("h1[id],h2[id],h3[id],h4[id],h5[id],h6[id]"),activeElement=elements[0];const t=encodeURI(activeElement.getAttribute("id")).toLowerCase();document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active")},!1),window.addEventListener("resize",function(){checkTocPosition()},!1),window.addEventListener("scroll",()=>{activeElement=Array.from(elements).find(e=>{if(getOffsetTop(e)-window.pageYOffset>0&&getOffsetTop(e)-window.pageYOffset<window.innerHeight/2)return e})||activeElement,elements.forEach(e=>{const t=encodeURI(e.getAttribute("id")).toLowerCase();e===activeElement?document.querySelector(`.inner ul li a[href="#${t}"]`).classList.add("active"):document.querySelector(`.inner ul li a[href="#${t}"]`).classList.remove("active")})},!1);const main=parseInt(getComputedStyle(document.body).getPropertyValue("--article-width"),10),toc=parseInt(getComputedStyle(document.body).getPropertyValue("--toc-width"),10),gap=parseInt(getComputedStyle(document.body).getPropertyValue("--gap"),10);function checkTocPosition(){const e=document.body.scrollWidth;e-main-toc*2-gap*4>0?document.getElementById("toc-container").classList.add("wide"):document.getElementById("toc-container").classList.remove("wide")}function getOffsetTop(e){if(!e.getClientRects().length)return 0;let t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView;return t.top+n.pageYOffset}</script><div class=post-content><blockquote><p>本文最初发表于<a href=http://www.cnblogs.com/smyhvae/p/8512617.html>博客园</a>，并在<a href=https://github.com/smyhvae/Web>GitHub</a>上持续更新<strong>前端的系列文章</strong>。欢迎在GitHub上关注我，一起入门和进阶前端。</p></blockquote><blockquote><p>以下是正文。</p></blockquote><h2 id=题目谈一谈你对css盒模型的认识>题目：谈一谈你对CSS盒模型的认识<a hidden class=anchor aria-hidden=true href=#题目谈一谈你对css盒模型的认识>#</a></h2><p>专业的面试，一定会问 CSS 盒模型。对于这个题目，我们要回答一下几个方面：</p><p>（1）基本概念：content、padding、margin。</p><p>（2）标准盒模型、IE盒模型的区别。不要漏说了IE盒模型，通过这个问题，可以筛选一部分人。</p><p>（3）CSS如何设置这两种模型（即：如何设置某个盒子为其中一个模型）？如果回答了上面的第二条，还会继续追问这一条。</p><p>（4）JS如何设置、获取盒模型对应的宽和高？这一步，已经有很多人答不上来了。</p><p>（5）实例题：根据盒模型解释<strong>边距重叠</strong>。</p><p>前四个方面是逐渐递增，第五个方面，却鲜有人知。</p><p>（6）BFC（边距重叠解决方案）或IFC。</p><p>如果能回答第五条，就会引出第六条。BFC是面试频率较高的。</p><p><strong>总结</strong>：以上几点，从上到下，知识点逐渐递增，知识面从理论、CSS、JS，又回到CSS理论。</p><p>接下来，我们把上面的六条，依次讲解。</p><h2 id=标准盒模型和ie盒子模型>标准盒模型和IE盒子模型<a hidden class=anchor aria-hidden=true href=#标准盒模型和ie盒子模型>#</a></h2><p>标准盒子模型：</p><p><img loading=lazy src=http://img.smyhvae.com/2015-10-03-css-27.jpg alt></p><p>IE盒子模型：</p><p><img loading=lazy src=http://img.smyhvae.com/2015-10-03-css-30.jpg alt></p><p>上图显示：</p><p>在 CSS 盒子模型 (Box Model) 规定了元素处理元素的几种方式：</p><ul><li>width和height：<strong>内容</strong>的宽度、高度（不是盒子的宽度、高度）。</li><li>padding：内边距。</li><li>border：边框。</li><li>margin：外边距。</li></ul><p>CSS盒模型和IE盒模型的区别：</p><ul><li><p>在 <font color=#0000FF><strong>标准盒子模型</strong></font>中，<font color=#0000FF><strong>width 和 height 指的是内容区域</strong></font>的宽度和高度。增加内边距、边框和外边距不会影响内容区域的尺寸，但是会增加元素框的总尺寸。</p></li><li><p><font color=#0000FF><strong>IE盒子模型</strong></font>中，<font color=#0000FF><strong>width 和 height 指的是内容区域+border+padding</strong></font>的宽度和高度。</p></li></ul><h2 id=css如何设置这两种模型>CSS如何设置这两种模型<a hidden class=anchor aria-hidden=true href=#css如何设置这两种模型>#</a></h2><p>代码如下：</p><div class=highlight><div style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">5
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span>    <span style=color:#007f7f>/* 设置当前盒子为 标准盒模型（默认） */</span>
</span></span><span style=display:flex><span>    box-sizing: content-box;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#007f7f>/* 设置当前盒子为 IE盒模型 */</span>
</span></span><span style=display:flex><span>    box-sizing: border-box;
</span></span></code></pre></td></tr></table></div></div><p>备注：盒子默认为标准盒模型。</p><h2 id=js如何设置获取盒模型对应的宽和高>JS如何设置、获取盒模型对应的宽和高<a hidden class=anchor aria-hidden=true href=#js如何设置获取盒模型对应的宽和高>#</a></h2><h3 id=方式一通过dom节点的-style-样式获取>方式一：通过DOM节点的 style 样式获取<a hidden class=anchor aria-hidden=true href=#方式一通过dom节点的-style-样式获取>#</a></h3><div class=highlight><div style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span>	element.style.width/height;
</span></span></code></pre></td></tr></table></div></div><p>缺点：通过这种方式，只能获取<strong>行内样式</strong>，不能获取<code>内嵌</code>的样式和<code>外链</code>的样式。</p><p>这种方式有局限性，但应该了解。</p><h3 id=方式二通用型>方式二（通用型）<a hidden class=anchor aria-hidden=true href=#方式二通用型>#</a></h3><div class=highlight><div style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span>    <span style=color:#fff;font-weight:700>window</span>.getComputedStyle(element).width/height;
</span></span></code></pre></td></tr></table></div></div><p>方式二能兼容 Chrome、火狐。是通用型方式。</p><h3 id=方式三ie独有的>方式三（IE独有的）<a hidden class=anchor aria-hidden=true href=#方式三ie独有的>#</a></h3><div class=highlight><div style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span>	element.currentStyle.width/height;
</span></span></code></pre></td></tr></table></div></div><p>和方式二相同，但这种方式只有IE独有。获取到的即时运行完之后的宽高（三种css样式都可以获取）。</p><h3 id=方式四>方式四<a hidden class=anchor aria-hidden=true href=#方式四>#</a></h3><div class=highlight><div style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-javascript data-lang=javascript><span style=display:flex><span>	element.getBoundingClientRect().width/height;
</span></span></code></pre></td></tr></table></div></div><p>此 api 的作用是：获取一个元素的绝对位置。绝对位置是视窗 viewport 左上角的绝对位置。</p><p>此 api 可以拿到四个属性：left、top、width、height。</p><p><strong>总结：</strong></p><p>上面的四种方式，要求能说出来区别，以及哪个的通用型更强。</p><h2 id=margin塌陷margin重叠>margin塌陷/margin重叠<a hidden class=anchor aria-hidden=true href=#margin塌陷margin重叠>#</a></h2><p><strong>标准文档流中，竖直方向的margin不叠加，只取较大的值作为margin</strong>(水平方向的margin是可以叠加的，即水平方向没有塌陷现象)。</p><p>PS：如果不在标准流，比如盒子都浮动了，那么两个盒子之间是没有margin重叠的现象的。</p><p>我们来看几个例子。</p><h3 id=兄弟元素之间>兄弟元素之间<a hidden class=anchor aria-hidden=true href=#兄弟元素之间>#</a></h3><p>如下图所示：</p><p><img loading=lazy src=http://img.smyhvae.com/20170805_0904_2.png alt></p><h3 id=子元素和父元素之间>子元素和父元素之间<a hidden class=anchor aria-hidden=true href=#子元素和父元素之间>#</a></h3><div class=highlight><div style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">12
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">13
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">14
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">15
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">16
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">17
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">18
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">19
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">20
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">21
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">22
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">23
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">24
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">25
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">26
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">27
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">28
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">29
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">30
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">31
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">32
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span><span style=color:#0f0;font-weight:700>&lt;!DOCTYPE html&gt;</span>
</span></span><span style=display:flex><span>&lt;<span style=font-weight:700>html</span> <span style=color:#007f7f>lang</span>=<span style=color:#0ff;font-weight:700>&#34;en&#34;</span>&gt;
</span></span><span style=display:flex><span>&lt;<span style=font-weight:700>head</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=font-weight:700>meta</span> <span style=color:#007f7f>charset</span>=<span style=color:#0ff;font-weight:700>&#34;UTF-8&#34;</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=font-weight:700>title</span>&gt;Document&lt;/<span style=font-weight:700>title</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=font-weight:700>style</span>&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        * {
</span></span><span style=display:flex><span>            <span style=color:#fff;font-weight:700>margin</span>: <span style=color:#ff0;font-weight:700>0</span>;
</span></span><span style=display:flex><span>            <span style=color:#fff;font-weight:700>padding</span>: <span style=color:#ff0;font-weight:700>0</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        .father {
</span></span><span style=display:flex><span>            <span style=color:#fff;font-weight:700>background</span>: <span style=color:#fff;font-weight:700>green</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#007f7f>/* 给儿子设置margin-top为10像素 */</span>
</span></span><span style=display:flex><span>        .son {
</span></span><span style=display:flex><span>            <span style=color:#fff;font-weight:700>height</span>: <span style=color:#ff0;font-weight:700>100</span><span style=color:#fff;font-weight:700>px</span>;
</span></span><span style=display:flex><span>            <span style=color:#fff;font-weight:700>margin-top</span>: <span style=color:#ff0;font-weight:700>10</span><span style=color:#fff;font-weight:700>px</span>;
</span></span><span style=display:flex><span>            <span style=color:#fff;font-weight:700>background</span>: <span style=color:#fff;font-weight:700>red</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    &lt;/<span style=font-weight:700>style</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=font-weight:700>head</span>&gt;
</span></span><span style=display:flex><span>&lt;<span style=font-weight:700>body</span>&gt;
</span></span><span style=display:flex><span>&lt;<span style=font-weight:700>div</span> <span style=color:#007f7f>class</span>=<span style=color:#0ff;font-weight:700>&#34;father&#34;</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=font-weight:700>div</span> <span style=color:#007f7f>class</span>=<span style=color:#0ff;font-weight:700>&#34;son&#34;</span>&gt;&lt;/<span style=font-weight:700>div</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=font-weight:700>div</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=font-weight:700>body</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=font-weight:700>html</span>&gt;
</span></span></code></pre></td></tr></table></div></div><p>上面的代码中，儿子的height是 100px，magin-top 是10px。注意，此时父亲的 height 是100，而不是110。因为儿子和父亲在竖直方向上，共一个margin。</p><p>儿子这个盒子：</p><p><img loading=lazy src=http://img.smyhvae.com/20180305_2216.png alt></p><p>父亲这个盒子：</p><p><img loading=lazy src=http://img.smyhvae.com/20180305_2217.png alt></p><p>上方代码中，如果我们给父亲设置一个属性：<code>overflow: hidden</code>，就可以避免这个问题，此时父亲的高度是110px，这个用到的就是BFC（下一段讲解）。</p><h3 id=善于使用父亲的padding而不是儿子的margin>善于使用父亲的padding，而不是儿子的margin<a hidden class=anchor aria-hidden=true href=#善于使用父亲的padding而不是儿子的margin>#</a></h3><blockquote><p>其实，这一小段讲的内容与上一小段相同，都是讲父子之间的margin重叠。</p></blockquote><p>我们来看一个奇怪的现象。现在有下面这样一个结构：（div中放一个p）</p><div class=highlight><div style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-fallback data-lang=fallback><span style=display:flex><span>	&lt;div&gt;
</span></span><span style=display:flex><span>		&lt;p&gt;&lt;/p&gt;
</span></span><span style=display:flex><span>	&lt;/div&gt;
</span></span></code></pre></td></tr></table></div></div><p>上面的结构中，我们尝试通过给儿子<code>p</code>一个<code>margin-top:50px;</code>的属性，让其与父亲保持50px的上边距。结果却看到了下面的奇怪的现象：</p><p><img loading=lazy src=http://img.smyhvae.com/20170806_1537.png alt></p><p>此时我们给父亲div加一个border属性，就正常了：</p><p><img loading=lazy src=http://img.smyhvae.com/20170806_1544.png alt></p><p>如果父亲没有border，那么儿子的margin实际上踹的是“流”，踹的是这“行”。所以，父亲整体也掉下来了。</p><p><strong>margin这个属性，本质上描述的是兄弟和兄弟之间的距离； 最好不要用这个marign表达父子之间的距离。</strong></p><p>所以，如果要表达父子之间的距离，我们一定要善于使用父亲的padding，而不是儿子的margin。</p><h2 id=bfc边距重叠解决方案>BFC（边距重叠解决方案）<a hidden class=anchor aria-hidden=true href=#bfc边距重叠解决方案>#</a></h2><h3 id=bfc的概念>BFC的概念<a hidden class=anchor aria-hidden=true href=#bfc的概念>#</a></h3><p>BFC（Block Formatting Context）：块级格式化上下文。你可以把它理解成一个独立的区域。</p><p>另外还有个概念叫IFC。不过，BFC问得更多。</p><h3 id=bfc-的原理bfc的布局规则非常重要>BFC 的原理/BFC的布局规则【非常重要】<a hidden class=anchor aria-hidden=true href=#bfc-的原理bfc的布局规则非常重要>#</a></h3><p>BFC 的原理，其实也就是 BFC 的渲染规则（能说出以下四点就够了）。包括：</p><ul><li><p>（1）BFC <strong>内部的</strong>子元素，在垂直方向，<strong>边距会发生重叠</strong>。</p></li><li><p>（2）BFC在页面中是独立的容器，外面的元素不会影响里面的元素，反之亦然。（稍后看<code>举例1</code>）</p></li><li><p>（3）<strong>BFC区域不与旁边的<code>float box</code>区域重叠</strong>。（可以用来清除浮动带来的影响）。（稍后看<code>举例2</code>）</p></li><li><p>（4）计算BFC的高度时，浮动的子元素也参与计算。（稍后看<code>举例3</code>）</p></li></ul><h3 id=如何生成bfc>如何生成BFC<a hidden class=anchor aria-hidden=true href=#如何生成bfc>#</a></h3><p>有以下几种方法：</p><ul><li><p>方法1：overflow: 不为visible，可以让属性是 hidden、auto。【最常用】</p></li><li><p>方法2：浮动中：float的属性值不为none。意思是，只要设置了浮动，当前元素就创建了BFC。</p></li><li><p>方法3：定位中：只要posiiton的值不是 static或者是relative即可，可以是<code>absolute</code>或<code>fixed</code>，也就生成了一个BFC。</p></li><li><p>方法4：display为inline-block, table-cell, table-caption, flex, inline-flex</p></li></ul><p>参考链接：</p><ul><li><p><a href=https://segmentfault.com/a/1190000006740129>BFC原理详解</a></p></li><li><p><a href=https://www.jianshu.com/p/bf927bc1bed4>BFC详解</a></p></li><li><p><a href=https://www.cnblogs.com/lhb25/p/inside-block-formatting-ontext.html>前端精选文摘：BFC 神奇背后的原理</a></p></li></ul><p>下面来看几个例子，看看如何生成BFC。</p><h3 id=bfc-的应用>BFC 的应用<a hidden class=anchor aria-hidden=true href=#bfc-的应用>#</a></h3><p>**举例1：**解决 margin 重叠</p><p>当父元素和子元素发生 margin 重叠时，解决办法：<strong>给子元素或父元素创建BFC</strong>。</p><p>比如说，针对下面这样一个 div 结构：</p><div class=highlight><div style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>&lt;<span style=font-weight:700>div</span> <span style=color:#007f7f>class</span>=<span style=color:#0ff;font-weight:700>&#34;father&#34;</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=font-weight:700>p</span> <span style=color:#007f7f>class</span>=<span style=color:#0ff;font-weight:700>&#34;son&#34;</span>&gt;
</span></span><span style=display:flex><span>    &lt;/<span style=font-weight:700>p</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=font-weight:700>div</span>&gt;
</span></span></code></pre></td></tr></table></div></div><p>上面的div结构中，如果父元素和子元素发生margin重叠，我们可以给子元素创建一个 BFC，就解决了：</p><div class=highlight><div style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">4
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>&lt;<span style=font-weight:700>div</span> <span style=color:#007f7f>class</span>=<span style=color:#0ff;font-weight:700>&#34;father&#34;</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=font-weight:700>p</span> <span style=color:#007f7f>class</span>=<span style=color:#0ff;font-weight:700>&#34;son&#34;</span> <span style=color:#007f7f>style</span>=<span style=color:#0ff;font-weight:700>&#34;overflow: hidden&#34;</span>&gt;
</span></span><span style=display:flex><span>    &lt;/<span style=font-weight:700>p</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=font-weight:700>div</span>&gt;
</span></span></code></pre></td></tr></table></div></div><p>因为<strong>第二条：BFC区域是一个独立的区域，不会影响外面的元素</strong>。</p><p><strong>举例2</strong>：BFC区域不与float区域重叠：</p><p>针对下面这样一个div结构；</p><div class=highlight><div style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">12
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">13
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">14
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">15
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">16
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">17
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">18
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">19
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">20
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">21
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">22
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">23
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">24
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">25
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">26
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">27
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">28
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">29
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">30
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">31
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">32
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">33
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">34
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">35
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">36
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">37
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">38
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span><span style=color:#0f0;font-weight:700>&lt;!DOCTYPE html&gt;</span>
</span></span><span style=display:flex><span>&lt;<span style=font-weight:700>html</span> <span style=color:#007f7f>lang</span>=<span style=color:#0ff;font-weight:700>&#34;en&#34;</span>&gt;
</span></span><span style=display:flex><span>&lt;<span style=font-weight:700>head</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=font-weight:700>meta</span> <span style=color:#007f7f>charset</span>=<span style=color:#0ff;font-weight:700>&#34;UTF-8&#34;</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=font-weight:700>title</span>&gt;Document&lt;/<span style=font-weight:700>title</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=font-weight:700>style</span>&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        .father-layout {
</span></span><span style=display:flex><span>            <span style=color:#fff;font-weight:700>background</span>: <span style=color:#fff;font-weight:700>pink</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        .father-layout .left {
</span></span><span style=display:flex><span>            <span style=color:#fff;font-weight:700>float</span>: <span style=color:#fff;font-weight:700>left</span>;
</span></span><span style=display:flex><span>            <span style=color:#fff;font-weight:700>width</span>: <span style=color:#ff0;font-weight:700>100</span><span style=color:#fff;font-weight:700>px</span>;
</span></span><span style=display:flex><span>            <span style=color:#fff;font-weight:700>height</span>: <span style=color:#ff0;font-weight:700>100</span><span style=color:#fff;font-weight:700>px</span>;
</span></span><span style=display:flex><span>            <span style=color:#fff;font-weight:700>background</span>: <span style=color:#fff;font-weight:700>green</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        .father-layout .right {
</span></span><span style=display:flex><span>            <span style=color:#fff;font-weight:700>height</span>: <span style=color:#ff0;font-weight:700>150</span><span style=color:#fff;font-weight:700>px</span>;  <span style=color:#007f7f>/*右侧标准流里的元素，比左侧浮动的元素要高*/</span>
</span></span><span style=display:flex><span>            <span style=color:#fff;font-weight:700>background</span>: <span style=color:#fff;font-weight:700>red</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    &lt;/<span style=font-weight:700>style</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=font-weight:700>head</span>&gt;
</span></span><span style=display:flex><span>&lt;<span style=font-weight:700>body</span>&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>&lt;<span style=font-weight:700>section</span> <span style=color:#007f7f>class</span>=<span style=color:#0ff;font-weight:700>&#34;father-layout&#34;</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=font-weight:700>div</span> <span style=color:#007f7f>class</span>=<span style=color:#0ff;font-weight:700>&#34;left&#34;</span>&gt;
</span></span><span style=display:flex><span>        左侧，生命壹号
</span></span><span style=display:flex><span>    &lt;/<span style=font-weight:700>div</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=font-weight:700>div</span> <span style=color:#007f7f>class</span>=<span style=color:#0ff;font-weight:700>&#34;right&#34;</span>&gt;
</span></span><span style=display:flex><span>        右侧，smyhvae，smyhvae，smyhvae，smyhvae，smyhvae，smyhvae，smyhvae，smyhvae，smyhvae，smyhvae，smyhvae，smyhvae，
</span></span><span style=display:flex><span>    &lt;/<span style=font-weight:700>div</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=font-weight:700>section</span>&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>&lt;/<span style=font-weight:700>body</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=font-weight:700>html</span>&gt;
</span></span></code></pre></td></tr></table></div></div><p>效果如下：</p><p><img loading=lazy src=http://img.smyhvae.com/20180306_0825.png alt></p><p>上图中，由于右侧标准流里的元素，比左侧浮动的元素要高，导致右侧有一部分会跑到左边的下面去。</p><p><strong>如果要解决这个问题，可以将右侧的元素创建BFC</strong>，因为<strong>第三条：BFC区域不与<code>float box</code>区域重叠</strong>。解决办法如下：（将right区域添加overflow属性）</p><div class=highlight><div style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>    &lt;<span style=font-weight:700>div</span> <span style=color:#007f7f>class</span>=<span style=color:#0ff;font-weight:700>&#34;right&#34;</span> <span style=color:#007f7f>style</span>=<span style=color:#0ff;font-weight:700>&#34;overflow: hidden&#34;</span>&gt;
</span></span><span style=display:flex><span>        右侧，smyhvae，smyhvae，smyhvae，smyhvae，smyhvae，smyhvae，smyhvae，smyhvae，smyhvae，smyhvae，smyhvae，smyhvae，
</span></span><span style=display:flex><span>    &lt;/<span style=font-weight:700>div</span>&gt;
</span></span></code></pre></td></tr></table></div></div><p><img loading=lazy src=http://img.smyhvae.com/20180306_0827.png alt></p><p>上图表明，解决之后，<code>father-layout</code>的背景色显现出来了，说明问题解决了。</p><p>**举例3：**清除浮动</p><p>现在有下面这样的结构：</p><div class=highlight><div style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 1
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 2
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 3
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 4
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 5
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 6
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 7
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 8
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272"> 9
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">10
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">11
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">12
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">13
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">14
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">15
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">16
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">17
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">18
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">19
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">20
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">21
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">22
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">23
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">24
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">25
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">26
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">27
</span><span style="white-space:pre;user-select:none;margin-right:.4em;padding:0 .4em;color:#727272">28
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#e5e5e5;background-color:#000;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span><span style=color:#0f0;font-weight:700>&lt;!DOCTYPE html&gt;</span>
</span></span><span style=display:flex><span>&lt;<span style=font-weight:700>html</span> <span style=color:#007f7f>lang</span>=<span style=color:#0ff;font-weight:700>&#34;en&#34;</span>&gt;
</span></span><span style=display:flex><span>&lt;<span style=font-weight:700>head</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=font-weight:700>meta</span> <span style=color:#007f7f>charset</span>=<span style=color:#0ff;font-weight:700>&#34;UTF-8&#34;</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=font-weight:700>title</span>&gt;Document&lt;/<span style=font-weight:700>title</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=font-weight:700>style</span>&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        .father {
</span></span><span style=display:flex><span>            <span style=color:#fff;font-weight:700>background</span>: <span style=color:#fff;font-weight:700>pink</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        .son {
</span></span><span style=display:flex><span>            <span style=color:#fff;font-weight:700>float</span>: <span style=color:#fff;font-weight:700>left</span>;
</span></span><span style=display:flex><span>            <span style=color:#fff;font-weight:700>background</span>: <span style=color:#fff;font-weight:700>green</span>;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    &lt;/<span style=font-weight:700>style</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=font-weight:700>head</span>&gt;
</span></span><span style=display:flex><span>&lt;<span style=font-weight:700>body</span>&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>&lt;<span style=font-weight:700>section</span> <span style=color:#007f7f>class</span>=<span style=color:#0ff;font-weight:700>&#34;father&#34;</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=font-weight:700>div</span> <span style=color:#007f7f>class</span>=<span style=color:#0ff;font-weight:700>&#34;son&#34;</span>&gt;
</span></span><span style=display:flex><span>        生命壹号
</span></span><span style=display:flex><span>    &lt;/<span style=font-weight:700>div</span>&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>&lt;/<span style=font-weight:700>section</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=font-weight:700>body</span>&gt;
</span></span><span style=display:flex><span>&lt;/<span style=font-weight:700>html</span>&gt;
</span></span></code></pre></td></tr></table></div></div><p>效果如下：</p><p><img loading=lazy src=http://img.smyhvae.com/20180306_0840.png alt></p><p>上面的代码中，儿子浮动了，但由于父亲没有设置高度，导致看不到父亲的背景色（此时父亲的高度为0）。正所谓<strong>有高度的盒子，才能关住浮动</strong>。</p><p>如果想要清除浮动带来的影响，方法一是给父亲设置高度，然后采用隔墙法。方法二是 BFC：给父亲增加 <code>overflow=hidden</code>属性即可， 增加之后，效果如下：</p><p><img loading=lazy src=http://img.smyhvae.com/20180306_0845.png alt></p><p>为什么父元素成为BFC之后，就有了高度呢？这就回到了<strong>第四条：计算BFC的高度时，浮动元素也参与计算</strong>。意思是，<strong>在计算BFC的高度时，子元素的float box也会参与计算</strong>。</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://bablvsj.github.io/tags/%E9%9D%A2%E8%AF%95%E6%8A%80%E5%B7%A7/>面试技巧</a></li></ul><nav class=paginav><a class=prev href=https://bablvsj.github.io/posts/temp/14-%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95/handwritten-code/><span class=title>« Prev</span><br><span>手写代码</span></a>
<a class=next href=https://bablvsj.github.io/posts/temp/14-%E5%89%8D%E7%AB%AF%E9%9D%A2%E8%AF%95/03-dom%E4%BA%8B%E4%BB%B6%E7%9A%84%E6%80%BB%E7%BB%93/><span class=title>Next »</span><br><span>DOM事件的总结</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2023 <a href=https://bablvsj.github.io>Bablvsj's Blog</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span><div class=flex-c-d><a class=flex-d-c href="https://www.upyun.com/?utm_source=lianmeng&utm_medium=referral" target=_blank><span>本站由</span><img width=60 src=/images/upyun.png>提供CDN加速/云存储服务</a></div></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>