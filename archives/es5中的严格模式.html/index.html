<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="Hugo 0.108.0">

  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="toTop" content="true">
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="author" content="" />
  <meta property="og:url" content="https://bablvsj.github.io/archives/es5%E4%B8%AD%E7%9A%84%E4%B8%A5%E6%A0%BC%E6%A8%A1%E5%BC%8F.html/" />
  <link rel="canonical" href="https://bablvsj.github.io/archives/es5%E4%B8%AD%E7%9A%84%E4%B8%A5%E6%A0%BC%E6%A8%A1%E5%BC%8F.html/" /><link rel="apple-touch-icon" href="https://cdn.zburu.com/favicon.ico" />
  <link rel="icon" href="https://cdn.zburu.com/favicon.ico" />
  <link rel="shortcut" href="https://cdn.zburu.com/favicon.ico" /><link rel="alternate" type="application/atom+xml" href="https://bablvsj.github.io/index.xml" title="Lvsj&#39;s blog">

  <script type="application/ld+json">
  {
      "@context" : "http://schema.org",
      "@type" : "BlogPosting",
      "mainEntityOfPage": {
           "@type": "WebPage",
           "@id": "https:\/\/bablvsj.github.io\/"
      },
      "articleSection" : "posts",
      "name" : "ES5中的严格模式",
      "headline" : "ES5中的严格模式",
      "description" : "ES 的几个重要版本 ES5 : 09 年发布。 ES6(ES2015) : 2015 年发布，也称为 ECMA2015。 ES7(ES2016) : 2016 年发布，也称为 ECMA2016 (变化不大)。 严格模式的理解 概念 理解：除了正常运行",
      "inLanguage" : "en-US",
      "author" : "",
      "creator" : "",
      "publisher": "",
      "accountablePerson" : "",
      "copyrightHolder" : "",
      "copyrightYear" : "2022",
      "datePublished": "2022-11-22 17:11:35 \u002b0800 CST",
      "dateModified" : "2022-11-22 17:11:35 \u002b0800 CST",
      "url" : "https:\/\/bablvsj.github.io\/archives\/es5%E4%B8%AD%E7%9A%84%E4%B8%A5%E6%A0%BC%E6%A8%A1%E5%BC%8F.html\/",
      "keywords" : [  ]
  }
</script><title>ES5中的严格模式 - Lvsj&#39;s blog</title>
  <meta property="og:title" content="ES5中的严格模式" />
  <meta property="og:type" content="article" />
  <meta property="og:description" content="ES 的几个重要版本 ES5 : 09 年发布。 ES6(ES2015) : 2015 年发布，也称为 ECMA2015。 ES7(ES2016) : 2016 年发布，也称为 ECMA2016 (变化不大)。 严格模式的理解 概念 理解：除了正常运行" />
  <meta name="description" content="ES 的几个重要版本 ES5 : 09 年发布。 ES6(ES2015) : 2015 年发布，也称为 ECMA2015。 ES7(ES2016) : 2016 年发布，也称为 ECMA2016 (变化不大)。 严格模式的理解 概念 理解：除了正常运行" />
  <meta property="og:locale" content="zh-CN" /><meta property="og:image" content="https://cdn.zburu.com/favicon.ico" />
  

  <link rel="stylesheet" href="/css/simplebox.min.css">
  <link rel="stylesheet" href="/css/index.css">
  <link href="/index.xml" rel="alternate" type="application/rss+xml"
    title="Lvsj&#39;s blog">
  <script src="https://hm.baidu.com/hm.js?5f4839173d00c8b0d3dd40533d14450d"></script>
</head>

<body>
  <header>
    <div class="header-item">
      <a href="/" class="header-title">
        <img src="https://cdn.zburu.com/author.png" alt="logo">
        <span>Lvsj&#39; blog</span>
      </a>
      <div class="header-subtitle">等风来，不如追云去。</div>
    </div>
    <div class="menu-btn">菜单</div>
    <div class="opacity"></div>
    <div class="sticky">
      <div class="header-item">
        
        <ul id="navi">
          <li>
            <a href="/">首页</a>
          </li>
          
          <li>
            <a href="/posts">归档</a>
          </li>
          
          <li>
            <a href="/weekly">周刊</a>
          </li>
          
          <li>
            <a href="/about">关于</a>
          </li>
          
          <li>
            <a href="/message">留言</a>
          </li>
          
        </ul>
      </div>
    </div>
  </header>
<article>
  <div class="post-box">
    <div class="post-header">
      <h1 class="post-title">ES5中的严格模式</h1>
      
    </div>
    <div class="post-content markdown-body">
      <div class="autoMenu" id="autoMenu" data-autoMenu></div>
      
      <h2 id="es-的几个重要版本">ES 的几个重要版本</h2>
<ul>
<li>
<p>ES5 : 09 年发布。</p>
</li>
<li>
<p>ES6(ES2015) : 2015 年发布，也称为 ECMA2015。</p>
</li>
<li>
<p>ES7(ES2016) : 2016 年发布，也称为 ECMA2016 (变化不大)。</p>
</li>
</ul>
<h2 id="严格模式的理解">严格模式的理解</h2>
<h3 id="概念">概念</h3>
<p><strong>理解</strong>：除了正常运行模式(混杂模式)，ES5 添加了第二种运行模式：&ldquo;严格模式&rdquo;（strict mode）。</p>
<p>顾名思义，这种模式使得 Javascript 在更严格的语法条件下运行。</p>
<p><strong>目的</strong>：</p>
<ul>
<li>
<p>消除 Javascript 语法的一些不合理、不严谨之处，减少一些怪异行为</p>
</li>
<li>
<p>消除代码运行的一些不安全之处，为代码的安全运行保驾护航</p>
</li>
<li>
<p>为未来新版本的 Javascript 做好铺垫</p>
</li>
</ul>
<h3 id="使用">使用</h3>
<ul>
<li>
<p>针对整个脚本文件：将<code>use strict</code>放在脚本文件的第一行，则整个脚本文件将以严格模式运行。</p>
</li>
<li>
<p>针对单个函数：将<code>use strict</code>放在函数体的第一行，则整个函数以严格模式运行。</p>
</li>
</ul>
<p>PS：如果浏览器不支持，则这句话只解析为一条简单的语句, 没有任何副作用。</p>
<p>脚本文件的变通写法：因为第一种调用方法不利于文件合并，所以更好的做法是，借用第二种方法，将整个脚本文件放在一个立即执行的匿名函数之中。</p>
<h3 id="语法和行为改变">语法和行为改变</h3>
<ul>
<li>
<p>必须用 var 声明变量</p>
</li>
<li>
<p>禁止自定义的函数中的 this 指向 window</p>
</li>
<li>
<p>创建 eval 作用域</p>
</li>
<li>
<p>对象不能有重名的属性</p>
</li>
</ul>
<h2 id="严格模式和普通模式的区别">严格模式和普通模式的区别</h2>
<blockquote>
<p>下面列举几条严格模式的内容。</p>
</blockquote>
<h3 id="全局变量显式声明">全局变量显式声明</h3>
<p>在正常模式中，如果一个变量没有声明就赋值，默认是全局变量。严格模式禁止这种用法，全局变量必须显式声明。</p>
<h3 id="禁止-this-关键字指向全局对象">禁止 this 关键字指向全局对象：</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="kd">var</span> <span class="nx">foo</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="p">};</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nx">foo</span><span class="p">();</span>
</span></span></code></pre></div><p>上方代码中，普通模式打印的是 window。严格模式下打印的是 undefined。</p>
<h3 id="创设-eval-作用域">创设 eval 作用域</h3>
<h3 id="禁止使用-with-语句">禁止使用 with 语句</h3>
<p>因为 with 语句无法在编译时就确定，属性到底归属哪个对象。</p>
<h3 id="构造函数必须通过-new-实例化对象">构造函数必须通过 new 实例化对象</h3>
<p>构造函数必须通过 new 实例化对象，否则报错。因为 this 为 undefined，此时无法设置属性。</p>
<p>比如说：</p>
<pre tabindex="0"><code>        var Cat = function (name) {
            this.name = name;
        }

        Cat(&#39;haha&#39;);
</code></pre><p>上方代码中，如果在严格模式下，则会报错。</p>
<h3 id="为了让代码更安全禁止函数内部遍历调用栈">为了让代码更安全，禁止函数内部遍历调用栈</h3>
<h3 id="严格模式下无法删除变量">严格模式下无法删除变量</h3>
<h3 id="属性相关">属性相关</h3>
<p>普通模式下，对一个对象的只读属性进行赋值，不会报错，只会默默地失败。严格模式下，将报错。</p>
<p>严格模式下，对禁止扩展的对象添加新属性，会报错。</p>
<p>普通模式下，如果对象有多个重名属性，最后赋值的那个属性会覆盖前面的值。严格模式下，这属于语法错误。</p>
<p>普通模式下，如果函数有多个重名的参数，可以用 arguments[i]读取。严格模式下，多个重名的参数属于语法错误。</p>
<p>比如下面这样的代码：</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl">	<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">		<span class="nx">username</span><span class="o">:</span> <span class="s1">&#39;smyh&#39;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl">		<span class="nx">username</span><span class="o">:</span> <span class="s1">&#39;vae&#39;</span>
</span></span><span class="line"><span class="cl">	<span class="p">}</span>
</span></span></code></pre></div><p>上面的代码，在严格模式下属于语法错误，因为有重名的属性。</p>
<h3 id="函数必须声明在顶层">函数必须声明在顶层</h3>
<p>将来 Javascript 的新版本会引入&quot;块级作用域&quot;。为了与新版本接轨，严格模式只允许在全局作用域或函数作用域的顶层声明函数。也就是说，不允许在非函数的代码块内声明函数。</p>
<h3 id="新增关键字">新增关键字</h3>
<p>为了向将来 Javascript 的新版本过渡，严格模式新增了一些保留字：implements, interface, let, package, private, protected, public, static, yield。</p>
<h2 id="总结">总结</h2>
<p>至少要能答出四五条。</p>
<p>参考链接：</p>
<ul>
<li><a href="http://www.ruanyifeng.com/blog/2013/01/javascript_strict_mode.html">阮一峰 | Javascript 严格模式详解</a></li>
</ul>

    </div>

    
    
  </div>
  <div class="footer">
  <div>
    © 2022-<span id="year"></span> 
    
    · 网站运行: <span id="days">0</span> 天
  </div>
  <div class="utool">
    <div class="item totop">
      <span>top</span>
    </div>
  </div>
</div>
<script>
  var s0 = '2022-12-15';
  s1 = new Date(s0.replace(/-/g, "/"));
  s2 = new Date();
  var days = s2.getTime() - s1.getTime();
  var number_of_days = parseInt(days / (1000 * 60 * 60 * 24));
  document.getElementById('days').innerHTML = number_of_days;

  var date = new Date;
  var year = date.getFullYear();
  document.getElementById('year').innerHTML = year;
</script>
</article>

<script src="/js/jquery3.6.0.min.js"></script>
<script src="/js/toc.js"></script>
<script src="/js/simplebox.min.js"></script>
<script src="/js/main.js"></script>


</body>

</html>